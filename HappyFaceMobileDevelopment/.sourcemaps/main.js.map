{"version":3,"sources":["../../src/data/DataModel.ts","../../src/pages/modals/ssh/pass-modal.ts","../../src/pages/analyzer/hf-classical/ClassicalDataModel.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/monitoring/monitoring.ts","../../src/pages/modals/error/connection-error.ts","../../src/pages/monitoring/monitoring-webview.ts","../../src/pages/modals/config/modal.ts","../../src/pages/modals/config/instances.browser.component.ts","../../src/pages/modals/config/instances.component.ts","../../src/pages/modals/about/about.ts","../../src/pages/controller/controller.ts","../../src/pages/controller/controller-detail.ts","../../src/pages/modals/ssh/SSH3-Wrapper.ts","../../src/pages/modals/ssh/Crypt.ts","../../src/pages/modals/ssh/ssh-terminal.ts","../../src/pages/logs/logs.ts","../../src/pages/visualizers/visualizers.ts","../../src/pages/humans/humans.ts","../../src/pages/working/working.ts","../../src/pages/analyzer/analyzer.ts","../../src/pages/analyzer/hf-classical/hf-categories.ts","../../src/pages/analyzer/hf-classical/hf-modules.ts","../../src/pages/analyzer/analyzer-detail.ts","../../src/pages/home/home.ts","../../src/pages/home/home-detail-image.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/data/SearchData.ts","../../src/pages/modals/ssh/Terminal3.ts","../../src/pages/modals/ssh/exterm.js","../../src/pages/home/Positions.ts","../../src/directives/position/Position.ts","../../src/pages/modals/config/config.ts","../../src/pages/tour/tour.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAyC;AACe;AACjB;AACoC;AACnC;AAGjC,IAAI,YAAY,GAAU,CAAC,CAAC;AAGnC,IAAa,SAAS,iBAAtB;IAqDI,YAAoB,GAAY,EAAU,OAAe,EAAU,SAA0B;QAAzE,QAAG,GAAH,GAAG,CAAS;QAAU,YAAO,GAAP,OAAO,CAAQ;QAAU,cAAS,GAAT,SAAS,CAAiB;QAlB7F,2GAA2G;QAC3G,sFAAsF;QACtF,gCAAgC;QAEhC,WAAM,GAAgB,IAAI,CAAC;QAC3B,mBAAc,GAAQ,IAAI,CAAC;QAC3B,YAAO,GAAe,IAAI,CAAC;QAC3B,YAAO,GAAe,IAAI,CAAC;QAC3B,gBAAW,GAAW,IAAI,CAAC;QAC3B,SAAI,GAAkB,IAAI,CAAC;QAC3B,WAAM,GAAgB,IAAI,CAAC;QAC3B,aAAQ,GAAc,IAAI,CAAC;QAE3B,mEAAmE;QACnE,oBAAe,GAAmB,IAAI,cAAc,EAAE,CAAC;QAEvD,kBAAa,GAA0B,IAAI,mBAAmB,EAAE,CAAC;QAWjE,aAAa;QACb;;;;;;;;;;;YAWI;QAEJ,aAAa;QACb;;;;;;;WAOG;QAEH;;;;;;;;;;;;;WAaG;QAEH,4BAA4B;QACpB,6BAAwB,GAAoB,EAAE,CAAC;QAC/C,4BAAuB,GAAqB,EAAE,CAAC;QAC/C,YAAO,GAAW,KAAK,CAAC;QACxB,kBAAa,GAAW,KAAK,CAAC;QAgBtC;;;;;;;;;;;;;;;;;;;;;;;;;WAyBG;QAEH,WAAM,GAAS,EAAE,CAAC;QAoMV,cAAS,GAAU,UAAU,CAAC;QAyFtC,OAAO;QACP,gBAAW,GAAU,IAAI,CAAC;QAC1B,gBAAW,GAAU,CAAC,CAAC;QA7XnB,YAAY,EAAE,CAAC;QACf,OAAO,CAAC,GAAG,CAAC,8BAA8B,GAAG,YAAY,CAAC,CAAC;QAC3D,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;YACtB,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IA+CD,0BAA0B,CAAC,QAAoB,IAAI,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAClG,6BAA6B,CAAC,QAAoB;QAC9C,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,QAAQ,CAAC,CAAC;IAClG,CAAC;IAED,yBAAyB,CAAC,QAAoB,IAAK,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACjG,4BAA4B,CAAC,QAAoB;QAC7C,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,QAAQ,CAAC,CAAC;IAChG,CAAC;IAED,SAAS,KAAK,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAEpC,eAAe,KAAK,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;IA+BhD,MAAM;QAEF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,uBAAuB,CAAC,MAAM,EAAE,CAAC,EAAE,EAClE,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACtC,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,EAAE,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,GAAG,GAAG,GAAG,WAAS,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACjI,CAAC;IAED,WAAW,CAAC,OAAW,EAAE,UAAiB;QAEtC,EAAE,EAAC,UAAU,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,KAAK,EAAG,IAAI,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,GAAG,GAAG,GAAG,WAAS,CAAC,UAAU,EAAE,MAAM,EAAG,UAAU,EAAC,CAAC,CAAC;YAC7H,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC,EAAE,EACnE,CAAC;gBACG,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;gBACzC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,CAAC;YACvC,CAAC;YACD,MAAM,CAAC;QACX,CAAC;QACD,IAAI,IAAI,GAAY,CAAE,WAAS,CAAC,kBAAkB,EAAE,WAAS,CAAC,WAAW,EAAE,WAAS,CAAC,eAAe;YAChG,WAAS,CAAC,QAAQ,EAAE,WAAS,CAAC,UAAU,EAAE,WAAS,CAAC,cAAc,EAAE,WAAS,CAAC,WAAW,EAAE,WAAS,CAAC,YAAY,CAAE,CAAC;QACxH,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAC1C,CAAC;YACG,EAAE,EAAC,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,WAAW,CAAC;gBAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAChG,IAAI;gBAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,GAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,MAAM,GAAE,CAAC,CAAC;oBAChF,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3E,CAAC;QACD,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACpE,CAAC;IAED,iBAAiB,CAAC,IAAa,EAAE,QAAyD;QAEtF,IAAI,OAAO,GAAS,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,WAAW,GAAY,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAClD,IAAI,gBAAgB,GAAU,IAAI,CAAC,MAAM,CAAC;QAE1C,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAC1C,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;YAC/B,GAAG,CAAC,kBAAkB,GAAG,CAAC,UAAU,CAAC,EAAE,GAAG;gBACtC,MAAM,CAAC;oBACH,EAAE,EAAC,GAAG,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC;wBACrB,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,QAAQ,CAAC;wBAC1B,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC;wBAC5B,gBAAgB,EAAE,CAAC;wBACnB,EAAE,EAAC,gBAAgB,IAAI,CAAC,CAAC;4BAAC,QAAQ,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;oBAC7D,CAAC;gBACL,CAAC,CAAC;YACN,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YACX,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;YAC/B,GAAG,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;IACL,CAAC;IAED,iBAAiB,CAAC,SAAe,EAAE,WAAoB;QAEnD,+CAA+C;QAC/C,mEAAmE;QACnE,0BAA0B;QAE1B,iDAAiD;QACjD,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC;YACrC,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,mBAAmB,EAAE,uBAAuB,CAAC,CAAC,OAAO,CAAC,gBAAgB,EAAE,oBAAoB,CAAC,CAAC;QAEtI,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACzE,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,kBAAkB,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAElG,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAClE,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAEpF,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,eAAe,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAE5F,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAE9E,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAElF,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAE7F,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QAClE,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAAC,CAAC;QAEpF,EAAE,EAAC,WAAW,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAS,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC;QAAA,CAAC;QAEpF,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;QAE5C,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,CACtB,CAAC;YACG,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,SAAS,EAAE,CAAC;QACrB,CAAC;QAED,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC,EAAE,EACnE,CAAC;YACG,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;YACzC,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,CAAC;QACvC,CAAC;QAED,IAAI,CAAC,GAAG,IAAI,+DAAU,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC,UAAU,EAAE,CAAC;IACnB,CAAC;IAED,yBAAyB;IACzB,aAAa,CAAC,GAAU,EAAE,QAAkD;QAExE,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC;QAC/B,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,GAAG,CAAC,kBAAkB,GAAG;YACrB,EAAE,EAAC,GAAG,CAAC,UAAU,IAAI,CAAC,CAAC,CACvB,CAAC;gBACG,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACvC,CAAC;QACL,CAAC,CAAC;QACF,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC3B,GAAG,CAAC,IAAI,EAAE,CAAC;IACf,CAAC;IAED,0CAA0C;IAC1C,YAAY,CAAC,GAAU;QAEnB,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,CAAC;QAC/B,IAAI,MAAM,GAAO,IAAI,CAAC;QACtB,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,GAAG,CAAC,kBAAkB,GAAG;YACrB,EAAE,EAAC,GAAG,CAAC,UAAU,IAAI,CAAC,CAAC,CACvB,CAAC;gBACG,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtC,CAAC;QACL,CAAC,CAAC;QACF,GAAG,CAAC,OAAO,GAAG,GAAG,EAAE,GAAG,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,EAAC,CAAC;QAC/E,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;QAC5B,GAAG,CAAC,IAAI,EAAE,CAAC;QACX,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,SAAS;QAEL,IAAI,MAAM,GAAW,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,cAAc,CAAC;QAC7D,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;QAC5C,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QACjC,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,iGAAmB,EACnD,EAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,WAAW;YACzE,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,QAAQ,EAAG,IAAI,CAAC,MAAM,EAAC,CAAC,CAAC;QACzE,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;YACtB,EAAE,EAAC,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,SAAS,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBACrG,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;gBACtC,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;gBAC3C,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;gBAC9C,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;gBAC7C,EAAE,EAAC,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC;oBACxD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC3D,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;YACjD,CAAC;QACL,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,UAAU;IACV,YAAY;QAER,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,mBAAmB,CAAC;YAC5C,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,GAAG,GAAG,SAAS,CAAC;QACzG,IAAI;YACA,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,GAAG,CAAC;IACpG,CAAC;IAED,SAAS,CAAC,GAAU;QAEhB,MAAM,CAAC,IAAI,MAAM,CAAC,wBAAwB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC1D,CAAC;IAED,SAAS,CAAC,OAAc,EAAE,IAAW;QAEjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,KAAK,EAAG,IAAI,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,GAAG,GAAG,GAAG,OAAO,EAAE,MAAM,EAAG,IAAI,EAAC,CAAC;IAC7G,CAAC;IAID,QAAQ,CAAC,YAAY;QACjB,EAAE,EAAC,CAAC,IAAI,CAAC,MAAM,CAAC;YAAC,MAAM,CAAC;QACxB,gDAAgD;QAChD,IAAI,UAAU,GAAU,IAAI,CAAC,YAAY,EAAE,CAAC;QAC5C,IAAI,MAAM,GAAO,IAAI,CAAC,MAAM,CAAC;QAE7B,IAAI,WAAW,GAAU,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtD,IAAI,aAAa,GAAU,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC;QAC1D,IAAI,YAAY,GAAU,MAAM,CAAC,QAAQ,GAAG,WAAW,CAAC;QACxD,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;YAC3C,WAAW,GAAG,YAAY,GAAG,YAAY,CAAC;YAC1C,aAAa,GAAG,YAAY,GAAG,sBAAsB,CAAC;QAC1D,CAAC;QACD,IAAI,iBAAiB,GAAU,YAAY,GAAG,uBAAuB,CAAC;QACtE,IAAI,gBAAgB,GAAU,YAAY,GAAG,sBAAsB,CAAC;QAEpE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC1D,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAClE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;oBACvD,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBACrF,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBACjF,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBACzF,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBACxF,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,GAAG,UAAU,GAAG,4BAA4B,CAAC;gBACpG,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,UAAU,GAAG,aAAa,GAAG,GAAG,GAAG,YAAY,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACvJ,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,GAAG,WAAW,GAAG,GAAG,GAAG,YAAY,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACjJ,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,UAAU,GAAG,iBAAiB,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBAC1I,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,UAAU,GAAG,gBAAgB,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACxI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,GAAG,UAAU,GAAG,gBAAgB,GAAG,sBAAsB,CAAC;oBAE7G,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAClC,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,SAAgB;QACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACzD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;gBAChE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,EAAC;oBACtD,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBAC9B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,EAAE,CAAC,CAAC,SAAS,IAAI,UAAW,CAAC;wBAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;oBAC1H,EAAE,CAAC,CAAC,SAAS,IAAI,SAAU,CAAC;wBAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;oBACxH,EAAE,CAAC,CAAC,SAAS,IAAI,iBAAkB,CAAC;wBAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC;gBAC5I,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAGD,YAAY;QAER,EAAE,EAAC,IAAI,CAAC,aAAa,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC;YAAC,MAAM,CAAC;QAC3F,EAAE,EAAC,IAAI,CAAC,aAAa,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,SAAS,CAAC;YAAC,MAAM,CAAC;QAC1G,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC;YAE5C,EAAE,EAAC,IAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC,CACpC,CAAC;gBACG,EAAE,EAAO,MAAO,CAAC,GAAG,IAAI,IAAI,IAAU,MAAO,CAAC,GAAG,IAAI,SAAS,CAAC,CAC/D,CAAC;oBACG,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;oBAC1B,MAAO,CAAC,GAAG,CAAC,KAAK,CAAC;wBACpB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI;wBACvB,MAAM,EAAE,OAAO;wBACf,IAAI,EAAE,IAAI;qBACb,CAAC;gBACN,CAAC;gBACD,IAAI;oBAAC,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;YAC9D,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,IAAI,CAAC;oBAAC,IAAI,wBAAwB,EAAE,CAAC;gBAAC,CAAC;gBACvC,KAAK,EAAC,KAAK,CAAC,CAAC,CAAC;oBACV,OAAO,CAAC,GAAG,CAAC,wHAAwH,CAAC,CAAC;oBACtI,MAAM,CAAC;gBACX,CAAC;gBACD,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;gBAC9C,IAAI,CAAC,GAAG,IAAI,wBAAwB,EAAE,CAAC;gBACvC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC3B,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;gBACjB,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC;QACL,CAAC;IACL,CAAC;IAOD,QAAQ;QAEJ,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,cAAc,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,CACxF,CAAC;YACG,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE;gBAEvC,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,8EAA8E;gBAC9E,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,cAAc,IAAI,CAAC,CAAC,CAAC;oBAC5G,IAAI,CAAC,MAAM,EAAE,CAAC;gBAElB,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC;oBAC9G,IAAI,CAAC,YAAY,EAAE,CAAC;YAE5B,CAAC,EAAE,KAAK,CAAC,CAAC;QACd,CAAC;IACL,CAAC;IAED,UAAU;QAEN,EAAE,EAAC,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC;YAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9D,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAChC,CAAC;IAED,wBAAwB;IACxB,wBAAwB;QAEpB,8BAA8B;QAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cA+BM;QAEN,EAAE,EAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CACrB,CAAC;YACG,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACrD,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACrD,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACxD,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YACrD,IAAI,CAAC,eAAe,CAAC,GAAG,GAAG,eAAe,CAAC;YAE3C,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;YAE/F,IAAI,CAAC,MAAM,EAAE,CAAC;QAClB,CAAC;QACD,IAAI,CAAC,CAAC;YACF,wBAAwB;YACxB,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,SAAS,CAAC;YACtC,IAAI,CAAC,eAAe,CAAC,IAAI,GAAG,cAAc,CAAC;YAC3C,IAAI,CAAC,eAAe,CAAC,WAAW,GAAG,OAAO,CAAC;YAC3C,IAAI,CAAC,eAAe,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxC,IAAI,CAAC,eAAe,CAAC,GAAG,GAAG,eAAe,CAAC;YAE3C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;gBACxC,EAAE,EAAC,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,CAAC;oBAAC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAEvE,OAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC7E,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAED,kBAAkB;IAClB,gGAAgG;IAChG,iFAAiF;IACjF,8IAA8I;IAE9I,kHAAkH;IAClH,aAAa;QAET,MAAM,CAAC,WAAS,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACjE,CAAC;IAED,0GAA0G;IAC1G,yIAAyI;IACzI,MAAM;QAEF,MAAM,CAAC,CAAC,CAAC,WAAS,CAAC,qBAAqB,CAAC;YACrC,CAAC,WAAS,CAAC,oBAAoB,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;IAC5F,CAAC;IAED,SAAS;QAEL,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IAED,KAAK;QAED,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,SAAS;QAEL,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;CA+BJ;AA7kBG,yBAAyB;AACzB,6CAA6C;AAC7C,oIAAoI;AACpI,oEAAoE;AAEpE,iBAAiB;AACV,8BAAoB,GAAW,KAAK,CAAC;AACrC,6BAAmB,GAAW,KAAK,CAAC;AACpC,+BAAqB,GAAW,KAAK,CAAC;AAC7C,yDAAyD;AACzD,sCAAsC;AAEtC,qBAAqB;AACrB,+CAA+C;AAC/C,+CAA+C;AAC/C,4CAA4C;AAC5C,+CAA+C;AAC/C,iDAAiD;AAEjD,YAAY;AACL,oBAAU,GAAU,aAAa,CAAC;AAClC,4BAAkB,GAAU,sBAAsB,CAAC;AACnD,qBAAW,GAAU,cAAc,CAAC;AACpC,yBAAe,GAAU,kBAAkB,CAAC;AAC5C,kBAAQ,GAAU,WAAW,CAAC;AAC9B,oBAAU,GAAU,aAAa,CAAC;AAClC,wBAAc,GAAU,gBAAgB,CAAC;AACzC,qBAAW,GAAU,2BAA2B,CAAC;AACjD,sBAAY,GAAU,4BAA4B,CAAC;AA9BjD,SAAS;IADrB,yEAAU,EAAE;qCAsDe,+DAAQ,EAAkB,+DAAO,EAAqB,sEAAe;GArDpF,SAAS,CA+kBrB;AA/kBqB;AAilBhB;IAAN;QAEI,WAAM,GAAU,EAAE,CAAC;QACnB,SAAI,GAAU,EAAE,CAAC;QACjB,cAAS,GAAU,EAAE,CAAC;QACtB,SAAI,GAAU,EAAE,CAAC;QACjB,QAAG,GAAU,EAAE,CAAC;QAChB,aAAQ,GAAU,EAAE,CAAC;QACrB,wBAAmB,GAAU,EAAE,CAAC;QAChC,mBAAc,GAAU,EAAE,CAAC;QAC3B,cAAS,GAAU,EAAE,CAAC;QACtB,oBAAe,GAAU,EAAE,CAAC;QAC5B,WAAM,GAAkB,EAAE,CAAC;IAC/B,CAAC;CAAA;AAAA;AAAA;AAEK;IAAN;QAEI,SAAI,GAAU,EAAE,CAAC;QACjB,UAAK,GAAU,EAAE,CAAC;QAClB,SAAI,GAAU,EAAE,CAAC;IACrB,CAAC;CAAA;AAAA;AAAA;AAEK;IAAN;QAEI,SAAI,GAAU,EAAE,CAAC,CAAC,YAAY;QAC9B,SAAI,GAAU,EAAE,CAAC,CAAC,iBAAiB;QACnC,aAAQ,GAAU,EAAE,CAAC,CAAC,UAAU;QAChC,gBAAW,GAAU,EAAE,CAAC,CAAC,UAAU;QACnC,QAAG,GAAU,EAAE,CAAC,CAAC,mCAAmC;QAEpD;;;;;;;;WAQG;IACP,CAAC;CAAA;AAAA;AAAA;AAEK;IAAN;QAEY,oBAAe,GAAW,KAAK,CAAC;QAChC,oBAAe,GAAU,EAAE,CAAC;QAC5B,uBAAkB,GAAW,KAAK,CAAC;QACnC,sBAAiB,GAAW,IAAI,CAAC;QACjC,qBAAgB,GAAW,IAAI,CAAC;QAChC,sBAAiB,GAAW,IAAI,CAAC;QACjC,uBAAkB,GAAW,KAAK,CAAC;QACnC,mBAAc,GAAU,EAAE,CAAC;QAC3B,yBAAoB,GAAW,KAAK,CAAC;IAyBjD,CAAC;IAvBG,GAAG;QACC,MAAM,CAAC;YACH,gBAAgB,EAAG,IAAI,CAAC,eAAe;YACvC,gBAAgB,EAAG,IAAI,CAAC,eAAe;YACvC,mBAAmB,EAAG,IAAI,CAAC,kBAAkB;YAC7C,kBAAkB,EAAG,IAAI,CAAC,iBAAiB;YAC3C,iBAAiB,EAAE,IAAI,CAAC,gBAAgB;YACxC,kBAAkB,EAAG,IAAI,CAAC,iBAAiB;YAC3C,mBAAmB,EAAG,IAAI,CAAC,kBAAkB;YAC7C,eAAe,EAAG,IAAI,CAAC,cAAc;YACrC,qBAAqB,EAAG,IAAI,CAAC,oBAAoB;SACpD;IACL,CAAC;IAED,iBAAiB,CAAC,KAAc,IAAG,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,EAAC;IACjE,iBAAiB,CAAC,KAAa,IAAG,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,EAAC;IAChE,oBAAoB,CAAC,KAAc,IAAG,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,EAAC;IACvE,mBAAmB,CAAC,KAAc,IAAG,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,EAAC;IACrE,kBAAkB,CAAC,KAAc,IAAG,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,EAAC;IACnE,mBAAmB,CAAC,KAAc,IAAG,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,EAAC;IACrE,oBAAoB,CAAC,KAAc,IAAG,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAC,CAAC;IACxE,gBAAgB,CAAC,KAAa,IAAG,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,EAAC;IAC9D,sBAAsB,CAAC,KAAc,IAAG,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC,EAAC;CAC9E;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACvqB4C;AACL;AACD;AACqB;AACH;AACP;AAMlD,IAAa,SAAS,GAAtB;IAiBI,YAAoB,QAAuB,EAAU,OAAe,EAAU,KAAe,EACzE,IAAS,EAAU,OAAmB;QADtC,aAAQ,GAAR,QAAQ,CAAe;QAAU,YAAO,GAAP,OAAO,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAU;QACzE,SAAI,GAAJ,IAAI,CAAK;QAAU,YAAO,GAAP,OAAO,CAAY;QAhB1D,UAAK,GAAW,KAAK,CAAC;QACtB,cAAS,GAAW,KAAK,CAAC;QAC1B,WAAM,GAAW,KAAK,CAAC;QAEvB,SAAI,GAAU,EAAE,CAAC;QACjB,SAAI,GAAU,EAAE,CAAC;QACjB,SAAI,GAAU,EAAE,CAAC;QACjB,SAAI,GAAU,EAAE,CAAC;QAEjB,YAAO,GAAW,KAAK,CAAC;QACxB,gBAAW,GAAU,eAAe,CAAC;QACrC,gBAAW,GAAU,OAAO,CAAC;QAE7B,eAAU,GAAW,KAAK,CAAC;IAI1B,CAAC;IAEF,QAAQ;QAEJ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACxC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QAElC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAEzC,EAAE,EAAC,KAAK,CAAC,CACT,CAAC;gBACG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE3E,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1F,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE1F,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YAC3B,CAAC;YACD,IAAI;gBACA,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAChC,CAAC,CAAC;IACN,CAAC;IAED,UAAU;QAEN,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE;YACtE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAC,CAAC,CAAC;IAC3D,CAAC;IAED,KAAK;QAED,EAAE,EAAC,IAAI,CAAC,UAAU,CAAC,CACnB,CAAC;YACG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YAEtC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAEhD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC/D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACnE,CAAC;QACD,IAAI;YACA,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;QAE3C,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI;YAClG,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,EAAC,CAAC,CAAC;IAC3D,CAAC;IAED,aAAa;QAET,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;IACjC,CAAC;CAiBJ;AA3FY,SAAS;IAJrB,wEAAS,CAAC;OACuB;KACjC,CAAC;2JAmB+F;QACpE,IAAI,EAA6B;AAyE7D;SA3FY,SAAS,oB;;;;;;;;;;;;;;;;;;;;ACXmB;AACS;AAGlD,IAAa,kBAAkB,GAA/B;IAQI,YAAoB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;QANnC,eAAU,GAAO,EAAE,CAAC;QACpB,kBAAa,GAAO,IAAI,IAAI,EAAE,CAAC;QAC/B,YAAO,GAAW,KAAK,CAAC;QAExB,6BAAwB,GAAmB,EAAE,CAAC;QAI1C,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAED,MAAM;QAEF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,GAAG,GAAU,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,GAAG,yBAAyB,CAAC;QACrI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5D,CAAC;IAED,aAAa,CAAC,GAAU,EAAE,QAAmD;QAEzE,IAAI,GAAG,GAAkB,IAAI,cAAc,EAAE,CAAC;QAC9C,GAAG,CAAC,kBAAkB,GAAG,GAAG,EAAE;YAC1B,EAAE,EAAC,GAAG,CAAC,UAAU,IAAI,CAAC,CAAC,CACvB,CAAC;gBACG,QAAQ,CAAC,GAAG,CAAC,YAAY,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YAC3C,CAAC;QACL,CAAC,CAAC;QACF,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC3B,GAAG,CAAC,IAAI,EAAE,CAAC;IACf,CAAC;IAED,cAAc,CAAC,QAAe,EAAE,UAAiB;QAE7C,IAAI,MAAM,GAAO,EAAE,CAAC;QACpB,EAAE,EAAC,UAAU,IAAI,GAAG,CAAC,CACrB,CAAC;YACG,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACvC,IAAI,GAAG,GAAO,QAAQ,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YACjD,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC;QAC3B,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC,EAAE,EACnE,CAAC;gBACG,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,CAAC;YACvC,CAAC;YACD,MAAM,CAAC;QACX,CAAC;QAED,UAAU;QACV,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACzH,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC;QAClC,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,CAAC,EAAE,EACnE,CAAC;YACG,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,CAAC;QACvC,CAAC;IACL,CAAC;IAED,0BAA0B,CAAC,QAAoB,IAAI,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAC;IAAA,CAAC;IACjG,SAAS,KAAK,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IAEpC,iBAAiB,CAAC,MAAU,EAAE,QAA4B;IAG1D,CAAC;CACJ;AAtEY,kBAAkB;IAD9B,yEAAU,EAAE;qCASiB,kEAAS;GAR1B,kBAAkB,CAsE9B;AAtE8B;AAwEzB;IAEF,gHAAgH;IAEhH,MAAM,CAAC,SAAS,CAAC,GAAe;QAE5B,IAAI,GAAG,GAAO,EAAE,CAAC;QACjB,EAAE,EAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,CACrB,CAAC;YACG,EAAE,EAAC,GAAG,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAC7B,CAAC;gBACG,GAAG,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC;gBACxB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EACpD,CAAC;oBACG,MAAM,SAAS,GAAG,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACzC,GAAG,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC;gBACjE,CAAC;YACL,CAAC;QACL,CAAC;QACD,IAAI,CAAC,EAAE,EAAC,GAAG,CAAC,QAAQ,IAAI,CAAC,CAAC,CAC1B,CAAC;YACG,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC;QACxB,CAAC;QAED,EAAE,EAAC,GAAG,CAAC,aAAa,EAAE,IAAI,GAAG,CAAC,UAAU,CAAC,MAAM,KAAK,CAAC,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,CAAC,CAAC,CAC1F,CAAC;YACG,GAAG,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,EAAE,EAAC,GAAG,CAAC,aAAa,EAAE,CAAC,CAC5B,CAAC;YACG,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EACpD,CAAC;gBACG,MAAM,IAAI,GAAO,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACxC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC/B,EAAE,EAAC,QAAQ,KAAK,OAAO,CAAC;oBAAC,QAAQ,CAAC;gBAClC,EAAE,EAAC,OAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,WAAW,CAAC,CACxC,CAAC;oBACG,GAAG,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBACzC,CAAC;gBACD,IAAI,CAAC,CAAC;oBACF,EAAE,EAAC,OAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,CAC7C,CAAC;wBACG,MAAM,GAAG,GAAO,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAC9B,GAAG,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;wBACnB,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;oBAC5B,CAAC;oBACD,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC7C,CAAC;YACL,CAAC;QACL,CAAC;QACD,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAED,MAAM,CAAC,eAAe,CAAC,GAAU;QAE7B,IAAI,MAAM,GAAe,IAAI,SAAS,EAAE,CAAC,eAAe,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;QAC1E,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;CACJ;AAAA;AAAA;;;;;;;;ACtID;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACV0C;AACD;AACe;AACA;AACA;AAClB;AACqB;AACf;AACG;AACI;AACD;AACZ;AACA;AAEtC;;;;;GAKG;AAEH,cAAc;AAKd,IAAa,QAAQ,GAArB;IAYE,YAAmB,OAAsB,EAAS,SAAoB,EAAU,OAAe;QAA5E,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,YAAO,GAAP,OAAO,CAAQ;QAV/F,YAAO,GAAc,6DAAQ,CAAC;QAC9B,kBAAa,GAAQ,8EAAc,CAAC;QACpC,gBAAW,GAAU,yEAAY,CAAC;QAClC,eAAU,GAAW,8EAAc,CAAC;QACpC,kBAAa,GAAQ,iFAAe,CAAC;QACrC,YAAO,GAAc,4DAAQ,CAAC;QAC9B,cAAS,GAAY,kEAAU,CAAC;QAChC,cAAS,GAAY,yEAAU,CAAC;QAChC,eAAU,GAAW,qEAAW,CAAC;IAGjC,CAAC;IAED,cAAc;QACZ,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QAErC,UAAU,CAAC,GAAG,EAAE;YACZ,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;gBACvC,EAAE,EAAC,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,SAAS,IAAI,CAAC,KAAK,CAAC,EAAC;oBAC9C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;oBAClC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,6DAAQ,EAAE,EAAE,CAAC,CAAC;oBAChC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gBACjC,CAAC;YACL,CAAC,CAAC;QACN,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;CAEF;AA7BY,QAAQ;IAJpB,wEAAS,CAAC;QACT,QAAQ,EAAE,WAAW;OACG;KACzB,CAAC;aAa+F;AAiBhG;SA7BY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;;;AC1BmB;AACO;AAC+B;AACnB;AACV;AACX;AAQtC,IAAa,cAAc,GAA3B;IAkBI,YAAoB,KAAgB,EAAU,UAA0B,EAAU,SAA2B,EAAU,SAA0B;QAA7H,UAAK,GAAL,KAAK,CAAW;QAAU,eAAU,GAAV,UAAU,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAkB;QAAU,cAAS,GAAT,SAAS,CAAiB;QAhBjJ,cAAS,GAAW,IAAI,CAAC;QACzB,kBAAa,GAAW,KAAK,CAAC;QAE9B,gBAAW,GAAU,SAAS,CAAC;QAC/B,cAAS,GAAY,sDAAsD,CAAC;QAC5E,gBAAW,GAAU,WAAW,CAAC;QACjC,eAAU,GAAW,+CAA+C,CAAC;QAOrE,SAAS;QACD,cAAS,GAAU,UAAU,CAAC;IAE8G,CAAC;IAErJ,QAAQ;QAEJ,8FAA8F;QAC9F,+FAA+F;QAC/F,2EAA2E;QAC3E,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAChF,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC;IAChE,CAAC;IAED,wBAAwB;QAEpB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,EAAE,EAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;QACpD,CAAC;QACD,IAAI;YACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAClC,CAAC;IAED,wBAAwB;QAEpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,UAAU;QAEP,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,SAAS,CAAC,CAAC,CACnE,CAAC;YACG,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAClE,CAAC;gBACG,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAChF,CAAC;oBACG,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;YACL,CAAC;QACL,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAED,eAAe;QAEX,MAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,uEAAS,CAAC,CAAC;QAC/C,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,MAAM;QAEF,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5C,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,oCAAoC;QACpC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;IACxB,CAAC;IAED,cAAc,CAAC,KAAS;QAEpB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;IACpD,CAAC;IAED,aAAa;QAET,0DAA0D;QAC1D,2DAA2D;QAC3D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;QAC1C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;QAE5C,gDAAgD;QAChD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACvD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACtD,CAAC;QACL,CAAC;QAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACvD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACzD,CAAC;QACL,CAAC;IACL,CAAC;IAED,iBAAiB;QAEb,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IACnH,CAAC;IAED,UAAU;QAEN,+DAA+D;QAC/D,IAAI,GAAG,GAAc,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC;QAChD,IAAI,KAAK,GAAY,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,GAAS,EAAE,CAAC;QACxB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,MAAM,EAAG,KAAK,CAAC,CAAC,CAAC,EAAE,UAAU,EAAG,KAAK,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC;QAC3G,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC;YAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;QACpE,IAAI;YAAC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,QAAQ,CAAC,GAAO;QAEZ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,kFAAqB,EAAE,EAAE,KAAK,EAAG,GAAG,EAAE,CAAC,CAAC;IACjE,CAAC;IAED,YAAY;QAER,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,yCAAyC;QACzC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;IAC9B,CAAC;IAED,SAAS;QAEL,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,4DAAQ,EAAE,EAAE,CAAC,CAAC;IACvC,CAAC;CACJ;AA3IY,cAAc;IAL1B,wEAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;OACG;KACjC,CAAC;mBAoBmJ;AAyHpJ;SA3IY,cAAc,e;;;;;;;;;;;;;;;;;;;;ACba;AACgB;AAOxD,IAAa,mBAAmB,GAAhC;IAWI,YAAoB,QAAwB,EAAU,SAAoB;QAAtD,aAAQ,GAAR,QAAQ,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAW;QAT1E,SAAI,GAAU,EAAE,CAAC;QACjB,WAAM,GAAU,EAAE,CAAC;QACnB,WAAM,GAAU,EAAE,CAAC;QACnB,SAAI,GAAW,KAAK,CAAC;QACrB,eAAU,GAAU,KAAK,CAAC;QAC1B,gBAAW,GAAW,IAAI,CAAC;QAE3B,iBAAY,GAAS,EAAE,CAAC;QAIpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC1C,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,GAAG,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QAGhE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACjD,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,IAAI,IAAI,CAAC,YAAY,IAAI,SAAS,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAClG,CAAC;YACG,IAAI,CAAC,GAAU,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACzC,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE;gBAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAC7G,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACrC,CAAC;IACL,CAAC;IAED,KAAK;QAED,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;IAC7H,CAAC;IAED,UAAU;QAEN,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;IAC9H,CAAC;CACJ;AArCY,mBAAmB;IAL/B,wEAAS,CAAC;QACP,QAAQ,EAAE,uBAAuB;OACG;KACvC,CAAC;wBAa4E;AA0B7E;SArCY,mBAAmB,gB;;;;;;;;;;;;;;;;;;;;ACRQ;AACA;AAMxC,IAAa,qBAAqB,GAAlC;IAGI,YAAoB,SAAmB;QAAnB,cAAS,GAAT,SAAS,CAAU;QAEnC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrC,EAAE,EAAC,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,CAC7C,CAAC;YACG,IAAI,CAAC,GAAG,GAAG,EAAE,MAAM,EAAG,EAAE,EAAE,OAAO,EAAG,sDAAsD,EAAC,CAAC;QAChG,CAAC;IACL,CAAC;IAED,iBAAiB;IAIjB,CAAC;CACJ;AAjBY,qBAAqB;IAJjC,wEAAS,CAAC;OAC+B;KACzC,CAAC;0BAKyC;AAc1C;SAjBY,qBAAqB,gB;;;;;;;;;;;;;;;;;;;;;;;ACPM;AACgB;AACgB;AACtB;AACd;AAMpC,IAAa,SAAS,GAAtB;IAKI,YAAY,KAAe,EAAE,SAAoB,EAAE,QAAwB;QAH3E,aAAQ,GAAO,IAAI,CAAC,CAAC,cAAc;QACnC,eAAU,GAAO,IAAI,CAAC;QAGlB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,+FAAyB,CAAC,CAAC,CAAC,2DAAU,CAAC;QACxE,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,SAAS,CAAC,IAAI,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAC,CAAC,CAAC;IAC9E,CAAC;CACJ;AATY,SAAS;IAJrB,wEAAS,CAAC;OACkB;KAC5B,CAAC;cAO6E;AAI9E;SATY,SAAS,e;;;;;;;;;;;;;;;;;;;;;;ACVkB;AAC0B;AACsB;AACpD;AAMpC,IAAa,yBAAyB,GAAtC;IAKI,YAAoB,KAAe,EAAU,SAAmB,EAAU,OAAqB,EAAU,SAAyB;QAA9G,UAAK,GAAL,KAAK,CAAU;QAAU,cAAS,GAAT,SAAS,CAAU;QAAU,YAAO,GAAP,OAAO,CAAc;QAAU,cAAS,GAAT,SAAS,CAAgB;QAHlI,cAAS,GAAoB,EAAE,CAAC;QAChC,cAAS,GAAW,IAAI,CAAC;IAE4G,CAAC;IAEtI,QAAQ;QAEJ,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IACvD,CAAC;IAED,eAAe;QAEX,IAAI,GAAG,GAAkB,IAAI,cAAc,EAAE,CAAC;QAC9C,GAAG,CAAC,kBAAkB,GAAG,GAAG,EAAE;YAC1B,EAAE,EAAC,GAAG,CAAC,UAAU,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAC5C,CAAC;gBACG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAC9B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3B,CAAC;QACL,CAAC,CAAC;QACF,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,GAAG,8BAA8B,CAAC,CAAC;QAC5E,GAAG,CAAC,IAAI,EAAE,CAAC;IACf,CAAC;IAED,UAAU,CAAC,GAAU;QAEjB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAE3B,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACzC,IAAI,GAAG,GAAmB,IAAI,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC7B,CAAC;QAED,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,KAAK,MAAM,CAAC;YACtE,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,MAAM,CAAC,IAAmB;QAEtB,EAAE,EAAC,IAAI,CAAC,WAAW,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAC1E,CAAC;YACG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClB,KAAK,EAAE,eAAe;gBACtB,OAAO,EAAE,8DAA8D;gBACvE,QAAQ,EAAE,WAAW;gBACrB,OAAO,EAAE,CAAC,IAAI,CAAC;aAClB,CAAC,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,CAAC;YACF,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,EAAE,QAAQ,CAAC,CAAC;YAC5E,MAAM,CAAC,KAAK,EAAE,CAAC;QACnB,CAAC;IACL,CAAC;IAED,WAAW;QAEP,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,2DAAU,EAAE,EAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC;IAChF,CAAC;IAED,UAAU;QAEN,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC;YAAC,MAAM,CAAC;QAC7D,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,EAAE,QAAQ,CAAC,CAAC;IAChH,CAAC;IAED,KAAK;QAED,IAAI,QAAQ,GAAkB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC7D,QAAQ,CAAC,OAAO,EAAE,CAAC;IACvB,CAAC;CACJ;AA1EY,yBAAyB;IAJrC,wEAAS,CAAC;OACwC;KAClD,CAAC;8BAOoI;AAqErI;SA1EY,yBAAyB,qB;;;;;;;;;;;;;;;;;;;;;;ACTE;AAC0D;AAChC;AAC3B;AAMvC,IAAa,kBAAkB,GAA/B;IAeI,YAAoB,KAAgB,EAAU,OAAqB,EAAU,GAAa,EAAU,OAAe,EAC/F,SAAoB,EAAU,SAAyB;QADvD,UAAK,GAAL,KAAK,CAAW;QAAU,YAAO,GAAP,OAAO,CAAc;QAAU,QAAG,GAAH,GAAG,CAAU;QAAU,YAAO,GAAP,OAAO,CAAQ;QAC/F,cAAS,GAAT,SAAS,CAAW;QAAU,cAAS,GAAT,SAAS,CAAgB;QAd3E,YAAO,GAAU,EAAE,CAAC,CAAC,0DAA0D;QAC/E,UAAK,GAAU,EAAE,CAAC;QAClB,cAAS,GAAW,KAAK,CAAC;QAC1B,cAAS,GAAqB,EAAE,CAAC;QACjC,cAAS,GAAqB,EAAE,CAAC;QACjC,cAAS,GAAqB,EAAE,CAAC;QACjC,YAAO,GAAqB,IAAI,CAAC;QACjC,UAAK,GAAU,CAAC,CAAC;QACjB,gBAAW,GAAU,CAAC,CAAC;QAEvB,WAAM,GAAY,CAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;QAClD,UAAK,GAAW,KAAK,CAAC;QAIZ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;IAAC,CAAC;IAE5C,QAAQ;QAEJ,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;YACzC,EAAE,EAAC,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,SAAS,CAAC,CAAC;gBACtC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3B,IAAI;gBAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC;QACH;;;;UAIE;QACF,IAAI,CAAC,OAAO,GAAG,+GAA+G,CAAC;QAE/H,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAC,GAAG,EAAE;YAC/B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;QACH,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9B,GAAG,CAAC,IAAI,EAAE,CAAC;QAEX,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAED,WAAW;QAEP,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpB,CAAC;IAED,WAAW,CAAC,GAAkB;QAE1B,EAAE,EAAC,GAAG,CAAC,IAAI,IAAI,IAAI,IAAI,GAAG,CAAC,WAAW,IAAI,IAAI,IAAG,GAAG,CAAC,QAAQ,IAAI,IAAI,CAAC,CACtE,CAAC;YACG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClB,KAAK,EAAE,eAAe;gBACtB,OAAO,EAAE,8DAA8D;gBACvE,QAAQ,EAAE,WAAW;gBACrB,OAAO,EAAE,CAAC,IAAI,CAAC;aAClB,CAAC,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC;IACL,CAAC;IAED,IAAI,CAAC,GAAkB;QAEnB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,EAAE,EAAC,GAAG,IAAI,IAAI,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAClD,IAAI;YAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACnB,IAAI,GAAG,GAAU,EAAE,CAAC;QAEpB;;;;;;;;;;WAUG;QAGH,EAAE,EAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;YAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;QAAC,CAAC;QAC3D,IAAI,CAAC,CAAC;YACF,EAAE,EAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;gBAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;YAChE,EAAE,EAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,mBAAmB,CAAC;gBAClD,GAAG,GAAG,SAAS,GAAG,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,QAAQ,GAAG,sCAAsC,CAAC;YAC7F,IAAI;gBACA,GAAG,GAAG,SAAS,GAAG,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,WAAW,GAAG,+BAA+B,CAAC;QAC7F,CAAC;QAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAC/B,GAAG,CAAC,gBAAgB,CAAC,MAAM,EAAC,GAAG,EAAE,GAAE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,GAAC,CAAC,CAAC;QAC/F,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACrB,GAAG,CAAC,IAAI,EAAE,CAAC;QACX,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzC,CAAC;IAED,UAAU,CAAC,GAAU;QAEnB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAE3B,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC3C,IAAI,GAAG,GAAmB,IAAI,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,MAAM,CAAC,GAAmB;QAEtB,EAAE,EAAC,GAAG,CAAC,WAAW,IAAI,IAAI,IAAI,GAAG,CAAC,QAAQ,IAAI,IAAI,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CACvE,CAAC;YACG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClB,KAAK,EAAE,eAAe;gBACtB,OAAO,EAAE,8DAA8D;gBACvE,QAAQ,EAAE,WAAW;gBACrB,OAAO,EAAE,CAAC,IAAI,CAAC;aAClB,CAAC,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,GAAG,CAAC;YACjC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;YACzD,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YACpB,IAAI,QAAQ,GAAkB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YAC7D,EAAE,EAAC,QAAQ,IAAI,IAAI,IAAI,QAAQ,IAAI,SAAS,CAAC;gBAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACjE,IAAI;gBAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QAC5B,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,GAAmB;QAExB,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,CAAC;IACL,CAAC;IAED,UAAU,CAAC,GAAmB;QAE1B,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC;YAC1D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAClD,CAAC;IACL,CAAC;CACJ;AAzJY,kBAAkB;IAJ9B,wEAAS,CAAC;OACgC;KAC1C,CAAC;kJAiBqH;QACpF,SAAS,EAAoB,IAAe;AAyI9E;SAzJY,kBAAkB,oB;;;;;;;;;;;;;;;;;;;;;ACTS;AACgB;AACN;AAOlD,IAAa,SAAS,GAAtB;IAGI,YAAoB,SAAmB,EAAU,KAAe;QAA5C,cAAS,GAAT,SAAS,CAAU;QAAU,UAAK,GAAL,KAAK,CAAU;QADhE,gBAAW,GAAU,6BAA6B,CAAC;QAG/C,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACvE,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IACvD,CAAC;IAED,eAAe;QAEX,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;IACjD,CAAC;IAED,KAAK;QAED,IAAI,QAAQ,GAAkB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC7D,QAAQ,CAAC,OAAO,EAAE,CAAC;IACvB,CAAC;CACJ;AAnBY,SAAS;IALrB,wEAAS,CAAC;QACP,QAAQ,EAAE,YAAY;OACG;KAC5B,CAAC;cAKkE;AAgBnE;SAnBY,SAAS,e;;;;;;;;;;;;;;;;;;;;;;;ACTkB;AACO;AACc;AACJ;AACE;AAO3D,IAAa,cAAc,GAA3B;IAMI,YAAoB,KAAgB,EAAU,OAAuB,EAAU,SAAyB;QAApF,UAAK,GAAL,KAAK,CAAW;QAAU,YAAO,GAAP,OAAO,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAgB;QAJxG,cAAS,GAAW,IAAI,CAAC;QACzB,kBAAa,GAAW,KAAK,CAAC;QAC9B,YAAO,GAAS,EAAE,CAAC;IAEwF,CAAC;IAE5G,QAAQ;QAEJ,+FAA+F;QAC/F,iGAAiG;QACjG,6EAA6E;QAC7E,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACjE,CAAC;IAED,wBAAwB;QAEpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,yBAAyB;QAErB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,SAAS,CAAC,CAAC,CACpE,CAAC;YACG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC/B,CAAC;QACD,IAAI;YACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAClC,CAAC;IAED,MAAM;QAEF,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;IACxB,CAAC;IAED,QAAQ,CAAC,MAAU;QAEf,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gFAAoB,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAC,CAAC,CAAC;IACjE,CAAC;IAED,OAAO;QAEH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,iFAAe,CAAC,CAAC,OAAO,EAAE,CAAC;IACrD,CAAC;CACJ;AArDY,cAAc;IAL1B,wEAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;OACG;KACjC,CAAC;mBAQ0G;AA+C3G;SArDY,cAAc,e;;;;;;;;;;;;;;;;;;;;;;;ACXa;AACkC;AAEvB;AACJ;AACQ;AAOvD,IAAa,oBAAoB,GAAjC;IAMI,YAAY,SAAoB,EAAU,SAA0B,EAAU,SAA0B,EAAU,KAAgB;QAAxF,cAAS,GAAT,SAAS,CAAiB;QAAU,cAAS,GAAT,SAAS,CAAiB;QAAU,UAAK,GAAL,KAAK,CAAW;QALlI,WAAM,GAAQ,IAAI,CAAC;QACnB,eAAU,GAAgB,IAAI,CAAC;QAC/B,QAAG,GAAgB,IAAI,CAAC;QACxB,eAAU,GAAO,IAAI,CAAC;QAiCd,kBAAa,GAAO,IAAI,CAAC;QA9B7B,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAEtC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,MAAM,GAAG;gBACV,MAAM,EAAE,mBAAmB,EAAE,MAAM,EAAE,4BAA4B;gBACjE,KAAK,EAAE,sDAAsD;gBAC7D,UAAU,EAAE,CAAC,EAAC,MAAM,EAAE,sBAAsB,EAAC,EAAE,EAAC,MAAM,EAAE,cAAc,EAAC,CAAC;aAC3E,CAAC;QACN,CAAC;QACD,IAAI,CAAC,EAAE,EAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAC/C,IAAI,CAAC,EAAE,EAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;IAC7D,CAAC;IAED,YAAY,CAAC,OAAY;QACrB,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;YACpD,MAAM,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;gBACnB,KAAK,OAAO;oBACR,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;oBACnE,KAAK,CAAC;gBACV,KAAK,QAAQ;oBACT,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;oBAC3D,KAAK,CAAC;gBACV,KAAK,KAAK;oBACN,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;oBACtB,KAAK,CAAC;YACd,CAAC;QACL,CAAC;IACL,CAAC;IAID,OAAO,CAAC,OAAW;QAEf,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC7B,CAAC;IAED,iBAAiB;QAEb,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,yEAAS,CAAC,CAAC;QAC7C,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnD,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,cAAc,CAAC,IAAQ;QAEnB,EAAE,EAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAC1D,CAAC;YACG,MAAM,CAAC;QACX,CAAC;QAED,IAAI,CAAC,GAAG,GAAG,IAAI,6EAAW,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YAC9D,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,IAAI,CAAC,IAAI;YACnB,QAAQ,EAAE,IAAI,CAAC,IAAI;YACnB,WAAW,EAAE,IAAI,CAAC,KAAK;YACvB,WAAW,EAAE,IAAI,CAAC,KAAK;SAC1B,CAAC,CAAC;IACP,CAAC;IAED,SAAS;QAEL,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC;YAClB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1F,IAAI;YAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;QAEtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC9B,CAAC;IAED,KAAK,CAAC,IAAW;QAEb,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,EAAE,EAAC,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;YACrC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAClB,KAAK,EAAE,uBAAuB;gBAC9B,OAAO,EAAE,yEAAyE;gBAClF,OAAO,EAAE,CAAC,IAAI,CAAC;aAClB,CAAC,CAAC,OAAO,EAAE,CAAC;IACrB,CAAC;IAED,OAAO,CAAC,IAAW;QAEf,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;IAC5B,CAAC;CACJ;AA7FY,oBAAoB;IALhC,wEAAS,CAAC;QACP,QAAQ,EAAE,wBAAwB;OACG;KACxC,CAAC;yBAQoI;AAuFrI;SA7FY,oBAAoB,gB;;;;;;;;;ACZH;AAIxB;IAyBF,YAAY,IAAI,EAAE,eAA0B,EAAE,iBAA4B,EAAE,IAAmB;QAvB/F,aAAa;QACb,gBAAW,GAAU,eAAe,CAAC;QACrC,gBAAW,GAAU,OAAO,CAAC;QAE7B,oBAAoB;QACpB,SAAI,GAAU,IAAI,CAAC;QACnB,SAAI,GAAU,IAAI,CAAC;QACnB,aAAQ,GAAU,IAAI,CAAC;QACvB,aAAQ,GAAU,IAAI,CAAC;QAEvB,OAAE,GAAa,IAAI,CAAC;QACpB,mBAAc,GAAW,KAAK,CAAC;QAC/B,oBAAe,GAAc,IAAI,CAAC;QAClC,sBAAiB,GAAc,IAAI,CAAC;QACpC,YAAO,GAAU,EAAE,CAAC;QACpB,UAAK,GAAS,IAAI,CAAC;QACnB,SAAI,GAAW,KAAK,CAAC;QACrB,SAAI,GAAW,KAAK,CAAC;QACrB,SAAI,GAAW,MAAM,CAAC;QAEtB,SAAI,GAAG,IAAI,CAAC,CAAC,WAAW;QAKpB,EAAE,EAAC,IAAI,CAAC,CACR,CAAC;YACG,IAAI,CAAC,IAAI,GAAO,IAAI,CAAC,IAAI,CAAC;YAC1B,IAAI,CAAC,IAAI,GAAO,IAAI,CAAC,IAAI,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YAE9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACxC,CAAC;QAED,IAAI,CAAC,KAAK,GAAG,IAAI,qDAAK,EAAE,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;QAC3C,IAAI,CAAC,EAAE,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAEvC,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG,GAAG,EAAE;YAClB,OAAO,CAAC,GAAG,CAAC,0BAA0B,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YACxD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAE/B,CAAC,CAAC;QAEF,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,KAAK,EAAE,EAAE;YACxB,OAAO,CAAC,KAAK,CAAC,qBAAqB,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YACrD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YACzD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAChC,CAAC,CAAC;QAEF,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,CAAC,OAAoB,EAAE,EAAE;YAEzC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,CACjB,CAAC;gBACG,KAAK,MAAM;oBACP,sCAAsC;oBACtC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAClC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;oBACnB,KAAK,CAAC;gBACV,KAAK,MAAM;oBACP,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;oBACnB,EAAE,EAAC,IAAI,CAAC,iBAAiB,CAAC;wBAAC,UAAU,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;oBACjF,KAAK,CAAC;gBACV,KAAK,MAAM;oBACP,aAAa;oBACb,IAAI,EAAE,GAAI,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;oBACxC,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;oBACrC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;wBAC1D,MAAM,YAAY,GAAG,qDAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;wBAC9C,MAAM,IAAI,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBAE1C,GAAG,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;wBAC5F,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC;4BACvB,GAAG,GAAG,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAI,8BAA8B;wBACtG,CAAC;wBACD,IAAI,CAAC,CAAC;4BACF,GAAG,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;wBACpC,CAAC;wBAED,EAAE,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC;4BAChB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC;wBACtC,IAAI;4BACA,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBAC7B,CAAC,CAAC,CAAC;oBACH,KAAK,CAAC;gBACV,QAAQ;YACZ,CAAC;YAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cA6BE;QACN,CAAC,CAAC;QAGF,IAAI,CAAC,EAAE,CAAC,OAAO,GAAG,CAAC,KAAgB,EAAE,EAAE;YACnC,OAAO,CAAC,KAAK,CAAC,qBAAqB,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;YACrD,EAAE,EAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,CACtB,CAAC;gBACG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,sCAAsC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;YAC3E,CAAC;YACD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;YAC5B,EAAE,EAAC,IAAI,CAAC,eAAe,CAAC;gBAAC,IAAI,CAAC,eAAe,EAAE,CAAC;QACpD,CAAC,CAAC;QAEF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC/B,CAAC;IAED,IAAI,CAAC,IAAW;QAEZ,EAAE,EAAC,CAAC,IAAI,CAAC,cAAc,CAAC;YAAC,MAAM,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC;QACjD,qBAAqB;QACrB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,OAAO,CAAC,IAAW;QAEf,qBAAqB;QACrB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,YAAY;QAER,EAAE,EAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,CAC5D,CAAC;YACG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACrB,CAAC;QACD,IAAI;YACA,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED;;;;;OAKG;IACH,SAAS,CAAC,IAAW;QAEjB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACvB,CAAC;IAED,YAAY;IACJ,KAAK,CAAC,IAAW;QAErB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YAC9E,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,qDAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,qDAAK,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IAED,KAAK;QAED,EAAE,EAAC,CAAC,IAAI,CAAC,cAAc,CAAC;YAAC,MAAM,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,gBAAgB,CAAC,CAAC;QACtC,EAAE,EAAC,IAAI,CAAC,eAAe,CAAC;YAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IACpD,CAAC;IAED,MAAM;QAEF,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC;IAC/D,CAAC;CACJ;AAAA;AAAA;;;;;;;;;ACzMK;IAOF;QALA,QAAG,GAAe,IAAI,CAAC;QACvB,SAAI,GAAG,IAAI,CAAC;QAEZ,SAAI,GAAwB,IAAI,CAAC;IAGhC,CAAC;IAGF,QAAQ,CAAC,SAAS;QAEd,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,MAAM,GAAK,IAAI,CAAC;QAEpB,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;YAC7B,IAAI,EAAE,MAAM;YACZ,UAAU,EAAE,OAAO;SACtB,EAAE,KAAK,EAAE,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;aACrC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACV,QAAQ,GAAG,GAAG,CAAC;YACf,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC;QAChE,CAAC,CAAC;aACD,IAAI,CAAC,cAAc,CAAC,EAAE;YACnB,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;YAEhD,EAAE,EAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC;gBAAC,MAAM,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAErB,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,EACjE;gBACI,IAAI,EAAE,MAAM;gBACZ,UAAU,EAAE,OAAO;aACtB,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;QACrB,CAAC,CAAC;aACD,IAAI,CAAC,iBAAiB,CAAC,EAAE;YAEtB,MAAM,CAAO,MAAO,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC;gBAC1C,IAAI,EAAE,MAAM;gBACZ,UAAU,EAAE,OAAO;gBACnB,MAAM,EAAE,iBAAiB;aAC5B,EAAE,QAAQ,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QACjC,CAAC,CAAC;aACD,IAAI,CAAC,YAAY,CAAC,EAAE;YACjB,sEAAsE;YACtE,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YACrC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,eAAe;IACf,OAAO,CAAC,IAAW,EAAE,GAAO;QAExB,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7D,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnC,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACrC,UAAU;QACV,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,EAAE;YACzE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAC,EACpF,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACrC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;oBAChC,IAAI,EAAE,SAAS;oBACf,MAAM,EAAE,GAAG;oBACX,EAAE,EAAE,EAAE;iBACT,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE;oBACrC,MAAM,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;gBACtC,CAAC,CAAC,CAAC;YACP,CAAC,CAAC;QAEN,CAAC,CAAC,CAAC;IACP,CAAC;IAED,OAAO,CAAC,IAAW,EAAE,GAAO,EAAE,QAAe;QAEzC,MAAM,EAAE,GAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACpC,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnC,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAErC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACvE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAC,EACpF,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACjC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;oBAChC,IAAI,EAAE,SAAS;oBACf,MAAM,EAAE,GAAG;oBACX,EAAE,EAAE,EAAE;iBACT,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;oBACnC,MAAM,CAAC,SAAS,CAAC;gBACrB,CAAC,CAAC;YACV,CAAC,CAAC;QACN,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU;IACV,MAAM,CAAC,OAAO,CAAC,GAAU;QAErB,EAAE,EAAC,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC;QAClC,MAAM,GAAG,GAAG,EAAE,CAAC;QACf,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC;YAC5C,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QAE7C,MAAM,CAAC,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;IAC/B,CAAC;IAED,MAAM,CAAC,OAAO,CAAC,GAAG;QAEd,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAChG,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,GAAG;QAEb,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,CAAC;QACrC,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE;YAC/C,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACnC,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAED,MAAM,CAAC,MAAM,CAAC,GAAG;QACb,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,MAAM,CAAC,OAAO,CAAC,GAAG;QACd,MAAM,GAAG,GAAG,IAAI,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACxC,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;QACpC,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE;YAC9B,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACnC,MAAM,CAAC,GAAG,CAAC;IACf,CAAC;IAED,MAAM,CAAC,OAAO,CAAC,GAAG;QACd,MAAM,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;IAChE,CAAC;CACJ;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACtIuC;AACuC;AAC/E,wCAAwC;AACU;AACZ;AACtC,6CAA6C;AAO7C,IAAa,eAAe,GAA5B;IAMI,YAAoB,QAAuB,EAAU,SAA0B,EAAU,KAAe,EACpF,SAA0B;QAD1B,aAAQ,GAAR,QAAQ,CAAe;QAAU,cAAS,GAAT,SAAS,CAAiB;QAAU,UAAK,GAAL,KAAK,CAAU;QACpF,cAAS,GAAT,SAAS,CAAiB;QAL9C,wBAAwB;QACxB,SAAI,GAAa,IAAI,CAAC;QACtB,UAAK,GAAU,eAAe,CAAC;IAGmB,CAAC;IAEnD,QAAQ;QAEJ,sBAAsB;QACtB,gFAAgF;QAChF,4DAA4D;QAC5D,iEAAiE;QACjE,wDAAwD;QACxD,IAAI,CAAC,IAAI,GAAG,IAAI,6DAAS,CAAC,oBAAoB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACpE,CAAC;IAAA,CAAC;IAEF,WAAW,CAAC,CAAQ;QAEhB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;IACnB,CAAC;IAED,UAAU;QAEN,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;CACJ;AA5BY,eAAe;IAL3B,wEAAS,CAAC;QACP,QAAQ,EAAE,UAAU;OACY;KACnC,CAAC;gFAQ0G;QACzE,YAAe;AAqBjD;SA5BY,eAAe,gB;;;;;;;;;;;;;;;;;;;;ACZY;AACO;AAO/C,IAAa,QAAQ,GAArB;IASI,YAAoB,KAAgB;QAAhB,UAAK,GAAL,KAAK,CAAW;QAPpC,SAAI,GAAS,EAAE,CAAC;QAChB,gBAAW,GAAO,IAAI,CAAC;QACvB,YAAO,GAAU,EAAE,CAAC;QAEpB,cAAS,GAAW,KAAK,CAAC;QAC1B,kBAAa,GAAW,KAAK,CAAC;IAES,CAAC;IAExC,QAAQ;QAEJ,gGAAgG;QAChG,4EAA4E;QAC5E,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACjE,CAAC;IAED,yBAAyB;QAErB,gDAAgD;QAChD,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAC7H,CAAC;YACG,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,eAAe,EAAE,CAAC;QAC3B,CAAC;IACL,CAAC;IAED,MAAM;QAEF,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,WAAW,CAAC,MAAM;QAEd,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;QAC1B,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QAEX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,CAAC;QAClD,yFAAyF;QACzF,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC/E,CAAC;IAED,UAAU;QAEN,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC;QAClD,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAC3C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC9C,qEAAqE;YACrE,yFAAyF;YAEzF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC;gBAChD,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACtC,IAAI,YAAY,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;gBACnD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,UAAU,GAAG,GAAG,GAAG,OAAO,GAAG,GAAG,GAAG,YAAY,CAAC;YAC9E,CAAC;QACL,CAAC;IACL,CAAC;IAED,SAAS,CAAC,GAAU,EAAE,UAAiB;QAEnC,EAAE,EAAC,UAAU,IAAI,GAAG,CAAC;YAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACjE,IAAI;YAAC,IAAI,CAAC,OAAO,GAAG,gCAAgC,CAAC;QACrD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IAC3B,CAAC;CACJ;AA1EY,QAAQ;IALpB,wEAAS,CAAC;QACP,QAAQ,EAAE,WAAW;OACG;KAC3B,CAAC;aAWsC;AAiEvC;SA1EY,QAAQ,e;;;;;;;;;;;;;;;;;;;;ACRmB;AACO;AAO/C,IAAa,eAAe,GAA5B;IAQI,YAAoB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;QANnC,gBAAW,GAAS,EAAE,CAAC;QACvB,uBAAkB,GAAO,IAAI,CAAC;QAE9B,cAAS,GAAW,IAAI,CAAC;QACzB,kBAAa,GAAW,KAAK,CAAC;IAEQ,CAAC;IAEvC,QAAQ;QAEJ,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACjE,CAAC;IAED,yBAAyB;QAErB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,SAAS,CAAC,CAAC,CAC5E,CAAC;YACG,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;YAC1C,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC;QACD,IAAI;YACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAClC,CAAC;IAED,wBAAwB;QAEpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED;;;;;;;;;;OAUG;IAEH,MAAM;QAEF,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,mCAAmC;QACnC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;IACxB,CAAC;IAED,WAAW;QACP,gDAAgD;QAChD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACrD,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAAC,UAAU,GAAE,EAAE,CAAC;YACzE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QACjF,CAAC;IACL,CAAC;IAED,kBAAkB,CAAC,MAAU;QAEzB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC;IACrC,CAAC;CACJ;AAtEY,eAAe;IAL3B,wEAAS,CAAC;QACP,QAAQ,EAAE,kBAAkB;OACG;KAClC,CAAC;oBAUqC;AA8DtC;SAtEY,eAAe,e;;;;;;;;;;;;;;;;;;;;ACRY;AACO;AAO/C,IAAa,UAAU,GAAvB;IAII,YAAoB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;QAFnC,WAAM,GAAS,EAAE,CAAC;IAEoB,CAAC;IAEvC,QAAQ;QAEJ,gGAAgG;QAChG,4EAA4E;QAC5E,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACjE,CAAC;IAED,yBAAyB;QAErB,+CAA+C;QAC/C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAChC,EAAE,EAAC,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,CACnD,CAAC;YACG,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,MAAM,EAAG,wBAAwB,EAAE,KAAK,EAAG,mGAAmG;oBAC9I,OAAO,EAAE,2BAA2B,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAG,uCAAuC,EAAE,KAAK,EAAE,EAAE,EAAC,CAAC,CAAC;QAC/I,CAAC;IACL,CAAC;IAED,SAAS,CAAC,KAAS;QAEf,OAAO,CAAC,GAAG,CAAC,SAAS,GAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;IACtC,CAAC;CACJ;AA9BY,UAAU;IALtB,wEAAS,CAAC;QACP,QAAQ,EAAE,aAAa;OACG;KAC7B,CAAC;eAMqC;AA0BtC;SA9BY,UAAU,e;;;;;;;;;;;;;;;;;;;;ACRiB;AACO;AAC/C,mDAAmD;AAOnD,IAAa,WAAW,GAAxB;IAUI,YAAoB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;QARnC,2BAA2B;QAC3B,kBAAkB;QAClB,4BAA4B;QAE5B,2BAA2B;QAC3B,cAAS,GAAW,IAAI,CAAC;QACzB,YAAO,GAAqC,EAAE,CAAC;IAET,CAAC;IAEvC,QAAQ;QAEJ,yEAAyE;QACzE,qDAAqD;IACzD,CAAC;IAED,eAAe;QAEX,yBAAyB;QACzB,2CAA2C;QAC3C,iEAAiE;QACjE,qCAAqC;QACrC,mFAAmF;QACnF,EAAE,EAAC,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,SAAS,CAAC;YAAC,MAAM,CAAC;QAClD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAExB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5H,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;QAG5H,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;IACzD,CAAC;IAED,QAAQ,CAAC,YAAY;QACjB,gDAAgD;QAChD,IAAI,UAAU,GAAU,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QAClD,IAAI,MAAM,GAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAEnC,IAAI,WAAW,GAAU,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtD,IAAI,aAAa,GAAU,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC;QAC1D,IAAI,YAAY,GAAU,MAAM,CAAC,QAAQ,GAAG,WAAW,CAAC;QACxD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;YACjD,WAAW,GAAG,YAAY,GAAG,YAAY,CAAC;YAC1C,aAAa,GAAG,YAAY,GAAG,sBAAsB,CAAC;QAC1D,CAAC;QACD,IAAI,iBAAiB,GAAU,YAAY,GAAG,uBAAuB,CAAC;QACtE,IAAI,gBAAgB,GAAU,YAAY,GAAG,sBAAsB,CAAC;QAEpE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAChE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACxE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBAChH,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,UAAU,GAAG,sBAAsB,CAAC;oBACrF,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,GAAG,sBAAsB,CAAC;oBACjF,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,UAAU,GAAG,sBAAsB,CAAC;oBACzF,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,UAAU,GAAG,sBAAsB,CAAC;oBACxF,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,GAAG,UAAU,GAAG,sBAAsB,CAAC;gBACpG,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,UAAU,GAAG,aAAa,GAAG,GAAG,GAAG,YAAY,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACnK,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,GAAG,WAAW,GAAG,GAAG,GAAG,YAAY,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBAC7J,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,UAAU,GAAG,iBAAiB,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACtJ,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,UAAU,GAAG,gBAAgB,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACpJ,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,GAAG,UAAU,GAAG,gBAAgB,GAAG,sBAAsB,CAAC;oBAEnH,gCAAgC;gBACpC,CAAC;YACL,CAAC;QACL,CAAC;QACD,yDAAyD;QACzD,kDAAkD;IACtD,CAAC;IAED,UAAU,CAAC,GAAO;QAEd,qCAAqC;QACrC,sCAAsC;QACtC,8BAA8B;QAC9B,GAAG;QACH,0CAA0C;QAC1C,GAAG;QACH,2BAA2B;IAE/B,CAAC;CAEJ;AA9FY,WAAW;IALvB,wEAAS,CAAC;QACP,QAAQ,EAAE,cAAc;OACG;KAC9B,CAAC;gBAYqC;AAoFtC;SA9FY,WAAW,e;;;;;;;;;;;;;;;;;;;;;;;ACToB;AACG;AACe;AAC+C;AACxD;AAOrD,IAAa,YAAY,GAAzB;IA0BI,YAAoB,KAAgB,EAAU,UAAyB,EACnD,wBAAkD;QADlD,UAAK,GAAL,KAAK,CAAW;QAAU,eAAU,GAAV,UAAU,CAAe;QACnD,6BAAwB,GAAxB,wBAAwB,CAA0B;QAzBtE,iBAAiB;QACjB,gBAAW,GAAU,QAAQ,CAAC;QAC9B,cAAS,GAAY,uDAAuD,CAAC;QAC7E,gBAAW,GAAU,WAAW,CAAC;QACjC,eAAU,GAAW,+CAA+C,CAAC;QAErE,cAAS,GAAW,IAAI,CAAC;QACzB,kBAAa,GAAW,KAAK,CAAC;QAI9B,eAAU,GAAqB,IAAI,CAAC;QAEpC,YAAO,GAAS;YACZ,EAAC,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,iBAAiB,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAC;YAC3E,EAAC,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAC;YACvE,EAAC,IAAI,EAAE,iBAAiB,EAAE,MAAM,EAAE,sBAAsB,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,uDAAuD,EAAC;YACxI,EAAC,IAAI,EAAE,WAAW,EAAE,MAAM,EAAE,4BAA4B,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,qFAAgB,EAAC;YAClG,EAAC,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,gBAAgB,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,CAAS,CAAC,CAAC,EAAC;SACxF,CAAC;QACF,mBAAc,GAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,iBAAiB,CAAC,CAAC;IAKA,CAAC;IAE1E,QAAQ;QAEJ,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAChF,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC;IAChE,CAAC;IAED,wBAAwB;QAEpB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,EAAE,EAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CACrB,CAAC;YACG,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,iBAAiB,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC;YACnH,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC;QACD,IAAI;YACA,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAClC,CAAC;IAED,wBAAwB;QAEpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,UAAU;QAEN,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,IAAI,SAAS,CAAC,CAAC,CACpE,CAAC;YACG,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAClE,CAAC;gBACG,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAChF,CAAC;oBACG,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,SAAS,CAAC,CAAC,CAClF,CAAC;wBACG,MAAM,CAAC,IAAI,CAAC;oBAChB,CAAC;gBACL,CAAC;YACL,CAAC;QACL,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAED,aAAa;QAET,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;QAC1C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;QAE5C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACvD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACtD,CAAC;QACL,CAAC;QAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACvD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACzD,CAAC;QACL,CAAC;IACL,CAAC;IAED,MAAM;QAEF,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAC,MAAM,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;IACxB,CAAC;IAED,aAAa,CAAC,KAAS;QAEnB,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,SAAS,CAAC,CACxE,CAAC;YACG,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;QAC9B,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;QAC3D,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,MAAM,CAAC,CACvC,CAAC;YACG,EAAE,EAAC,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC;gBAAC,OAAO,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;YAC/D,IAAI;gBAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QACtI,CAAC;IACL,CAAC;IAED,YAAY;QAER,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;IAC9B,CAAC;IAED,QAAQ,CAAC,GAAO;QAEZ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,4EAAkB,EAAE,EAAE,KAAK,EAAG,GAAG,EAAE,CAAC,CAAC;IAC9D,CAAC;IAED,SAAS;QAEL,iBAAiB;QACjB,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAC,gBAAgB,EAAE,EAAE,EAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAC,gBAAgB,EAAE,EAAE,EAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,GAAG,EAAE,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,GAAG,EAAE,CAAC;QACxC,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAC/D,CAAC;YACG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAC,CAAC,CAAC;YAClE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAC,CAAC,CAAC;YAClE,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EACvE,CAAC;gBACG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,EAAE,EAAE,MAAM,EAAG,EAAE,EAAE,MAAM,EAAG,EAAE,EAAC,CAAC,CAAC;gBACxF,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,MAAM,EAAE,EAAE,EAAE,MAAM,EAAG,EAAE,EAAE,MAAM,EAAG,EAAE,EAAC,CAAC,CAAC;YAC5F,CAAC;QACL,CAAC;QAED,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAC/D,CAAC;YACG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAC/E,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAC/E,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EACvE,CAAC;gBACG,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC;oBAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBAC1F,IAAI,CAAC,CAAC;oBACF,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;oBACxG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBAC/F,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBAC/F,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;oBACvG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBAC/F,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;gBACnG,CAAC;YACL,CAAC;QACL,CAAC;IACL,CAAC;IAED,WAAW;QAEP,IAAI,GAAG,GAAY,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;QACnD,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE;YAAE,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAEhI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,UAAU,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;IACtF,CAAC;CACJ;AA9JkD;IAA9C,yEAAS,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,yEAAgB,EAAC,CAAC;8BAAS,yEAAgB;4CAAC;AAZ/D,YAAY;IALxB,wEAAS,CAAC;QACP,QAAQ,EAAE,eAAe;OACG;KAC/B,CAAC;yFA4ByE;QACzB,SAAwB;AA+IzE;SA1KY,YAAY,e;;;;;;;;;;;;;;;;;;;;;;ACXe;AACgB;AACZ;AACD;AAO3C,IAAa,gBAAgB,GAA7B;IAcI,YAAoB,YAA+B,EAAU,OAAqB;QAA9D,iBAAY,GAAZ,YAAY,CAAmB;QAAU,YAAO,GAAP,OAAO,CAAc;QAZlF,cAAS,GAAU,4BAA4B,CAAC;QAChD,gBAAW,GAAU,+BAA+B,CAAC;QACrD,iBAAY,GAAU,8BAA8B,CAAC;QACrD,cAAS,GAAU,yBAAyB,CAAC;QAE7C,cAAS,GAAW,IAAI,CAAC;QACzB,aAAQ,GAAW,KAAK,CAAC;QACzB,mBAAc,GAAU,CAAC,CAAC;QAC1B,cAAS,GAAU,UAAU,CAAC;QAE9B,eAAU,GAAO,IAAI,CAAC;IAE+D,CAAC;IAEtF,QAAQ;QAEJ,IAAI,CAAC,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtF,EAAE,EAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAClE,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACvF,CAAC;IAED,uBAAuB;QAEnB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;QAC/C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;IACtE,CAAC;IAED,MAAM;QAEF,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACnC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACnF,IAAI,CAAC,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtF,EAAE,EAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAClE,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;IAC/B,CAAC;IAED,cAAc,CAAC,GAAO;QAElB,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IAClJ,CAAC;IAED,gBAAgB,CAAC,GAAO;QAEpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kEAAa,EAAE,EAAC,UAAU,EAAE,GAAG,EAAC,CAAC,CAAC;IACxD,CAAC;CACJ;AAhDY,gBAAgB;IAL5B,wEAAS,CAAC;QACP,QAAQ,EAAE,oBAAoB;OACG;KACpC,CAAC;qBAgBoF;AAkCrF;SAhDY,gBAAgB,gB;;;;;;;;;;;;;;;;;;;;;;ACVW;AACgB;AACN;AAC6B;AAO/E,IAAa,aAAa,GAA1B;IAcI,YAAoB,YAA+B,EAAU,SAAmB,EAAU,GAAiB,EACvF,GAAY;QADZ,iBAAY,GAAZ,YAAY,CAAmB;QAAU,cAAS,GAAT,SAAS,CAAU;QAAU,QAAG,GAAH,GAAG,CAAc;QACvF,QAAG,GAAH,GAAG,CAAS;QAbhC,cAAS,GAAU,4BAA4B,CAAC;QAChD,gBAAW,GAAU,+BAA+B,CAAC;QACrD,iBAAY,GAAU,8BAA8B,CAAC;QACrD,cAAS,GAAU,yBAAyB,CAAC;QAE7C,aAAQ,GAAO,IAAI,CAAC;QACpB,cAAS,GAAW,KAAK,CAAC;QAC1B,oBAAe,GAAW,IAAI,CAAC;QAE/B,aAAQ,GAAW,KAAK,CAAC;QACzB,mBAAc,GAAU,CAAC,CAAC;QAKtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC/C,EAAE,EAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,SAAS,CAAC,CACvD,CAAC;YACG,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QACjC,CAAC;QACD,EAAE,EAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACtD,CAAC;IAED,QAAQ;QAEJ,IAAI,CAAC,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtF,EAAE,EAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAClE,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACvF,CAAC;IAED,uBAAuB;QAEnB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IAC3B,CAAC;IAED,MAAM;QAEF,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACnC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACnF,IAAI,CAAC,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtF,EAAE,EAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;YAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAClE,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;IAC/B,CAAC;IAED,YAAY,CAAC,GAAO;QAEhB,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IAClJ,CAAC;IAED,cAAc,CAAC,GAAO;QAElB,kCAAkC;QAClC,EAAE,EAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;gBACvB,IAAI,OAAO,GAAwB;oBAC/B,QAAQ,EAAE,KAAK;oBACf,MAAM,EAAE,IAAI;oBACZ,UAAU,EAAE,KAAK;oBACjB,iBAAiB,EAAE,KAAK;oBACxB,IAAI,EAAE,KAAK;oBACX,YAAY,EAAE,KAAK;oBACnB,+BAA+B,EAAE,IAAI;oBACrC,oBAAoB,EAAE,IAAI;oBAC1B,kBAAkB,EAAE,OAAO;oBAC3B,kBAAkB,EAAE,IAAI;oBACxB,OAAO,EAAE,KAAK;oBACd,mBAAmB,EAAE,IAAI;oBACzB,wBAAwB,EAAE,IAAI;oBAC9B,iBAAiB,EAAE,WAAW;oBAC9B,UAAU,EAAE,KAAK;iBACpB,CAAC;gBAEF,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;gBAC7D,iEAAiE;YACrE,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;CACJ;AAjFY,aAAa;IALzB,wEAAS,CAAC;QACP,QAAQ,EAAE,iBAAiB;OACG;KACjC,CAAC;yEAgB6G;QACnF,QAAQ;AAkEnC;SAjFY,aAAa,gB;;;;;;;;;;;;;;;;;;;;ACVc;AACA;AAOxC,IAAa,kBAAkB,GAA/B;IAII,YAAoB,SAAmB;QAAnB,cAAS,GAAT,SAAS,CAAU;QAEnC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACrC,EAAE,EAAC,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,CAC7C,CAAC;YACG,IAAI,CAAC,GAAG,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,eAAe,EAAE,sDAAsD,EAAC,CAAC;QACtG,CAAC;IACL,CAAC;CACJ;AAZY,kBAAkB;IAL9B,wEAAS,CAAC;QACP,QAAQ,EAAE,sBAAsB;OACG;KACtC,CAAC;uBAMyC;AAQ1C;SAZY,kBAAkB,gB;;;;;;;;;;;;;;;;;;;;;;;;ACAR;AAC0E;AAElD;AACS;AAClB;AAOtC,IAAa,QAAQ,GAArB;IAkBI,YAAoB,SAAkB,EAAU,SAAkB,EAAU,EAAmB,EAC3E,wBAAkD,EAAU,SAAyB,EACrF,KAAe,EAAU,OAAsB,EAAU,WAA6B;QAFtF,cAAS,GAAT,SAAS,CAAS;QAAU,cAAS,GAAT,SAAS,CAAS;QAAU,OAAE,GAAF,EAAE,CAAiB;QAC3E,6BAAwB,GAAxB,wBAAwB,CAA0B;QAAU,cAAS,GAAT,SAAS,CAAgB;QACrF,UAAK,GAAL,KAAK,CAAU;QAAU,YAAO,GAAP,OAAO,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAkB;QAlB1G,YAAO,GAAgB,EAAE,CAAC;QAC1B,gBAAW,GAAY,CAAC,4DAA4D,CAAC,CAAC;QACtF,eAAU,GAAS,EAAE,CAAC;QAEtB,WAAM,GAAW,KAAK,CAAC;QAEvB,cAAS,GAAa,IAAI,6DAAS,EAAE,CAAC;QAEtC,cAAS,GAAa,CAAC,CAAC;QACxB,YAAO,GAAe,CAAC,CAAC;QAExB,aAAQ,GAAe,KAAK,CAAC;QAC7B,kBAAa,GAAU,0BAA0B,CAAC;IAOjD,CAAC;IAEF,QAAQ;QAEJ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,GAAG,IAAI,CAAC,aAAa,CAAC;QACpE,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,WAAW;QAEP,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,oEAAoE;IACxE,CAAC;IAED,QAAQ;QAEJ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAC9B,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAClD,CAAC;YACG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACxD,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;YACtE,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YACtD,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;QAC1C,CAAC;IACL,CAAC;IAED,KAAK,CAAC,WAAW;QAEb,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EACtD,CAAC;YACG,IAAI,CAAC,GAAU,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACnC,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;YAC5B,MAAM,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAE,CAAC,IAAe,EAAE,EAAE,GAAG,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC;gBAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/G,CAAC;IACL,CAAC;IAGD,KAAK,CAAC,kBAAkB,CAAC,IAAW;QAEhC,IAAI,CAAC;YACD,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;YAE5B,IAAG,CAAC;gBACA,IAAI,CAAC,yCAAyC,CAAC,CAAC;YACpD,CAAC;YAAC,KAAK,EAAC,CAAC,CAAC,CAAC,CAAC;gBACR,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;gBAC5C,EAAE,EAAC,IAAI,CAAC,MAAM,CAAC;oBAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAClC,KAAK,EAAE,oBAAoB;wBAC3B,OAAO,EAAE,iMAAiM;wBAC1M,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,CAAC,IAAI,CAAC;qBAClB,CAAC,CAAC,OAAO,EAAE,CAAC;gBACb,MAAM,CAAC,IAAI,CAAC;YAChB,CAAC;YAED,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,GAAG,EAAE,kBAAkB,CAAC,CAAC;YACnD,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC;YAEhC,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC;YAC5B,MAAM,YAAY,GAAG,IAAI,QAAQ,CAAC,EAAE,EAAE,qBAAqB,GAAG,IAAI,CAAC,OAAO;gBACtE,8BAA8B,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;YAE7D,IAAI,QAAQ,GAAW,MAAM,CAAC,WAAW,CAAC;YAC1C,IAAI,KAAK,GAAW,MAAM,CAAC,QAAQ,CAAC;YAEpC,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;gBACpC,OAAO,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;gBACvC,MAAM,IAAI,KAAK,CAAC,8EAA8E,CAAC,CAAC;YACpG,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,IAAI,QAAQ,IAAI,IAAI,CAAC;gBAAC,KAAK,GAAG,IAAI,CAAC;YAEzD,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,KAAK,GAAG,iBAAiB,GAAG,QAAQ,CAAC,CAAC;YAEjE,2EAA2E;YAE3E,MAAM,MAAM,GAAG,EAAC,QAAQ,EAAE,mBAAmB,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,gCAAgC,CAAC,EAAC,CAAC;YACnI,MAAM,SAAS,GAAG,wEAAS,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;YAC5C,MAAM,MAAM,GAAG,uEAAQ,CAAC;gBACpB,YAAY,EAAE,CAAC,SAAS,CAAC;gBACzB,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aACjD,CAAC,CAAC,YAAY,CAAC,CAAC;YACjB,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,kCAAkC,CAAC,MAAM,CAAC,CAAC;YAElF,MAAM,WAAW,GAAG,IAAI,CAAC,wBAAwB,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;YACtF,MAAM,OAAO,GAAG,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACnD,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;YAElC,MAAM,OAAO,GAAG,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,mBAAmB,CAAC,CAAC;YAC3F,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;YACjE,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;YAE3C,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAEpF,OAAO,CAAC,QAAQ,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC3C,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAC3B,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAC3B,OAAO,CAAC,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;YACnC,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;YACrC,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;YAC/G,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAC5C,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,KAAa,EAAE,EAAE;gBAC3C,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC5B,CAAC,CAAC;YACF,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YAEjD,yBAAyB;YACzB,IAAI,UAAU,GAAe,MAAM,CAAC,QAAQ,CAAC;YAC7C,UAAU,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;YACtD,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACxC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YACtC,UAAU,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAEzD,iBAAiB;YACjB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YAChC,UAAU,CAAC,MAAM,EAAE,CAAC;YAEpB,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAEpG,MAAM,CAAC;gBACH,OAAO,EAAE,OAAO;gBAChB,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,UAAU,EAAE,UAAU;gBACtB,IAAI,EAAE,IAAI;gBACV,CAAC,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACrB,CAAC,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACrB,KAAK,EAAE,OAAO,CAAC,QAAQ,CAAC,KAAK;gBAC7B,MAAM,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM;aAClC,CAAC;QAEN,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACT,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YACxC,UAAU;YACV,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;IACL,CAAC;IAED,YAAY;QAER,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAClD,CAAC;YACG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QAChD,CAAC;QAED,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;IAChC,CAAC;IAED,WAAW,CAAC,KAAY;QAEpB,IAAI,GAAG,GAAU,CAAC,CAAC,CAAC;QACpB,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE;YAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClC,GAAG,GAAG,CAAC,CAAC;YACZ,CAAC;QAEL,EAAE,EAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACV,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAED,GAAG,EAAC,IAAI,CAAC,GAAU,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAClD,CAAC;YACG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC;YAC/C,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC;QAClC,CAAC;QAED,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED,eAAe;QAEX,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,GAAG,EAAC,IAAI,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,CAC5B,CAAC;YACG,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAChG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/B,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;YAE/B,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;QAC1C,CAAC;IACL,CAAC;IAED,IAAI;QAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC/B,GAAG,EAAC,IAAI,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC;YACxB,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC;IACzF,CAAC;IAED,oBAAoB,CAAC,OAAc;QAE/B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,KAAK,EAAE,oBAAoB;YAC3B,QAAQ,EAAE,OAAO,GAAG,mBAAmB;YACvC,QAAQ,EAAE,WAAW;YACrB,OAAO,EAAE,CAAC,IAAI,CAAC;SAClB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,aAAa,CAAC,IAAQ;QAElB,EAAE,EAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YAAC,MAAM,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+EAAmB,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC;IAC3D,CAAC;IAED,cAAc;QAEV,IAAI,UAAU,GAAY,EAAE,CAAC;QAE7B,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YAClC,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,uBAAuB;SACnC,CAAC,CAAC;QAEH,OAAO,CAAC,OAAO,EAAE,CAAC;QAElB,IAAI,GAAG,GAAkB,IAAI,cAAc,EAAE,CAAC;QAC9C,GAAG,CAAC,kBAAkB,GAAG,GAAG,EAAE;YAC1B,EAAE,EAAC,GAAG,CAAC,UAAU,IAAI,CAAC,CAAC,CACvB,CAAC;gBACG,EAAE,EAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CACrB,CAAC;oBACG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE;wBAChD,UAAU,CAAC,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;oBACtD,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,OAAO,EAAE,CAAC;oBAGlB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;oBAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;oBACpC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;oBAC7B,KAAK,CAAC,WAAW,CAAC,oCAAoC,CAAC,CAAC;oBACxD,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;oBAE/B,GAAG,EAAC,IAAI,CAAC,IAAI,UAAU,CAAC,CACxB,CAAC;wBACG,kDAAkD;wBAClD,IAAI,IAAI,GAAW,KAAK,CAAC;wBACzB,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC;4BAAC,IAAI,GAAG,IAAI,CAAC;wBAEnE,KAAK,CAAC,QAAQ,CAAC;4BACX,IAAI,EAAE,UAAU;4BAChB,KAAK,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,GAAE,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC;4BACnD,KAAK,EAAE,CAAC;4BACR,OAAO,EAAE,IAAI;4BACb,QAAQ,EAAE,IAAI;yBACjB,CAAC,CAAC;oBACP,CAAC;oBAED,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;oBAC1B,KAAK,CAAC,SAAS,CAAC;wBACZ,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,CAAC,IAAkB,EAAE,EAAE;4BAC5B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;4BACnB,wCAAwC;4BACxC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,KAAK,SAAS,CAAC,CAAC;4BAC5F,GAAG,EAAC,IAAI,CAAC,IAAI,IAAI,CAAC;gCACd,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAE,CAAC,UAAqB,EAAE,EAAE;oCACvD,EAAE,EAAC,UAAU,IAAI,IAAI,CAAC,CACtB,CAAC;wCACG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;wCAC9B,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC;oCAClE,CAAC;gCACL,CAAC,CAAC,CAAC;4BAEP,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;wBACxB,CAAC;qBACJ,CAAC,CAAC;oBAEH,KAAK,CAAC,OAAO,EAAE,CAAC;gBACpB,CAAC;YACL,CAAC;QACL,CAAC,CAAC;QACF,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QAC1C,GAAG,CAAC,IAAI,EAAE,CAAC;IACf,CAAC;CACJ;AA/R8C;IAA1C,yEAAS,CAAC,IAAI,EAAE,EAAC,IAAI,EAAE,yEAAgB,EAAC,CAAC;8BAAK,yEAAgB;oCAAC;AAhBvD,QAAQ;IALpB,wEAAS,CAAC;QACP,QAAQ,EAAE,WAAW;OACG;KAC3B,CAAC;+JAoB4D,CAAgC;QAC5C,wIAAwB,EAAoB,wEAAe;QAC/E,KAAgF;AA2R7G;EA/SY,QAAQ;AA0TrB,CAAM;AAAA;AAAA;CAAmB;AAkBzB,IAAa,UAAU,GAAvB;IAhBA;QAoBI,WAAkC;QAElC,MAAC,GAAU,CAAC,CAAC;QACb,MAAC,GAAU,CAAC,CAAC;QACb,UAAK,GAAU,CAAC,CAAC;QACjB,WAAM,GAAU,CAAC,CAAC;QAElB,SAAI,GAAU,OAAQ;QAEtB,cAAS,GAAU,CAAC,CAAC;KACmB;IAY5C,CAAC;IAVG,KAAK;QAED,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,CAAsB;KACrB;IACnC,CAAC;IAED,cAAc;KAE6D;EAC1E;CACJ;AAxBgD;IAA5C,SAAS,CAAC,MAAM,EAAE,EAAC,IAAI,EAAE,yEAAgB,CAAE;8BAAO,WAAgB;YAAC;AAChD;IAAnB,SAAS,CAAC,OAAO,CAAC;;yBAAmB;AAH7B,4EAAU;IAhBtB,SAAS,CAAC;QACP,QAAQ,EAAC,mEAAqH;YAC9H,sDAAuE;YACvE,oDAAoD;YACpD,cAAkG;YAClG,YAAY;YACZ,+CAA+C;YAC/C,6BAA+C;YAC/C,gBAA2B;YAC3B,eAAe;QACf,MAAM,EAAE,CAAC,6EAA6E,EAAE,6CAA6C;YAC5H,6IAA6I;YAC7I,uEAAuE,EAAE,yBAAqF;MAC5D;KAC9G,CAAC;AA4BD;SA1BY,UAAU,a;;;;;;;;;;;;;;;;;;;;AChWiB;AACA;AAOxC,IAAa,mBAAmB,GAAhC;IAII,YAAoB,SAAmB;QAAnB,cAAS,GAAT,SAAS,CAAU;QAEnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvC,EAAE,EAAC,IAAI,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC;YAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrE,CAAC;CACJ;AATY,mBAAmB;IAL/B,wEAAS,CAAC;QACP,QAAQ,EAAE,mBAAmB;OACQ;KACxC,CAAC;wBAMyC;AAK1C;SATY,mBAAmB,iB;;;;;;;;;;;ACR2C;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJM;AACH;AACkB;AACd;AACN;AAEN;AACH;AACkB;AACe;AACR;AACP;AACa;AACV;AACrB;AACM;AACG;AACI;AACqB;AACvB;AACX;AACM;AACmC;AACP;AACN;AAChB;AACmB;AACV;AACR;AACoC;AACvC;AACE;AACY;AACd;AACI;AACD;AACb;AACJ;AACe;AAoFvD,IAAa,SAAS,GAAtB;CAAyB;AAAZ,SAAS;IAlFrB,uEAAQ,CAAC;QACN,YAAY,EAAE;YACV,oEAAY;YACZ,kEAAQ;YACR,oFAAc;YACd,mGAAqB;YACrB,+EAAY;YACZ,2FAAkB;YAClB,qFAAc;YACd,kGAAoB;YACpB,wFAAe;YACf,mEAAQ;YACR,yEAAU;YACV,gFAAU;YACV,8EAAS;YACT,qGAAkB;YAClB,oHAAyB;YACzB,6EAAS;YACT,4EAAW;YACX,kGAAmB;YACnB,wFAAe;YACf,gFAAS;YACT,qGAAgB;YAChB,+FAAa;YACb,mEAAQ;YACR,mEAAQ;YACR,gFAAQ;YACR,qEAAU;YACV,2FAAmB;SACtB;QACD,OAAO,EAAE;YACL,gFAAa;YACb,+EAAgB;YAChB,kEAAW,CAAC,OAAO,CAAC,oEAAY,EAAE,EAAE,EAC5C;gBACE,KAAK,EAAE,EAEN;aACF,CAAC;YACM,2EAAkB,CAAC,OAAO,EAAE;SAC/B;QACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;QACrB,eAAe,EAAE;YACb,oEAAY;YACZ,kEAAQ;YACR,oFAAc;YACd,mGAAqB;YACrB,+EAAY;YACZ,2FAAkB;YAClB,qFAAc;YACd,kGAAoB;YACpB,wFAAe;YACf,mEAAQ;YACR,yEAAU;YACV,gFAAU;YACV,8EAAS;YACT,qGAAkB;YAClB,oHAAyB;YACzB,6EAAS;YACT,4EAAW;YACX,kGAAmB;YACnB,wFAAe;YACf,gFAAS;YACT,qGAAgB;YAChB,+FAAa;YACb,mEAAQ;YACR,mEAAQ;YACR,qEAAU;YACV,2FAAmB;SACtB;QACD,SAAS,EAAE;YACP,2EAAS;YACT,iFAAY;YACZ,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;YACpD,mEAAS;YACT,mFAAY;YACZ,iEAAI;YACJ,gFAAW;YACX,4GAAkB;YAClB,+EAAgB;SACnB;KACJ,CAAC;GACW,SAAS,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AC1HoB;AACH;AACc;AACM;AAEf;AAI5C,IAAa,YAAY,GAAzB;IAGE,YAAY,QAAkB,EAAE,SAAoB,EAAE,YAA0B;QAFhF,aAAQ,GAAO,kEAAQ,CAAC;QAGtB,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YACzB,gEAAgE;YAChE,iEAAiE;YACjE,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAXY,YAAY;IAHxB,wEAAS,CAAC;OACc;KACxB,CAAC;iBAIgF;AAQjF;SAXY,YAAY,oB;;;;;;;;ACPnB;IAIF,YAAoB,KAAe;QAAf,UAAK,GAAL,KAAK,CAAU;QAFnC,oBAAe,GAAS,EAAE,CAAC;IAEW,CAAC;IAGvC,UAAU;QAEN,EAAE,EAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAC7B,CAAC;YACG;;;;;;;;eAQG;YACH,IAAI,CAAC,GAAS,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;YAC1C,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACL,CAAC;IAED,YAAY,CAAC,IAAW;QAEpB,EAAE,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAAC,MAAM,CAAC;QAE9B,IAAI,MAAM,GAAS,EAAE,CAAC;QAEtB,MAAM,UAAU,GAAU,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;QACpD,MAAM,MAAM,GAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QAErC,IAAI,WAAW,GAAU,MAAM,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtD,IAAI,aAAa,GAAU,MAAM,CAAC,QAAQ,GAAG,YAAY,CAAC;QAC1D,MAAM,YAAY,GAAU,MAAM,CAAC,QAAQ,GAAG,WAAW,CAAC;QAE1D,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;YACjD,WAAW,GAAG,YAAY,GAAG,YAAY,CAAC;YAC1C,aAAa,GAAG,YAAY,GAAG,sBAAsB,CAAC;QAC1D,CAAC;QACD,MAAM,iBAAiB,GAAU,YAAY,GAAG,uBAAuB,CAAC;QACxE,MAAM,gBAAgB,GAAU,YAAY,GAAG,sBAAsB,CAAC;QAEtE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EACjE,CAAC;YACG,MAAM,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,EAAE,EAAC,CAAC,CAAC;YACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EACzE,CAAC;gBACG,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACxB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;oBAC1C,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBACxE,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBACpE,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBAC5E,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,UAAU,GAAG,4BAA4B,CAAC;oBAC3E,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,GAAG,UAAU,GAAG,4BAA4B,CAAC;gBACvF,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACJ,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,UAAU,GAAG,aAAa,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACxI,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,UAAU,GAAG,WAAW,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBAClI,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,UAAU,GAAG,iBAAiB,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACnI,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,YAAY,GAAG,UAAU,GAAG,gBAAgB,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,MAAM,CAAC;oBACjI,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,oBAAoB,GAAG,UAAU,GAAG,gBAAgB,GAAG,sBAAsB,CAAC;oBAEhG,gCAAgC;gBACpC,CAAC;YACL,CAAC;QACL,CAAC;QAED,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;CACJ;AAAA;AAAA;;;;;;;;;;;;;;ACzEoC;AAEM;AACb;AACS;AAGjC;IAUF,YAAY,SAAgB,EAAU,SAAyB;QAAzB,cAAS,GAAT,SAAS,CAAgB;QAR/D,SAAI,GAAG,IAAI,CAAC;QACZ,mBAAc,GAAW,KAAK,CAAC;QAC/B,eAAU,GAA4B,IAAI,CAAC;QAC3C,cAAS,GAAc,IAAI,CAAC;QAC5B,gBAAW,GAAU,IAAI,CAAC;QAE1B,QAAG,GAAe,IAAI,CAAC;QAInB,IAAI,qDAAK,EAAE,CAAC;QAEZ,MAAM,KAAK,GAAG,IAAI,CAAC;QACnB,IAAM,KAAK,GAAG,EAAE,CAAC;QAEjB,MAAM,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QAE7D,MAAM,IAAI,GAAG,wCAAK,CAAC;YACf,WAAW,EAAE,IAAI;YACjB,IAAI,EAAE,GAAG;SACZ,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAE7B,yBAAyB;QAEzB,kBAAkB;QAClB,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;QAClI,MAAM,CAAC,GAAG,EAAE,CAAC;QAEb,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,GAAE,CAAC,CAAC;QACxG,oBAAoB;QAEpB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAErB,oBAAoB;QAEpB,IAAI,CAAC,MAAM,GAAG;YACV,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC;QAC3C,CAAC,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,6BAA6B,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,iDAAiD,CAAC,CAAC;QAChE,IAAI,CAAC,OAAO,CAAC,wCAAwC,CAAC,CAAC;QACvD,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACjB,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE;YACvB,MAAM,SAAS,GAAG,CACd,CAAC,EAAE,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,WAAW,IAAI,CAAC,EAAE,CAAC,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAC9D,CAAC;YACF,EAAE,EAAC,EAAE,CAAC,OAAO,IAAI,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,CAChC,CAAC;gBACG,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,MAAM,CAAC;YACX,CAAC;YAED,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBAC1B,KAAK,GAAG,EAAE,CAAC;gBACX,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;gBACzB,2BAA2B;gBAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACb,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBACpB,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAChB,KAAK,IAAI,GAAG,CAAC;YACjB,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,EAAE;YAC/B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACjB,KAAK,IAAI,IAAI,CAAC;QAClB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,aAAa,CAAC,OAAc;QAExB,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC,CACvB,CAAC;YACG,EAAE,EAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC;gBAAC,MAAM,CAAC;YACnC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;QAClC,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACxB,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,EAAE,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC5B,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,UAAS,GAAG,EAAE,CAAC;oBAC5C,MAAM,CAAC,GAAG,CAAC;gBACf,CAAC,CAAC,CAAC;gBACH,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;gBAC5B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,4BAA4B;YACvD,CAAC;YAED,MAAM,CAAC,CAAC,GAAG,CAAC,CACZ,CAAC;gBACG,KAAK,MAAM;oBACP,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;oBAChC,KAAK,CAAC;gBACV,KAAK,MAAM;oBACP,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,CAAC;oBACnC,KAAK,CAAC;gBACV,KAAK,KAAK;oBACN,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC3B,IAAI,CAAC,iBAAiB,EAAE,CAAC;oBACzB;;;;sDAIkC;oBAClC,KAAK,CAAC;gBACV,KAAK,OAAO;oBACR,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;oBAClB,KAAK,CAAC;gBACV;oBACI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,uBAAuB,GAAG,GAAG,CAAC,CAAC;YACvD,CAAC;QACL,CAAC;IACL,CAAC;IAED,cAAc;QAEV,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IACvB,CAAC;IAED,QAAQ;QAEJ,EAAE,EAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC;YAC/B,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI;YAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IAED,iBAAiB;QAEb,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;QAExC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,8DAAS,CAAC,CAAC;QAC7C,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnD,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,cAAc,CAAC,IAAQ;QAEnB,EAAE,EAAC,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAC1D,CAAC;YACG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;YAC1C,MAAM,CAAC;QACX,CAAC;QAED,IAAI,CAAC,GAAG,GAAG,IAAI,kEAAW,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE;YACxE,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,IAAI,CAAC,IAAI;YACnB,QAAQ,EAAE,IAAI,CAAC,IAAI;YACnB,WAAW,EAAE,IAAI,CAAC,KAAK;YACvB,WAAW,EAAE,IAAI,CAAC,KAAK;SAC1B,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;QAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;IACpC,CAAC;CACJ;AAAA;AAAA;;;;;;;;YCnLD;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,uBAAuB,cAAc;AACrC;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,eAAe;AACtC,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,MAAM;AAC7B,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;;AAEA,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,KAAK;AACvC,gCAAgC,KAAK;AACrC;AACA,qCAAqC,MAAM,MAAM,MAAM;AACvD;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,8BAA8B;AAC9B;AACA,8BAA8B;AAC9B;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,OAAO;AAC9B,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,UAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,0BAA0B,WAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,4CAA4C;AAC5C;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,kDAAkD;AAClD,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,kBAAkB;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,qCAAqC,mBAAmB;AACxD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,2EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,KAAK,KAAK,KAAK;AAC1D,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,+DAA+D;AAC/D;AACA;AACA,0CAA0C,IAAI,IAAI,IAAI;AACtD;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,2CAA2C,KAAK;AAChD,0CAA0C,IAAI,IAAI,IAAI;AACtD,4CAA4C;AAC5C;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA,sCAAsC;AACtC;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,0CAA0C,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAClE;AACA;AACA;AACA;AACA;AACA,2CAA2C,KAAK,KAAK;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,IAAI,IAAI,IAAI;AACtD;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,0CAA0C,IAAI,IAAI;AAClD;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,0CAA0C,IAAI,IAAI;AAClD,0CAA0C;AAC1C;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,iCAAiC;AACjC;AACA,iCAAiC;AACjC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,sDAAsD;AACtD,qDAAqD;AACrD;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,sDAAsD;AACtD,qDAAqD;AACrD;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,sDAAsD;AACtD,qDAAqD;AACrD;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,sDAAsD;AACtD,qDAAqD;AACrD;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,cAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA,oDAAoD;AACpD,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,KAAK;AACnC;AACA,8BAA8B,KAAK;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA,wBAAwB;AACxB;AACA;AACA,gEAAgE;AAChE,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,6BAA6B,MAAM,MAAM;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,EAAE,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,+BAA+B;AAC/B;AACA,iCAAiC,IAAI,IAAI,IAAI,IAAI,IAAI,MAAM;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,2CAA2C,IAAI;AAC/C,qBAAqB;AACrB,4CAA4C,GAAG;AAC/C,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB,4CAA4C,MAAM;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,EAAE;AAC9C,8CAA8C,EAAE;AAChD;AACA;AACA;AACA;AACA;AACA,2CAA2C,EAAE;AAC7C,4CAA4C,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,KAAK,KAAK,KAAK;AACtC;AACA,uBAAuB,OAAO,OAAO,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA,gCAAgC;AAChC,uCAAuC;AACvC;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,IAAI,IAAI,IAAI;AAClC;AACA,sBAAsB,IAAI,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,IAAI,IAAI,IAAI;AAClC;AACA;AACA,sBAAsB,IAAI,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,IAAI,IAAI;AAC9B;AACA,sBAAsB,IAAI,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,sBAAsB,WAAW;AACjC;AACA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA,wCAAwC;AACxC,wCAAwC;AACxC,2CAA2C;AAC3C,6CAA6C;AAC7C,4CAA4C;AAC5C,oDAAoD;AACpD,4CAA4C;AAC5C,6CAA6C;AAC7C,qDAAqD;AACrD,6CAA6C;AAC7C,6CAA6C;AAC7C,2CAA2C;AAC3C,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,6BAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,IAAI;AACT,CAAC;AACD;;;AAGA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC,EAAE;;;;;;;;;ACttKG;IAUF,YAAY,WAAmB;QAR/B,gBAAW,GAAW,CAAC,CAAC;QACxB,cAAS,GAAa,CAAC,CAAC;QACxB,gBAAW,GAAW,EAAE,CAAC;QACzB,SAAI,GAAkB,CAAC,CAAC;QACxB,SAAI,GAAkB,CAAC,CAAC;QACxB,cAAS,GAAa,CAAC,CAAC;QACxB,YAAO,GAAe,CAAC,CAAC;QAGpB,EAAE,EAAC,WAAW,CAAC;YACX,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACvC,CAAC;IAED,WAAW,CAAC,aAAoB,EAAE,cAAqB;QAEnD,IAAI,KAAK,GAAW,aAAa,CAAC;QAClC,IAAI,MAAM,GAAU,cAAc,CAAC;QAEnC,EAAE,EAAC,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC,CAC7B,CAAC;YACG,MAAM,KAAK,GAAU,MAAM,CAAC,UAAU,GAAG,KAAK,CAAC;YAC/C,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;YACtB,MAAM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","file":"main.js","sourcesContent":["import {Injectable} from \"@angular/core\";\nimport {ModalController, Platform} from \"ionic-angular\";\nimport {Storage} from \"@ionic/storage\";\nimport {ConnectionErrorPage} from \"../pages/modals/error/connection-error\";\nimport {SearchData} from \"./SearchData\";\n\n\nexport var modelCounter:number = 0;\n\n@Injectable()\nexport class DataModel\n{\n    // Singletone Depreceated\n    // private static _instance:DataModel = null;\n    // public  static getInstance() { if(this._instance == null) return (this._instance = new DataModel()); else return this._instance;}\n    // { return this._instance || (this._instance = new DataModel()); };\n\n    // Debug switches\n    static FORCE_SELFHOST_DEBUG:boolean = false;\n    static FORCE_MOBILE_VISION:boolean = false;\n    static FORCE_CLIENT_FUNCTION:boolean = false;\n    //static FORCE_LOAD_LOCAL_META_META_FILE:boolean = false;\n    //static FORCE_MOBILE:boolean = false;\n\n    // Seed node (unused)\n    // SEED_META_META_HOST:string = \"141.5.108.30\";\n    // SEED_META_META_MOBILE_PORT:string = \"20110\";\n    // SEED_META_META_WEB_PORT:string = \"10110\";\n    // SEED_META_META_DIR:string = \"sites/default\";\n    // SEED_META_META_JSON:string = \"meta-meta.json\";\n\n    // Locations\n    static configJson:string = \"config.json\";\n    static monitoringUrlsJson:string = \"monitoring-urls.json\";\n    static systemsJson:string = \"systems.json\";\n    static visualizersJson:string = \"visualizers.json\";\n    static logsJson:string = \"logs.json\";\n    static humansJson:string = \"humans.json\";\n    static meta_meta_json:string = \"meta-meta.json\";\n    static summaryJson:string = \"index/latest/summary.json\";\n    static analysisJson:string = \"index/latest/analysis.json\";\n\n\n    // Data\n    metaMetaSites:any;\n    //host:string = \"141.5.108.30\"; // HOST and PORT have initial values due to the third option in constructor\n    //port:string = \"20200\";        // NOTE: This might get fixed (=removed) in the future\n    //dir :string = \"sites/default\";\n\n    config         :any = null;\n    monitoringUrls :any = null;\n    summary        :any = null;\n    systems        :any = null;\n    visualizers    :any = null;\n    logs           :any = null;\n    humans         :any = null;\n    analysis       :any = null;\n\n    // __backup        :InstanceObject = new InstanceObject(); (unused)\n    currentlyActive :InstanceObject = new InstanceObject();\n\n    configuration   :ConfigurationObject = new ConfigurationObject();\n\n    constructor(private plt:Platform, private storage:Storage, private modalCtrl: ModalController) {\n        modelCounter++;\n        console.log(\"DataModel creation counter: \" + modelCounter);\n        this.plt.ready().then(_ => {\n            this.findInitialConfiguration();\n            this.initLoop();\n        });\n    }\n\n    // Deprecated\n    /*static loadJSON(host:string, port:string, dir:string, json:string, callback: (response:any) => void, errCallback: (response:any) => any)\n    {\n      let url:string = \"\";\n      //let jsonContent:string = \"\";\n\n      if(host === \"localhost\") url = dir + \"/\" + json;\n      else url = \"http://\" + host + \":\" + port + \"/\" + dir + \"/\" + json;\n\n      console.log(\"READING: \" + url);\n\n      this.readFileAsync(url, callback, errCallback);\n    } */\n\n    // Deprecated\n    /* static loadJsonByConfig(config:ConfigObject, json:string, callback: (response:any) => void, errCallback: (response:any) => any)\n    {\n      //ConfigReader.loadJSON(ConfigReader.current.host, (this.isMobilePlatform() ? ConfigReader.current.mobile_port : ConfigReader.current.web_port),\n      //            config.data_dir, json, callback, errCallback);\n      if(config.dir == null || config.dir == undefined) { config.dir = \"sites/default\"; console.log(\"USING REPLACEMENT FOR CONFIG.DIR\"); }\n      //this.loadJSON(DataModel.getInstance().currentlyActive.host, DataModel.getInstance().currentlyActive.mobile_port, config.dir, json, callback, errCallback);\n\n    }*/\n\n    /* (unused)\n    static readFileAsync(url:string, callback: (response:any) => void, errCallback: (response:any) => void)\n    {\n        let req:XMLHttpRequest = new XMLHttpRequest();\n        try {\n            req.addEventListener(\"load\", (event) => { callback(req.response); });\n            req.addEventListener(\"error\", (event) => { errCallback(req.response); });\n            req.open(\"GET\", url, false);\n            req.send();\n        } catch(error) {\n            console.log(\"ERROR occurred: \", error);\n            errCallback(error);\n        }\n    }*/\n\n    // Asynchronous file loading\n    private loadingFinishedCallbacks:( () => void )[] = [];\n    private loadingStartedCallbacks: ( () => void )[] = [];\n    private loading:boolean = false;\n    private loadingFailed:boolean = false;\n\n    addLoadingFinishedCallback(callback: () => void) { this.loadingFinishedCallbacks.push(callback); }\n    removeLoadingFinishedCallback(callback: () => void) {\n        this.loadingFinishedCallbacks = this.loadingFinishedCallbacks.filter(obj => obj !== callback);\n    }\n\n    addLoadingStartedCallback(callback: () => void ) { this.loadingStartedCallbacks.push(callback); }\n    removeLoadingStartedCallback(callback: () => void) {\n        this.loadingStartedCallbacks = this.loadingStartedCallbacks.filter(obj => obj !== callback);\n    }\n\n    isLoading() { return this.loading; }\n\n    isLoadingFailed() { return this.loadingFailed; }\n\n    /* Deprecated\n    reload2()\n    {\n        this.loading = true;\n        for(let i:number = 0; i < this.loadingStartedCallbacks.length; i++)\n        {\n            console.log(\"Started start callback\");\n            this.loadingStartedCallbacks[i]();\n        }\n\n        this.config = this.syncLoadFile(this.getRemoteURL() + this.currentlyActive.dir + \"/\" + DataModel.configJson);\n\n        let urls:string[] = [ DataModel.monitoringUrlsJson, DataModel.systemsJson, DataModel.visualizersJson,\n                              DataModel.logsJson, DataModel.humansJson, DataModel.meta_meta_json, DataModel.summaryJson ];\n\n        // Find data_dir for summary JSON TODO Improve. This configuration is not secure\n        let summary_data_dir:string = \"data/\" + this.currentlyActive.name; //this.currentlyActive.dir.replace(\"sites\", \"data\");\n\n        for(let i:number = 0; i < urls.length; i++) {\n            if(this.currentlyActive.host === \"localhost\") urls[i] = this.currentlyActive.dir + \"/\" + urls[i];\n            else urls[i] = \"http://\" + this.currentlyActive.host + \":\" + this.currentlyActive.mobile_port + \"/\" +  //TODO Mobile Port is still the only used one.\n                (i == urls.length -1 ? summary_data_dir : this.currentlyActive.dir) + \"/\" + urls[i];\n        }\n\n        this.readFileListAsync(urls, this.finishingCallback.bind(this));\n    }*/\n\n    errors:any[] = [];\n\n    reload()\n    {\n        this.loading = true;\n        this.loadingFailed = false;\n        this.errors = [];\n        for(let i:number = 0; i < this.loadingStartedCallbacks.length; i++)\n        {\n            console.log(\"Started start callback\");\n            this.loadingStartedCallbacks[i]();\n        }\n        this.asyncLoadFile(this.getRemoteURL() + this.currentlyActive.dir + \"/\" + DataModel.configJson, this.reload_next.bind(this));\n    }\n\n    reload_next(content:any, statusCode:number)\n    {\n        if(statusCode == 200) this.config = JSON.parse(content);\n        else {\n            this.errors.push({\"url\" : this.getRemoteURL() + this.currentlyActive.dir + \"/\" + DataModel.configJson, \"code\" : statusCode});\n            this.initError();\n            this.loadingFailed = true;\n            this.loading = false;\n            for(let i:number = 0; i < this.loadingFinishedCallbacks.length; i++)\n            {\n                console.log(\"Started finished callback\");\n                this.loadingFinishedCallbacks[i]();\n            }\n            return;\n        }\n        let urls:string[] = [ DataModel.monitoringUrlsJson, DataModel.systemsJson, DataModel.visualizersJson,\n            DataModel.logsJson, DataModel.humansJson, DataModel.meta_meta_json, DataModel.summaryJson, DataModel.analysisJson ];\n        for(let i:number = 0; i < urls.length; i++)\n        {\n            if(this.currentlyActive.host == \"localhost\") urls[i] = this.currentlyActive.dir + \"/\" + urls[i];\n            else urls[i] = this.getRemoteURL() + ((i == urls.length -2) || (i == urls.length -1)\n                ? this.config.data_dir : this.currentlyActive.dir) + \"/\" + urls[i];\n        }\n        this.readFileListAsync(urls, this.finishingCallback.bind(this));\n    }\n\n    readFileListAsync(urls:string[], callback: (responses:any[], statusCodes:number[]) => void)\n    {\n        let results:any[] = new Array(urls.length);\n        let statusCodes:number[] = new Array(urls.length);\n        let remainingCounter:number = urls.length;\n\n        for(let i:number = 0; i < urls.length; i++)\n        {\n            console.log(\"READING: \" + urls[i]);\n            let req = new XMLHttpRequest();\n            req.onreadystatechange = (function (i, req) {\n                return function () {\n                    if(req.readyState == 4) {\n                        results[i] = req.response;\n                        statusCodes[i] = req.status;\n                        remainingCounter--;\n                        if(remainingCounter == 0) callback(results, statusCodes);\n                    }\n                };\n            }(i, req));\n            req.open(\"GET\", urls[i], true);\n            req.send();\n        }\n    }\n\n    finishingCallback(responses:any[], statusCodes:number[])\n    {\n        //console.log(\"THIS: \" + JSON.stringify(this));\n        //if(statusCodes[0] == 200) this.config = JSON.parse(responses[0]);\n        //else this.config = null;\n\n        // Prevent error through missing urls and systems\n        if(statusCodes[6] == 200 && responses[6])\n            responses[6] = responses[6].replace(\"__SYSTEMS_ARRAY__\", \"\\\"__SYSTEMS_ARRAY__\\\"\").replace(\"__URLS_ARRAY__\", \"\\\"__URLS_ARRAY__\\\"\");\n\n        if(statusCodes[0] == 200) this.monitoringUrls = JSON.parse(responses[0]);\n        else { this.monitoringUrls = null; this.pushError(DataModel.monitoringUrlsJson, statusCodes[0]); }\n\n        if(statusCodes[1] == 200) this.systems = JSON.parse(responses[1]);\n        else { this.systems = null; this.pushError(DataModel.systemsJson, statusCodes[1]); }\n\n        if(statusCodes[2] == 200) this.visualizers = JSON.parse(responses[2]);\n        else { this.visualizers = null; this.pushError(DataModel.visualizersJson, statusCodes[2]); }\n\n        if(statusCodes[3] == 200) this.logs = JSON.parse(responses[3]);\n        else { this.logs = null; this.pushError(DataModel.logsJson, statusCodes[3]); }\n\n        if(statusCodes[4] == 200) this.humans = JSON.parse(responses[4]);\n        else { this.humans = null; this.pushError(DataModel.humansJson, statusCodes[4]); }\n\n        if(statusCodes[5] == 200) this.metaMetaSites = JSON.parse(responses[5]);\n        else { this.metaMetaSites = null; this.pushError(DataModel.meta_meta_json, statusCodes[5]); }\n\n        if(statusCodes[6] == 200) this.summary = JSON.parse(responses[6]);\n        else { this.summary = null; this.pushError(DataModel.summaryJson, statusCodes[6]); }\n\n        if(statusCodes[7] == 200) this.analysis = JSON.parse(responses[7]);\n        else { this.analysis = null; this.pushError(DataModel.analysisJson, statusCodes[7])}\n\n        this.loading = false;\n        this.loadingFailed = this.errors.length > 6;\n\n        if(this.loadingFailed)\n        {\n            this.loading = false;\n            this.initError();\n        }\n\n        for(let i:number = 0; i < this.loadingFinishedCallbacks.length; i++)\n        {\n            console.log(\"Started finished callback\");\n            this.loadingFinishedCallbacks[i]();\n        }\n\n        let d = new SearchData(this);\n        d.updateData();\n    }\n\n    // Asynchronous load file\n    asyncLoadFile(url:string, callback: (content:any, statusCode:number) => void)\n    {\n        console.log(\"READING: \" + url);\n        let req = new XMLHttpRequest();\n        req.onreadystatechange = function () {\n            if(req.readyState == 4)\n            {\n                callback(req.response, req.status);\n            }\n        };\n        req.open(\"GET\", url, true);\n        req.send();\n    }\n\n    // Synchronous load JSON file (for config)\n    syncLoadFile(url:string)\n    {\n        console.log(\"Loading: \" + url);\n        let result:any = null;\n        let req = new XMLHttpRequest();\n        req.onreadystatechange = function () {\n            if(req.readyState == 4)\n            {\n                result = JSON.parse(req.response);\n            }\n        };\n        req.onerror = () => { console.log(\"ERROR LOADING FILE SYNC.\"); result = null;};\n        req.open(\"GET\", url, false);\n        req.send();\n        return result;\n    }\n\n    initError()\n    {\n        let preset:boolean = this.configuration.get().automaticFetch;\n        this.configuration.setAutomaticFetch(false);\n        console.log(\"ERROR initialized\");\n        const modal = this.modalCtrl.create(ConnectionErrorPage,\n            {\"host\": this.currentlyActive.host, \"mport\": this.currentlyActive.mobile_port,\n                \"wport\": this.currentlyActive.web_port, \"errors\" : this.errors});\n        modal.onDidDismiss(data => {\n            if(!(data == null || data == undefined || data.retry == null || data.retry == undefined) && data.retry) {\n                this.currentlyActive.host = data.host;\n                this.currentlyActive.web_port = data.wport;\n                this.currentlyActive.mobile_port = data.mport;\n                this.reload();\n                this.configuration.setAutomaticFetch(preset);\n                if(data.save != null || data.save != undefined || data.save)\n                    this.storage.set('instance', this.currentlyActive);\n            }\n            else {\n                this.configuration.setAutomaticFetch(preset);\n            }\n        });\n        modal.present();\n    }\n\n    // Helpers\n    getRemoteURL()\n    {\n        if(this.configuration.get().happyFaceCompatible)\n            return \"http://\" + this.currentlyActive.host + \":\" + this.currentlyActive.web_port + \"/\" + \"static/\";\n        else\n            return \"http://\" + this.currentlyActive.host + \":\" + this.currentlyActive.mobile_port + \"/\";\n    }\n\n    isHttpURL(url:string)\n    {\n        return new RegExp('^(http|https)(:\\\\/\\\\/)').test(url);\n    }\n\n    pushError(website:string, code:number)\n    {\n        this.errors.push({\"url\" : this.getRemoteURL() + this.currentlyActive.dir + \"/\" + website, \"code\" : code})\n    }\n\n    private plot_name:string = \"analysis\";\n\n    setLinks(datetime_dir) {\n        if(!this.config) return;\n        //let model:DataModel = DataModel.getInstance();\n        let remote_url:string = this.getRemoteURL();\n        let config:any = this.config;\n\n        let capture_dir:string = config.data_dir + \"/capture\";\n        let thumbnail_dir:string = config.data_dir + \"/thumbnail\";\n        let analysis_dir:string = config.data_dir + \"/analysis\";\n        if (this.configuration.get().enableMadVision) {\n            capture_dir = analysis_dir + \"/madvision\";\n            thumbnail_dir = analysis_dir + \"/madvision_thumbnail\";\n        }\n        let plot_analysis_dir:string = analysis_dir + \"/plot_analysis/latest\";\n        let plot_pathway_dir:string = analysis_dir + \"/plot_pathway/latest\";\n\n        for (let i: number = 0; i < this.monitoringUrls.length; i++) {\n            for (let j: number = 0; j < this.monitoringUrls[i].urls.length; j++) {\n                if ((this.monitoringUrls[i].urls[j].file_prefix == null)) {\n                    this.monitoringUrls[i].urls[j].thumbnail = remote_url + \"assets/img/img-missing.svg\";\n                    this.monitoringUrls[i].urls[j].image = remote_url + \"assets/img/img-missing.svg\";\n                    this.monitoringUrls[i].urls[j].analysis_plot = remote_url + \"assets/img/img-missing.svg\";\n                    this.monitoringUrls[i].urls[j].plot_pathway = remote_url + \"assets/img/img-missing.svg\";\n                    this.monitoringUrls[i].urls[j].plot_overall_pathway = remote_url + \"assets/img/img-missing.svg\";\n                } else {\n                    this.monitoringUrls[i].urls[j].thumbnail = remote_url + thumbnail_dir + \"/\" + datetime_dir + \"/\" + this.monitoringUrls[i].urls[j].file_prefix + \".jpg\";\n                    this.monitoringUrls[i].urls[j].image = remote_url + capture_dir + \"/\" + datetime_dir + \"/\" + this.monitoringUrls[i].urls[j].file_prefix + \".jpg\";\n                    this.monitoringUrls[i].urls[j].plot_analysis = remote_url + plot_analysis_dir + \"/\" + this.monitoringUrls[i].urls[j].file_prefix + \".png\";\n                    this.monitoringUrls[i].urls[j].plot_pathway = remote_url + plot_pathway_dir + \"/\" + this.monitoringUrls[i].urls[j].file_prefix + \".png\";\n                    this.monitoringUrls[i].urls[j].plot_overall_pathway = remote_url + plot_pathway_dir + \"/overall_pathway.png\";\n\n                    this.setPlots(this.plot_name);\n                }\n            }\n        }\n    }\n\n    setPlots(plot_name:string){\n        for (let i:number = 0; i < this.monitoringUrls.length; i++) {\n            for (let j:number = 0; j < this.monitoringUrls[i].urls.length; j++){\n                if ((this.monitoringUrls[i].urls[j].file_prefix == null)){\n                    console.log(\"DEBUG: nop\");\n                } else {\n                    if (plot_name == \"analysis\" ) this.monitoringUrls[i].urls[j].analysis_plot = this.monitoringUrls[i].urls[j].plot_analysis;\n                    if (plot_name == \"pathway\" ) this.monitoringUrls[i].urls[j].analysis_plot = this.monitoringUrls[i].urls[j].plot_pathway;\n                    if (plot_name == \"overall_pathway\" ) this.monitoringUrls[i].urls[j].analysis_plot = this.monitoringUrls[i].urls[j].plot_overall_pathway;\n                }\n            }\n        }\n    }\n\n\n    speakSummary()\n    {\n        if(this.configuration == null || this.summary == null || this.summary.text == null) return;\n        if(this.configuration == undefined || this.summary == undefined || this.summary.text == undefined) return;\n        if (this.configuration.get().enableTextSpeech) {\n\n            if(this.isiOS() || this.isAndroid())\n            {\n                if((<any>window).tts != null || (<any>window).tts != undefined)\n                {\n                    console.log(\"USING window.tts\");\n                    (<any>window).tts.speak({\n                        text: this.summary.text,\n                        locale: \"en-GB\",\n                        rate: 0.75\n                    })\n                }\n                else console.log(\"PLUGIN ERROR: TTS not found in window\");\n            }\n            else {\n                try { new SpeechSynthesisUtterance(); }\n                catch(error) {\n                    console.log(\"SpeechSynthesisUtterance not found. No voiceout possible. NOTE: SpeechSynthesis is not available in Firefox on Android\");\n                    return;\n                }\n                console.log(\"USING SpeechSynthesisUtterance\");\n                let u = new SpeechSynthesisUtterance();\n                u.text = this.summary.text;\n                u.lang = 'en-GB';\n                speechSynthesis.speak(u);\n            }\n        }\n    }\n\n\n    // Loop\n    loopHandler:number = null;\n    loopCounter:number = 0;\n\n    initLoop()\n    {\n        if(this.configuration.get().automaticFetch && this.configuration.get().enableTextSpeech) // List all loop content with &&\n        {\n            this.loopHandler = window.setInterval(() =>\n            {\n                this.loopCounter++;\n                // List all loop dependent configurations as if (like in automaticFetch below)\n                if(this.configuration.get().automaticFetch && (this.loopCounter % this.configuration.get().reloadInterval == 0))\n                    this.reload();\n\n                if(this.configuration.get().enableAutoReadout && (this.loopCounter % this.configuration.get().speakInterval == 0))\n                    this.speakSummary();\n\n            }, 60000);\n        }\n    }\n\n    updateLoop()\n    {\n        if(!this.loopHandler == null) clearInterval(this.loopHandler);\n        this.initLoop();\n        console.log(\"Updated Loop\");\n    }\n\n    // Initial configuration\n    findInitialConfiguration()\n    {\n        // App running on a webserver:\n        /* Deprecated\n        console.log(\"SELFHOST: \" + this.isHost() );\n        if(this.isHost())\n        {\n            this.currentlyActive.host = window.location.hostname;\n            this.currentlyActive.mobile_port = window.location.port;\n            this.currentlyActive.web_port = window.location.port;\n            this.currentlyActive.dir = \"sites/default\";\n\n            console.log(\"POSITION: \" + window.location.hostname + \":\" + window.location.port);\n            /*this.loadConfig();\n            this.currentlyActive.name = this.config.site_name;\n            //this.reload();\n        }\n        // App running on a clients device\n        else {\n            // Initial configuration\n            this.currentlyActive.name = \"GoeGrid\";\n            this.currentlyActive.host = \"141.5.108.30\";\n            this.currentlyActive.mobile_port = \"20200\";\n            this.currentlyActive.web_port = \"10200\";\n            this.currentlyActive.dir = \"sites/default\";\n\n        }\n\n        this.storage.get('instance').then((value) => {\n            if(value !== null && value !== undefined)\n                this.currentlyActive = value;\n            console.log(\"Saved Instance is: \" + JSON.stringify(value));\n            console.log(\"Running instance: \" + JSON.stringify(this.currentlyActive));\n            this.reload();\n        }); */\n\n        if(!this.isCordova())\n        {\n            this.currentlyActive.name = window.location.hostname;\n            this.currentlyActive.host = window.location.hostname;\n            this.currentlyActive.mobile_port = window.location.port;\n            this.currentlyActive.web_port = window.location.port;\n            this.currentlyActive.dir = \"sites/default\";\n\n            console.log(\"Position: \" + this.currentlyActive.host + \":\" + this.currentlyActive.mobile_port);\n\n            this.reload();\n        }\n        else {\n            // Initial configuration\n            this.currentlyActive.name = \"GoeGrid\";\n            this.currentlyActive.host = \"141.5.108.30\";\n            this.currentlyActive.mobile_port = \"20200\";\n            this.currentlyActive.web_port = \"10100\";\n            this.currentlyActive.dir = \"sites/default\";\n\n            this.storage.get('instance').then((value) => {\n                if(value !== null && value !== undefined) this.currentlyActive = value;\n\n                console.log(\"Using saved instance: \" + JSON.stringify(this.currentlyActive));\n                this.reload();\n            });\n        }\n    }\n\n    // Determinations.\n    // isMobilePhone() is used to rearrange the UI based on the smaller screen size on mobile phones\n    // isHost() is used to add/remove functions unnecessary on mobile phone / browser\n    // NOTE: isHost() is based on whether or not the mobile phone application is used because browsers are most likely connected to a remote host.\n\n    // Determine if screen size fits to a mobile device. NOTE: This doesn't say anything about device native functions\n    isMobilePhone()\n    {\n        return DataModel.FORCE_MOBILE_VISION || !this.plt.is('core');\n    }\n\n    // Determine whether this instance should show content hosted by itself or should connect to a remote host\n    // NOTE: connect to host is most likely true for mobile applications and self hosted content is most likely true for browser applications\n    isHost()\n    {\n        return (!DataModel.FORCE_CLIENT_FUNCTION) &&\n            (DataModel.FORCE_SELFHOST_DEBUG || this.plt.is('core') || this.plt.is('mobileweb'));\n    }\n\n    isAndroid()\n    {\n        return this.plt.is('android');\n    }\n\n    isiOS()\n    {\n        return this.plt.is('ios');\n    }\n\n    isCordova()\n    {\n        return this.plt.is('cordova');\n    }\n\n    /* Deprecated\n    isMobileApp()\n    {\n        if(this.plt.is('core')) return false;\n        else if(this.plt.is('android')) return true;\n        else if(this.plt.is('ios')) return true;\n        else if(this.plt.is('ipad')) return true;\n        else if(this.plt.is('iphone')) return true;\n        else if(this.plt.is('phablet')) return true;\n        else if(this.plt.is('tablet')) return true;\n        else return false;\n    }\n\n    isSelfServing()\n    {\n        // this has to be better in the future\n        let knownHosts:string[] = [\"141.5.108.30\", \"141.5.108.29\"];\n\n        let ownIP:string = \"\";\n        let req:XMLHttpRequest = new XMLHttpRequest();\n        req.onreadystatechange = function () {\n            if(req.readyState == 4 && req.status == 200) ownIP = req.response;\n        };\n        req.open(\"GET\", \"https://api.ipify.org\", false);\n        req.send();\n\n        console.log(\"OWN IP: \" + ownIP);\n        return knownHosts.indexOf(ownIP) > -1;\n    }*/\n}\n\nexport class ConfigObject\n{\n    myname:string = \"\";\n    site:string = \"\";\n    site_name:string = \"\";\n    port:string = \"\";\n    dir:string = \"\";\n    data_dir:string = \"\";\n    analysis_image_size:string = \"\";\n    keep_data_days:string = \"\";\n    log_level:string = \"\";\n    firefox_profile:string = \"\";\n    status:StatusObject[] = [];\n}\n\nexport class StatusObject\n{\n    name:string = \"\";\n    color:string = \"\";\n    file:string = \"\";\n}\n\nexport class InstanceObject\n{\n    name:string = \"\"; //\"GoeGrid\";\n    host:string = \"\"; //\"141.5.108.30\";\n    web_port:string = \"\"; //\"10200\";\n    mobile_port:string = \"\"; //\"20200\";\n    dir:string = \"\"; //\"sites/default\"; // sites/GoeGrid\n\n    /*changeActive(name:string, host:string, web_port:string, mobile_port:string, dir:string)\n    {\n        DataModel.getInstance().__backup = DataModel.getInstance().currentlyActive;\n        this.name = name;\n        this.host = host;\n        this.web_port = web_port;\n        this.mobile_port = mobile_port;\n        this.dir = dir;\n    }*/\n}\n\nexport class ConfigurationObject\n{\n    private _automaticFetch:boolean = false;\n    private _reloadInterval:number = 10;\n    private _automaticRotation:boolean = false;\n    private _detectOnlyChange:boolean = true;\n    private _enableMadVision:boolean = true;\n    private _enableTextSpeech:boolean = true;\n    private _enableAutoReadout:boolean = false;\n    private _speakInterval:number = 10;\n    private _happyFaceCompatible:boolean = false;\n\n    get() {\n        return {\n            \"automaticFetch\" : this._automaticFetch,\n            \"reloadInterval\" : this._reloadInterval,\n            \"automaticRotation\" : this._automaticRotation,\n            \"detectOnlyChange\" : this._detectOnlyChange,\n            \"enableMadVision\": this._enableMadVision,\n            \"enableTextSpeech\" : this._enableTextSpeech,\n            \"enableAutoReadout\" : this._enableAutoReadout,\n            \"speakInterval\" : this._speakInterval,\n            \"happyFaceCompatible\" : this._happyFaceCompatible\n        }\n    }\n\n    setAutomaticFetch(value: boolean) {this._automaticFetch = value;}\n    setReloadInterval(value: number) {this._reloadInterval = value;}\n    setAutomaticRotation(value: boolean) {this._automaticRotation = value;}\n    setDetectOnlyChange(value: boolean) {this._detectOnlyChange = value;}\n    setEnableMadVision(value: boolean) {this._enableMadVision = value;}\n    setEnableTextSpeech(value: boolean) {this._enableTextSpeech = value;}\n    setEnableAutoReadout(value: boolean) {this._enableAutoReadout = value; }\n    setSpeakInterval(value: number) {this._speakInterval = value;}\n    setHappyFaceCompatible(value: boolean) {this._happyFaceCompatible = value;}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/DataModel.ts","import {ViewController} from \"ionic-angular\";\nimport {Component} from \"@angular/core\";\nimport {Storage} from \"@ionic/storage\";\nimport { File, Entry, FileEntry } from '@ionic-native/file';\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport {DataModel} from \"../../../data/DataModel\";\n\n@Component({\n    templateUrl: \"pass-modal.html\"\n})\n\nexport class PassModal\n{\n    isiOS:boolean = false;\n    isAndroid:boolean = false;\n    isHost:boolean = false;\n\n    host:string = \"\";\n    port:number = 22;\n    user:string = \"\";\n    pass:string = \"\";\n\n    gateway:boolean = false;\n    gatewayHost:string = \"134.76.86.224\";\n    gatewayPort:string = \"10101\";\n\n    saveConfig:boolean = false;\n\n    constructor(private viewCtrl:ViewController, private storage:Storage, private model:DataModel,\n                private file:File, private chooser:FileChooser)\n    {}\n\n    ngOnInit()\n    {\n        this.isiOS = this.model.isiOS();\n        this.isAndroid = this.model.isAndroid();\n        this.isHost = this.model.isHost();\n\n        this.storage.get(\"SSH-Storage\").then(value =>\n        {\n            if(value)\n            {\n                this.storage.get(\"SSH-Storage-host\").then(value => { this.host = value; });\n                this.storage.get(\"SSH-Storage-port\").then(value => { this.port = value; });\n                this.storage.get(\"SSH-Storage-user\").then(value => { this.user = value; });\n\n                this.storage.get(\"SSH-Storage-gateway-host\").then(value => { this.gatewayHost = value; });\n                this.storage.get(\"SSH-Storage-gateway-port\").then(value => { this.gatewayPort = value; });\n\n                this.saveConfig = true;\n            }\n            else\n                this.saveConfig = false;\n        })\n    }\n\n    closeModal()\n    {\n        this.viewCtrl.dismiss({enter: false, host: \"\", port: 0, user: \"\", pass: \"\",\n            ghost: this.gatewayHost, gport: this.gatewayPort});\n    }\n\n    enter()\n    {\n        if(this.saveConfig)\n        {\n            this.storage.set(\"SSH-Storage\", true);\n\n            this.storage.set(\"SSH-Storage-host\", this.host);\n            this.storage.set(\"SSH-Storage-port\", this.port);\n            this.storage.set(\"SSH-Storage-user\", this.user);\n\n            this.storage.set(\"SSH-Storage-gateway-host\", this.gatewayHost);\n            this.storage.set(\"SSH-Storage-gateway-port\", this.gatewayPort);\n        }\n        else\n            this.storage.set(\"SSH-Storage\", false);\n\n        this.viewCtrl.dismiss({enter: true, host: this.host, port: this.port, user: this.user, pass: this.pass,\n            ghost: this.gatewayHost, gport: this.gatewayPort});\n    }\n\n    toogleGateway()\n    {\n        this.gateway = !this.gateway;\n    }\n\n    /*selectFile()\n    {\n        if(this.chooser)\n        {\n            this.chooser.open().then(uri => {\n                console.log(\"FILE URI: \" + uri);\n                this.file.resolveLocalFilesystemUrl(uri).then( entry => {\n                    if(entry.isFile)\n                    {\n\n                    }\n                })\n            });\n        }\n    }*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/ssh/pass-modal.ts","import {Injectable} from \"@angular/core\";\r\nimport {DataModel} from \"../../../data/DataModel\";\r\n\r\n@Injectable()\r\nexport class ClassicalDataModel\r\n{\r\n    categories:any = [];\r\n    lastRefreshed:any = new Date();\r\n    loading:boolean = false;\r\n\r\n    loadingFinishedCallbacks: (() => void)[] = [];\r\n\r\n    constructor(private model:DataModel)\r\n    {\r\n        this.reload();\r\n    }\r\n\r\n    reload()\r\n    {\r\n        this.loading = true;\r\n        let url:string = \"http://\" + this.model.currentlyActive.host + \":\" + this.model.currentlyActive.web_port + \"/category?action=getxml\";\r\n        this.asyncReadFile(url, this.parseXMLResult.bind(this));\r\n    }\r\n\r\n    asyncReadFile(url:string, callback: (response:any, statusCode:number) => void)\r\n    {\r\n        let req:XMLHttpRequest = new XMLHttpRequest();\r\n        req.onreadystatechange = () => {\r\n            if(req.readyState == 4)\r\n            {\r\n                callback(req.responseText, req.status);\r\n            }\r\n        };\r\n        req.open(\"GET\", url, true);\r\n        req.send();\r\n    }\r\n\r\n    parseXMLResult(response:string, statusCode:number)\r\n    {\r\n        let HFTree:any = [];\r\n        if(statusCode == 200)\r\n        {\r\n            response = response.replace(\"\\\\n\", \"\");\r\n            let cat:any = XML2JSON.xmlStringToJSON(response);\r\n            HFTree = cat.happyface;\r\n        }\r\n        else {\r\n            this.categories = null;\r\n            this.loading = false;\r\n            for(let i:number = 0; i < this.loadingFinishedCallbacks.length; i++)\r\n            {\r\n                this.loadingFinishedCallbacks[i]();\r\n            }\r\n            return;\r\n        }\r\n\r\n        // Parsing\r\n        for(let i:number = 0; i < HFTree.category.length; i++) HFTree.category[i].status = parseFloat(HFTree.category[i].status);\r\n        this.categories = HFTree.category;\r\n        this.lastRefreshed = new Date();\r\n        this.loading = false;\r\n        for(let i:number = 0; i < this.loadingFinishedCallbacks.length; i++)\r\n        {\r\n            this.loadingFinishedCallbacks[i]();\r\n        }\r\n    }\r\n\r\n    addLoadingFinishedCallback(callback: () => void) { this.loadingFinishedCallbacks.push(callback)};\r\n    isLoading() { return this.loading; }\r\n\r\n    loadModuleContent(module:any, callback: (data:any) => void)\r\n    {\r\n\r\n    }\r\n}\r\n\r\nexport class XML2JSON\r\n{\r\n    // Credits to http://davidwalsh.name/convert-xml-json and https://gist.github.com/chinchang/8106a82c56ad007e27b1\r\n\r\n    static xmlToJSON(xml:XMLDocument)\r\n    {\r\n        let obj:any = {};\r\n        if(xml.nodeType == 1)\r\n        {\r\n            if(xml.attributes.length > 0)\r\n            {\r\n                obj['@attributes'] = {};\r\n                for(let j:number = 0; j < xml.attributes.length; j++)\r\n                {\r\n                    const attribute = xml.attributes.item(j);\r\n                    obj['@attributes'][attribute.nodeName] = attribute.nodeValue;\r\n                }\r\n            }\r\n        }\r\n        else if(xml.nodeType == 3)\r\n        {\r\n            obj = xml.nodeValue;\r\n        }\r\n\r\n        if(xml.hasChildNodes() && xml.childNodes.length === 1 && xml.childNodes[0].nodeType === 3)\r\n        {\r\n            obj = xml.childNodes[0].nodeValue;\r\n        }\r\n        else if(xml.hasChildNodes())\r\n        {\r\n            for(let i:number = 0; i < xml.childNodes.length; i++)\r\n            {\r\n                const item:any = xml.childNodes.item(i);\r\n                const nodeName = item.nodeName;\r\n                if(nodeName === \"#text\") continue;\r\n                if(typeof(obj[nodeName]) == 'undefined')\r\n                {\r\n                    obj[nodeName] = this.xmlToJSON(item);\r\n                }\r\n                else {\r\n                    if(typeof(obj[nodeName].push) == 'undefined')\r\n                    {\r\n                        const old:any = obj[nodeName];\r\n                        obj[nodeName] = [];\r\n                        obj[nodeName].push(old);\r\n                    }\r\n                    obj[nodeName].push(this.xmlToJSON(item));\r\n                }\r\n            }\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    static xmlStringToJSON(str:string)\r\n    {\r\n        let xmlDOM:XMLDocument = new DOMParser().parseFromString(str, 'text/xml');\r\n        return this.xmlToJSON(xmlDOM);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/analyzer/hf-classical/ClassicalDataModel.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 117;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 117\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 159;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 159\n// module chunks = 0","import { Component } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport {NavController, NavParams } from 'ionic-angular';\nimport {MonitoringPage} from \"../monitoring/monitoring\";\nimport {ControllerPage} from \"../controller/controller\";\nimport {LogsPage} from \"../logs/logs\";\nimport {VisualizersPage} from \"../visualizers/visualizers\";\nimport {HumansPage} from \"../humans/humans\";\nimport {WorkingPage} from \"../working/working\";\nimport {ConfigPage} from \"../modals/config/config\";\nimport {AnalyzerPage} from \"../analyzer/analyzer\";\nimport {HomePage} from \"../home/home\";\nimport {TourPage} from \"../tour/tour\";\n\n/**\n * Generated class for the TabsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n//@IonicPage()\n@Component({\n  selector: 'page-tabs',\n  templateUrl: 'tabs.html',\n})\nexport class TabsPage {\n\n  tabHome      : any = HomePage;\n  tabMonitoring: any = MonitoringPage;\n  tabAnalyzer  : any = AnalyzerPage;\n  tabSystems   : any = ControllerPage;\n  tabVisualizer: any = VisualizersPage;\n  tabLogs      : any = LogsPage;\n  tabHumans    : any = HumansPage;\n  tabConfig    : any = ConfigPage;\n  tabWorking   : any = WorkingPage;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private storage:Storage) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TabsPage');\n\n      setTimeout(() => {\n          this.storage.get(\"startup\").then((value) => {\n              if(value == null || value == undefined || !value){\n                  this.storage.set(\"startup\", true);\n                  this.navCtrl.push(TourPage, {});\n                  console.log(\"Starting tour\");\n              }\n          })\n      }, 500);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import {Component} from \"@angular/core\";\nimport {DataModel} from \"../../data/DataModel\";\nimport {AlertController, ModalController, NavController} from \"ionic-angular\";\nimport {MonitoringWebviewPage} from \"./monitoring-webview\";\nimport {ModalPage} from \"../modals/config/modal\";\nimport {TourPage} from \"../tour/tour\";\n\n\n@Component({\n    selector: 'page-monitoring',\n    templateUrl: 'monitoring.html'\n})\n\nexport class MonitoringPage {\n\n    isLoading:boolean = true;\n    loadingFailed:boolean = false;\n\n    statusLevel:string = \"Warning\";\n    statusImg  :string = \"https://i.ytimg.com/vi/RqRNd4UyA4c/maxresdefault.jpg\";\n    statusColor:string = \"item-calm\";\n    statusText :string = \"World wide Atlas Distributed Computing System\";\n\n    history:any[];\n    latest:string;\n\n    monitoringURLs:any[];\n\n    // Helper\n    private plot_name:string = \"analysis\";\n\n    constructor(private model: DataModel, private navControl : NavController, private modalCtrl : ModalController, private alertCtrl: AlertController) {}\n\n    ngOnInit()\n    {\n        //DataModel.getInstance().addLoadingStartedCallback(this.onLoadingStartedListener.bind(this));\n        //DataModel.getInstance().addLoadingFinishedCallback(this.onReloadFinishedListener.bind(this));\n        //if(!DataModel.getInstance().isLoading()) this.onReloadFinishedListener();\n        this.model.addLoadingStartedCallback(this.onLoadingStartedListener.bind(this));\n        this.model.addLoadingFinishedCallback(this.onReloadFinishedListener.bind(this));\n        if(!this.model.isLoading()) this.onReloadFinishedListener();\n    }\n\n    onReloadFinishedListener()\n    {\n        this.isLoading = false;\n        if(this.dataExists()) {\n            this.loadingFailed = false;\n            this.setHistory();\n            this.setStatusCard();\n            this.model.setLinks(\"latest\");\n            this.monitoringURLs = this.model.monitoringUrls;\n        }\n        else\n            this.loadingFailed = true;\n    }\n\n    onLoadingStartedListener()\n    {\n        this.isLoading = true;\n    }\n\n    dataExists()\n    {\n       if(!(this.model.summary == null || this.model.summary == undefined))\n        {\n            if(!(this.model.config == null || this.model.config == undefined))\n            {\n                if(!(this.model.config.status == null || this.model.config.status == undefined))\n                {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    openModalConfig()\n    {\n        const modal = this.modalCtrl.create(ModalPage);\n        modal.present();\n    }\n\n    reload()\n    {\n        console.log(\"ISLOADING: \" + this.isLoading);\n        if(this.isLoading) return;\n        this.isLoading = true;\n        // DataModel.getInstance().reload();\n        this.model.reload();\n    }\n\n    historyChanged(event:any)\n    {\n        this.model.setLinks(event);\n        this.monitoringURLs = this.model.monitoringUrls;\n    }\n\n    setStatusCard()\n    {\n        //this.statusText  = DataModel.getInstance().summary.text;\n        //this.statusLevel = DataModel.getInstance().summary.level;\n        this.statusText = this.model.summary.text;\n        this.statusLevel = this.model.summary.level;\n\n        //let model:DataModel = DataModel.getInstance();\n        for (let i = 0; i < this.model.config.status.length; i++) {\n            if (this.model.config.status[i].name === this.statusLevel) {\n                this.statusImg = this.model.config.status[i].file;\n            }\n        }\n\n        for (let i = 0; i < this.model.config.status.length; i++) {\n            if (this.model.config.status[i].name === this.statusLevel) {\n                this.statusColor = this.model.config.status[i].color;\n            }\n        }\n    }\n\n    openHappyFaceCore()\n    {\n        window.open(\"http://\" + this.model.currentlyActive.host + \":\" + this.model.currentlyActive.web_port, \"_blank\");\n    }\n\n    setHistory()\n    {\n        //let str:string     = DataModel.getInstance().summary.history;\n        let str:string     = this.model.summary.history;\n        let array:string[] = str.split(\" \");\n        this.history       = [];\n        for(let i:number = 0; i < array.length; i++) this.history.push({\"name\" : array[i], \"datetime\" : array[i]});\n        if(this.history.length != 0) this.latest = this.history[0].datetime;\n        else this.latest = \"\";\n    }\n\n    openPage(url:any)\n    {\n        this.navControl.push(MonitoringWebviewPage, { 'url' : url });\n    }\n\n    speakSummary()\n    {\n        this.setStatusCard();\n\n        //DataModel.getInstance().speakSummary();\n        this.model.speakSummary();\n    }\n\n    openGuide()\n    {\n        this.navControl.push(TourPage, {});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/monitoring/monitoring.ts","import {Component} from \"@angular/core\";\r\nimport {NavParams, ViewController} from \"ionic-angular\";\r\n\r\n@Component({\r\n    selector: \"page-connection-error\",\r\n    templateUrl: \"connection-error.html\",\r\n})\r\n\r\nexport class ConnectionErrorPage\r\n{\r\n    host:string = \"\";\r\n    m_port:string = \"\";\r\n    w_port:string = \"\";\r\n    save:boolean = false;\r\n    statusCode:string = \"404\";\r\n    onlyOneCode:boolean = true;\r\n\r\n    missingFiles:any[] = [];\r\n\r\n    constructor(private viewCtrl: ViewController, private navParams: NavParams)\r\n    {\r\n        this.host = this.navParams.get(\"host\");\r\n        this.m_port = this.navParams.get(\"mport\");\r\n        this.w_port = this.navParams.get(\"wport\");\r\n        console.log(\"WEB: \" + this.w_port + \"  MOBILE: \" + this.m_port);\r\n\r\n\r\n        this.missingFiles = this.navParams.get(\"errors\");\r\n        if(!(this.missingFiles == null || this.missingFiles == undefined) || this.missingFiles.length > 0)\r\n        {\r\n            let s:number = this.missingFiles[0].code;\r\n            for(let i:number = 0; i < this.missingFiles.length; i++) this.onlyOneCode = (s == this.missingFiles[i].code);\r\n            this.statusCode = s.toString(10);\r\n        }\r\n    }\r\n\r\n    retry()\r\n    {\r\n        this.viewCtrl.dismiss({\"retry\": true, \"host\": this.host, \"mport\": this.m_port, \"wport\": this.w_port, \"save\": this.save});\r\n    }\r\n\r\n    closeModal()\r\n    {\r\n        this.viewCtrl.dismiss({\"retry\": false, \"host\": this.host, \"mport\": this.m_port, \"wport\": this.w_port, \"save\": this.save});\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/error/connection-error.ts","import {NavParams} from \"ionic-angular\";\r\nimport {Component} from \"@angular/core\";\r\n\r\n@Component({\r\n    templateUrl: 'monitoring-webview.html'\r\n})\r\n\r\nexport class MonitoringWebviewPage {\r\n    url:any;\r\n\r\n    constructor(private navParams:NavParams)\r\n    {\r\n        this.url = this.navParams.get('url');\r\n        if(this.url == null || this.url == undefined)\r\n        {\r\n            this.url = { \"name\" : \"\", \"image\" : \"http://i3.ytimg.com/vi/GYYvKxchHrM/maxresdefault.jpg\"};\r\n        }\r\n    }\r\n\r\n    changeToMadVision()\r\n    {\r\n\r\n\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/monitoring/monitoring-webview.ts","import {Component} from \"@angular/core\";\r\nimport {NavParams, ViewController} from \"ionic-angular\";\r\nimport {InstancesBrowserComponent} from \"./instances.browser.component\";\r\nimport {DataModel} from \"../../../data/DataModel\";\r\nimport {ConfigPage} from \"./config\";\r\n\r\n@Component({\r\n    templateUrl: 'modal.html'\r\n})\r\n\r\nexport class ModalPage\r\n{\r\n    rootPage:any = null; // ConfigPage;\r\n    rootParams:any = null;\r\n\r\n    constructor(model:DataModel, navParams: NavParams, viewCtrl: ViewController) {\r\n        this.rootPage = model.isHost() ? InstancesBrowserComponent : ConfigPage;\r\n        this.rootParams = Object.assign({}, navParams.data, {viewCtrl: viewCtrl});\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/config/modal.ts","import {Component} from \"@angular/core\";\nimport {DataModel, InstanceObject} from \"../../../data/DataModel\";\nimport {AlertController, NavController, NavParams, ViewController} from \"ionic-angular\";\nimport {ConfigPage} from \"./config\";\n\n@Component({\n    templateUrl: \"instances.browser.component.html\"\n})\n\nexport class InstancesBrowserComponent\n{\n    instances:InstanceObject[] = [];\n    isLoading:boolean = true;\n\n    constructor(private model:DataModel, private navParams:NavParams, private navCtrl:NavController, private alertCtrl:AlertController) {}\n\n    ngOnInit()\n    {\n        this.model.addLoadingStartedCallback(this.loadingFinished.bind(this));\n        if(!this.model.isLoading()) this.loadingFinished();\n    }\n\n    loadingFinished()\n    {\n        let req:XMLHttpRequest = new XMLHttpRequest();\n        req.onreadystatechange = () => {\n            if(req.readyState == 4 && req.status == 200)\n            {\n                this.updateList(req.response);\n                this.isLoading = false;\n            }\n        };\n        req.open(\"GET\", this.model.getRemoteURL() + \"sites/default/meta-meta.json\");\n        req.send();\n    }\n\n    updateList(str:string)\n    {\n        let json = JSON.parse(str);\n\n        for(let i:number = 0; i < json.length; i++) {\n            let obj: InstanceObject = json[i];\n            this.instances.push(obj);\n        }\n\n        if(this.instances.length == 1 && this.instances[0].constructor === Object)\n            this.instances = [];\n    }\n\n    choose(inst:InstanceObject)\n    {\n        if(inst.mobile_port == null || inst.web_port == null || inst.host == null)\n        {\n            this.alertCtrl.create({\n                title: \"Not supported\",\n                message: \"This instance is currently not supported in this application\",\n                cssClass: \"alertText\",\n                buttons: [\"OK\"]\n            }).present();\n        }\n        else {\n            console.log(\"OPEN: \" + inst.name);\n            window.open(\"http://\" + inst.host + \":\" + inst.mobile_port + \"/\", \"_blank\");\n            window.focus();\n        }\n    }\n\n    extSettings()\n    {\n        this.navCtrl.push(ConfigPage, {\"viewCtrl\": this.navParams.get('viewCtrl')});\n    }\n\n    webBackend()\n    {\n        if(!this.model.config || !this.model.config.web_port) return;\n        window.open(\"http://\" + this.model.currentlyActive.host + \":\" + this.model.config.web_port + \"/\", \"_blank\");\n    }\n\n    close()\n    {\n        let viewCtrl:ViewController = this.navParams.get('viewCtrl');\n        viewCtrl.dismiss();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/config/instances.browser.component.ts","import {Component} from \"@angular/core\";\nimport {AlertController, NavController, NavParams, Platform, ViewController} from \"ionic-angular\";\nimport {DataModel, InstanceObject} from \"../../../data/DataModel\";\nimport {Storage} from \"@ionic/storage\";\n\n@Component({\n    templateUrl: 'instances.component.html'\n})\n\nexport class InstancesComponent\n{\n    headURL:string = \"\"; //http://141.5.108.30:20100/sites/default/meta-meta.json\";\n    label:string = \"\";\n    isLoading:boolean = false;\n    locations: InstanceObject[] = [];\n    favorites: InstanceObject[] = [];\n    backstack: InstanceObject[] = [];\n    current:   InstanceObject = null;\n    level:number = 0;\n    final_level:number = 2;\n\n    levels:string[] = [ \"Cloud\", \"Region\", \"Cluster\"];\n    isIOS:boolean = false;\n\n    constructor(private model: DataModel, private navCtrl:NavController, private plt: Platform, private storage:Storage,\n                private navParams: NavParams, private alertCtrl:AlertController)\n            { this.isIOS = this.plt.is('ios'); }\n\n    ngOnInit()\n    {\n        this.storage.get('favorites').then((value) => {\n            if(!(value == null || value == undefined))\n                this.favorites = value;\n            else this.favorites = [];\n            console.log(\"FAVORITES: \" + JSON.stringify(value));\n        });\n        /*if(this.model.configuration.get().happyFaceCompatible)\n            this.headURL = \"http://141.5.108.29:10100/static/sites/default/meta-meta.json\";\n        else\n            this.headURL = \"http://141.5.108.29:20100/sites/default/meta-meta.json\";\n        */\n        this.headURL = \"https://raw.githubusercontent.com/HappyFaceGoettingen/HappyFace-MadMask/master/HappyFaceMobile/sites/top.json\";\n\n        this.isLoading = true;\n        let req = new XMLHttpRequest();\n        req.addEventListener(\"load\",() => {\n          this.updateList(req.responseText);\n          this.isLoading = false;\n        });\n        req.open(\"GET\", this.headURL);\n        req.send();\n\n        this.label = this.levels[this.level];\n    }\n\n    backClicked()\n    {\n        this.level--;\n        this.move(null);\n    }\n\n    itemClicked(loc:InstanceObject)\n    {\n        if(loc.host == null || loc.mobile_port == null ||loc.web_port == null)\n        {\n            this.alertCtrl.create({\n                title: \"Not supported\",\n                message: \"This instance is currently not supported in this application\",\n                cssClass: \"alertText\",\n                buttons: [\"OK\"]\n            }).present();\n        }\n        else {\n            this.level++;\n            this.move(loc);\n        }\n    }\n\n    move(loc:InstanceObject)\n    {\n        this.locations = [];\n        if(loc != null) this.backstack.push(this.current);\n        else loc = this.backstack.pop();\n        this.current = loc;\n        let url:string = \"\";\n\n        /*if(this.model.configuration.get().happyFaceCompatible)\n        {\n            if(this.level <= 0) { this.level = 0; url = this.headURL; }\n            else if(this.level == 1) url = \"http://\" + loc.host + \":\" + loc.web_port + \"/static/sites/default/meta-meta.json\";\n            else if(this.level >= 2) url = \"http://\" + loc.host + \":\" + loc.web_port + \"/static/sites/default/meta-meta.json\";\n        }\n        else {\n            if(this.level <= 0) { this.level = 0; url = this.headURL; }\n            else if(this.level == 1) url = \"http://\" + loc.host + \":\" + loc.mobile_port + \"/sites/default/meta-meta.json\";\n            else if(this.level >= 2) url = \"http://\" + loc.host + \":\" + loc.mobile_port + \"/sites/default/meta-meta.json\";\n        }*/\n\n\n        if(this.level <= 0) { this.level = 0; url = this.headURL; }\n        else {\n            if(this.level > this.final_level) this.level = this.final_level;\n            if(this.model.configuration.get().happyFaceCompatible)\n                url = \"http://\" + loc.host + \":\" + loc.web_port + \"/static/sites/default/meta-meta.json\";\n            else\n                url = \"http://\" + loc.host + \":\" + loc.mobile_port + \"/sites/default/meta-meta.json\";\n        }\n\n        this.isLoading = true;\n        let req = new XMLHttpRequest();\n        req.addEventListener(\"load\",() => {this.updateList(req.responseText); this.isLoading = false});\n        req.open(\"GET\", url);\n        req.send();\n        this.label = this.levels[this.level];\n    }\n\n    updateList(str:string)\n    {\n      let json = JSON.parse(str);\n\n      for(let i:number = 0; i < json.length; i++) {\n        let obj: InstanceObject = json[i];\n        this.locations.push(obj);\n      }\n    }\n\n    choose(loc: InstanceObject)\n    {\n        if(loc.mobile_port == null || loc.web_port == null || loc.host == null)\n        {\n            this.alertCtrl.create({\n                title: \"Not supported\",\n                message: \"This instance is currently not supported in this application\",\n                cssClass: \"alertText\",\n                buttons: [\"OK\"]\n            }).present();\n        }\n        else {\n            this.model.currentlyActive = loc;\n            this.storage.set('instance', this.model.currentlyActive);\n            this.model.reload();\n            let viewCtrl:ViewController = this.navParams.get(\"viewCtrl\");\n            if(viewCtrl != null || viewCtrl != undefined) viewCtrl.dismiss();\n            else this.navCtrl.pop();\n        }\n    }\n\n    favorite(loc: InstanceObject)\n    {\n        if(!(this.favorites.indexOf(loc) > -1)) {\n            this.favorites.push(loc);\n            this.storage.set('favorites', this.favorites);\n        }\n    }\n\n    unfavorite(loc: InstanceObject)\n    {\n        if(this.favorites.indexOf(loc) > -1) {\n            this.favorites = this.favorites.filter(obj => obj != loc);\n            this.storage.set('favorites', this.favorites);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/config/instances.component.ts","import {Component} from \"@angular/core\";\r\nimport {NavParams, ViewController} from \"ionic-angular\";\r\nimport {DataModel} from \"../../../data/DataModel\";\r\n\r\n@Component({\r\n    selector: \"about-page\",\r\n    templateUrl: \"about.html\"\r\n})\r\n\r\nexport class AboutPage\r\n{\r\n    versionCode:string = \"fetching version number ...\";\r\n    constructor(private navParams:NavParams, private model:DataModel)\r\n    {\r\n        this.model.addLoadingFinishedCallback(this.loadingFinished.bind(this));\r\n        if(!this.model.isLoading()) this.loadingFinished();\r\n    }\r\n\r\n    loadingFinished()\r\n    {\r\n        this.versionCode = this.model.config.version;\r\n    }\r\n\r\n    close()\r\n    {\r\n        let viewCtrl:ViewController = this.navParams.get('viewCtrl');\r\n        viewCtrl.dismiss();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/about/about.ts","import {Component} from \"@angular/core\";\nimport {DataModel} from \"../../data/DataModel\";\nimport {ModalController, NavController} from \"ionic-angular\";\nimport {ControllerDetailPage} from \"./controller-detail\";\nimport {SSHTerminalPage} from \"../modals/ssh/ssh-terminal\";\n\n@Component({\n    selector: 'page-controller',\n    templateUrl: 'controller.html'\n})\n\nexport class ControllerPage\n{\n    isLoading:boolean = true;\n    loadingFailed:boolean = false;\n    systems:any[] = [];\n\n    constructor(private model: DataModel, private navCtrl : NavController, private modalCtrl:ModalController) {}\n\n    ngOnInit()\n    {\n        // DataModel.getInstance().addLoadingStartedCallback(this.onLoadingStartedListener.bind(this));\n        // DataModel.getInstance().addLoadingFinishedCallback(this.reloadingFinishedCallback.bind(this));\n        // if(!DataModel.getInstance().isLoading()) this.reloadingFinishedCallback();\n        this.model.addLoadingStartedCallback(this.onLoadingStartedListener.bind(this));\n        this.model.addLoadingFinishedCallback(this.reloadingFinishedCallback.bind(this));\n        if(!this.model.isLoading()) this.reloadingFinishedCallback();\n    }\n\n    onLoadingStartedListener()\n    {\n        this.isLoading = true;\n    }\n\n    reloadingFinishedCallback()\n    {\n        this.systems = [];\n        this.isLoading = false;\n        if(!(this.model.systems == null || this.model.systems == undefined))\n        {\n            this.systems = this.model.systems;\n            this.loadingFailed = false;\n        }\n        else\n            this.loadingFailed = true;\n    }\n\n    reload()\n    {\n        if(this.isLoading) return;\n        this.isLoading = true;\n        this.model.reload();\n    }\n\n    openPage(system:any)\n    {\n        this.navCtrl.push(ControllerDetailPage, { \"system\": system});\n    }\n\n    openSSH()\n    {\n        console.log(\"SSH\");\n        this.modalCtrl.create(SSHTerminalPage).present();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/controller/controller.ts","import {Component} from \"@angular/core\";\nimport {AlertController, ModalController, NavParams} from \"ionic-angular\";\nimport {SSH2Wrapper} from \"../modals/ssh/SSH2-Wrapper\";\nimport {PassModal} from \"../modals/ssh/pass-modal\";\nimport {DataModel} from \"../../data/DataModel\";\nimport {SSH3Wrapper} from \"../modals/ssh/SSH3-Wrapper\";\n\n@Component({\n    selector: 'page-controller-detail',\n    templateUrl: 'controller-detail.html'\n})\n\nexport class ControllerDetailPage {\n    system: any = null;\n    sshWrapper: SSH2Wrapper = null;\n    ssh: SSH3Wrapper = null;\n    serviceTMP:any = null;\n\n    constructor(navParams: NavParams, private alertCtrl: AlertController, private modalCtrl: ModalController, private model: DataModel) {\n        this.system = navParams.get('system');\n\n        if (this.system == null || this.system == undefined) {\n            this.system = {\n                'name': \"Galaxy Controller\", \"text\": \"Restart Galaxy: Milky Way?\",\n                \"img\": \"http://i3.ytimg.com/vi/GYYvKxchHrM/maxresdefault.jpg\",\n                \"services\": [{\"name\": \"Restart Mass Portals\"}, {\"name\": \"Stop Reapers\"}]\n            };\n        }\n        else if(!this.system.services && this.system.actions)\n            this.system.services = this.system.actions;\n        else if(!this.system.services) this.system.services = [];\n    }\n\n    serviceStart(service: any) {\n        if (service.type != null && service.type != undefined) {\n            switch (service.type) {\n                case \"email\":\n                    window.location.href = service.command.replace(\"mail:\", \"mailto:\");\n                    break;\n                case \"ticket\":\n                    window.open(service.command.replace(\"url:\", \"\"), \"_blank\");\n                    break;\n                case \"ssh\":\n                    this.openSSH(service);\n                    break;\n            }\n        }\n    }\n\n    private activeService:any = null;\n\n    openSSH(service:any)\n    {\n        this.activeService = service;\n        this.askForCredentials();\n    }\n\n    askForCredentials()\n    {\n        let modal = this.modalCtrl.create(PassModal);\n        modal.onDidDismiss(this.gotCredentials.bind(this));\n        modal.present();\n    }\n\n    gotCredentials(data:any)\n    {\n        if(data == null || data.enter == undefined || !data.enter)\n        {\n            return;\n        }\n\n        this.ssh = new SSH3Wrapper(this, null, this.connReady.bind(this), {\n            host: data.host,\n            port: data.port,\n            username: data.user,\n            password: data.pass,\n            gatewayHost: data.ghost,\n            gatewayPort: data.gport\n        });\n    }\n\n    connReady()\n    {\n        if(this.activeService)\n            this.ssh.sendRaw(this.activeService.command + \"\\n\").then(() => { this.ssh.close(); });\n        else this.ssh.close();\n\n        this.activeService = null;\n    }\n\n    write(data:string)\n    {\n        console.log(data);\n        if(data.startsWith(\"Connection failed:\"))\n            this.alertCtrl.create({\n                title: \"SSH connection failed\",\n                message: \"Failed to connect to the ssh admin server. The command was not executed\",\n                buttons: [\"OK\"]\n            }).present();\n    }\n\n    writeln(data:string)\n    {\n        this.write(data + \"\\n\");\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/controller/controller-detail.ts","import {Crypt} from \"./Crypt\";\nimport {PassModal} from \"./pass-modal\";\nimport {ModalController} from \"ionic-angular\";\n\nexport class SSH3Wrapper\n{\n    /* GATEWAY */\n    gatewayHost:string = \"134.76.86.224\";\n    gatewayPort:string = \"10101\";\n\n    /* SSH CONNECTION */\n    host:string = null;\n    port:string = null;\n    username:string = null;\n    password:string = null;\n\n    ws:WebSocket = null;\n    connectionOpen:boolean = false;\n    onConnectionEnd:() => void = null;\n    onConnectionReady:() => void = null;\n    lastCMD:string = \"\";\n    crypt:Crypt = null;\n    ecdh:boolean = false;\n    auth:boolean = false;\n    mode:string  = 'AUTH';\n\n    term = null; // Terminal\n\n\n    constructor(term, onConnectionEnd:() => void, onConnectionReady:() => void, cred:SSHCredentials)\n    {\n        if(cred)\n        {\n            this.host     = cred.host;\n            this.port     = cred.port;\n            this.username = cred.username;\n            this.password = cred.password;\n\n            this.gatewayHost = cred.gatewayHost;\n            this.gatewayPort = cred.gatewayPort;\n        }\n\n        this.crypt = new Crypt();\n        this.crypt.send = this.sendClear.bind(this);\n        this.term = term;\n        this.onConnectionEnd = onConnectionEnd;\n        this.onConnectionReady = onConnectionReady;\n        this.ws = new WebSocket(this.getURL());\n\n        this.ws.onopen = () => {\n            console.log(\"Connection established: \" + this.getURL());\n            this.connectionOpen = true;\n\n        };\n\n        this.ws.onerror = (error) => {\n            console.error(\"Connection failed: \" + this.getURL());\n            this.term.writeln(\"Connection failed: \" + this.getURL());\n            this.connectionOpen = false;\n        };\n\n        this.ws.onmessage = (message:MessageEvent) => {\n\n            switch(this.mode)\n            {\n                case 'AUTH':\n                    // The server initiates the encryption\n                    this.crypt.initECDH(message.data);\n                    this.mode = \"CRED\";\n                    break;\n                case 'CRED':\n                    this.authenticate();\n                    this.mode = \"COMM\";\n                    if(this.onConnectionReady) setTimeout(() => { this.onConnectionReady(); }, 1000);\n                    break;\n                case 'COMM':\n                    // Decryption\n                    let iv  = message.data.substring(0, 32);\n                    let msg = message.data.substring(32);\n                    this.crypt.decrypt(msg, this.crypt.ecdh, iv).then(decrypted => {\n                        const clearMessage = Crypt.ab82str(decrypted);\n                        const type = clearMessage.substring(0, 3);\n\n                        msg = clearMessage.substring(4, message.data.indexOf(\"\\n\", 4)).replace(/[^\\x20-\\x7F]/g, \"\");\n                        if (this.lastCMD === msg) {                                              // SSH sends the last entered command again.\n                            msg = clearMessage.substring(message.data.indexOf(\"\\n\", 4) + 2);    // we dont want to display it.\n                        }\n                        else {\n                            msg = clearMessage.substring(4);\n                        }\n\n                        if (type === \"ERR:\")\n                            this.term.write(\"STDERR: \" + msg);\n                        else\n                            this.term.write(msg);\n                    });\n                    break;\n                default:\n            }\n\n            /*\n            // The server initiates the encryption\n            if(!this.ecdh) {\n                this.crypt.initECDH(message.data);\n                this.ecdh = true;\n            }\n            else {\n                // Decryption\n                let iv  = message.data.substring(0, 32);\n                let msg = message.data.substring(32);\n                this.crypt.decrypt(msg, this.crypt.ecdh, iv).then(decrypted => {\n                    const clearMessage = Crypt.ab82str(decrypted);\n                    console.log(\"CLEAR MSG: \" + clearMessage);\n                    const type = clearMessage.substring(0, 3);\n                    msg = clearMessage.substring(4, message.data.indexOf(\"\\n\", 4)).replace(/[^\\x20-\\x7F]/g, \"\");\n\n                    if (this.lastCMD === msg) {                                              // SSH sends the last entered command again.\n                        msg = clearMessage.substring(message.data.indexOf(\"\\n\", 4) + 2);    // we dont want to display it.\n                    }\n                    else {\n                        msg = clearMessage.substring(4);\n                    }\n\n                    if (type === \"ERR:\")\n                        this.term.write(\"STDERR: \" + msg);\n                    else\n                        this.term.write(msg);\n                });\n            }\n            */\n        };\n\n\n        this.ws.onclose = (close:CloseEvent) => {\n            console.error(\"Connection closed: \" + this.getURL());\n            if(close.code != 1000)\n            {\n                this.term.writeln(\"Connection closed abnormally. Code: \" + close.code);\n            }\n            this.connectionOpen = false;\n            if(this.onConnectionEnd) this.onConnectionEnd();\n        };\n\n        this.connectionOpen = true;\n    }\n\n    send(data:string):Promise<void>\n    {\n        if(!this.connectionOpen) return;\n        this.lastCMD = data.replace(/[^\\x20-\\x7F]/g, \"\");\n        //this.ws.send(data);\n        return this._send(data);\n    }\n\n    sendRaw(data:string):Promise<void>\n    {\n        //this.ws.send(data);\n        return this._send(data);\n    }\n\n    authenticate()\n    {\n        if(this.host && this.port && this.username && this.password)\n        {\n            this.sendRaw(this.host + \"|\" + this.port + \"|\" + this.username + \"|\" + this.password);\n            this.auth = true;\n        }\n        else\n            this.auth = false;\n    }\n\n    /**\n     * Send data UNENCRYPTED over the stream. Necessary for ecdh key exchange\n     * WARNING: Do never send data unencrypted if its not absolutely necessary.\n     *\n     * @param {string} data The string to be send\n     */\n    sendClear(data:string)\n    {\n        this.ws.send(data);\n    }\n\n    //Encryption\n    private _send(data:string):Promise<void>\n    {\n        return Promise.resolve(this.crypt.encrypt(data, this.crypt.ecdh).then(encrypted => {\n            this.ws.send(Crypt.buf2Hex(encrypted.iv) + Crypt.buf2Hex(encrypted.enc));\n        }));\n    }\n\n    close()\n    {\n        if(!this.connectionOpen) return;\n        this.connectionOpen = false;\n        this.ws.close(4004, \"Process killed\");\n        if(this.onConnectionEnd) this.onConnectionEnd();\n    }\n\n    getURL()\n    {\n        return \"ws://\" + this.gatewayHost + \":\" + this.gatewayPort;\n    }\n}\n\ninterface SSHCredentials\n{\n    host:string;\n    port:string;\n    username:string;\n    password:string;\n    gatewayHost:string;\n    gatewayPort:string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/ssh/SSH3-Wrapper.ts","\nexport class Crypt\n{\n    arr:Uint32Array = null;\n    ecdh = null;\n\n    send:(str:string) => void = null;\n\n    constructor()\n    {}\n\n\n    initECDH(remoteKey)\n    {\n        let localKey = null;\n        let secret   = null;\n\n        window.crypto.subtle.generateKey({\n            name: \"ECDH\",\n            namedCurve: \"P-521\"\n        }, false, ['deriveKey', 'deriveBits'])\n        .then((key) => {\n            localKey = key;\n            return window.crypto.subtle.exportKey('raw', key.publicKey);\n        })\n        .then(pubKeyExported => {\n            const pubKeyHex = Crypt.buf2Hex(pubKeyExported);\n\n            if(this.send == null) return;\n            this.send(pubKeyHex);\n\n            return window.crypto.subtle.importKey('raw', Crypt.hex2Arr(remoteKey),\n                {\n                    name: \"ECDH\",\n                    namedCurve: \"P-521\"\n                }, true, []);\n        })\n        .then(importedRemoteKey => {\n\n            return (<any>window).crypto.subtle.deriveBits({\n                name: \"ECDH\",\n                namedCurve: \"P-521\",\n                public: importedRemoteKey\n            }, localKey.privateKey, 528);\n        })\n        .then(sharedSecret => {\n            // console.log(Crypt.buf2Hex(sharedSecret));  // Display Shared secret\n            secret = Crypt.buf2Hex(sharedSecret);\n            this.ecdh = secret;\n        });\n    }\n\n    // Cryptography\n    encrypt(data:string, key:any)\n    {\n        const iv = window.crypto.getRandomValues(new Uint8Array(16));\n        const buffer = Crypt.str2ab8(data);\n        const keybuffer = Crypt.hex2Arr(key);\n        // SHA 256\n        return window.crypto.subtle.digest('SHA-256', keybuffer).then((keyHashSHA) => {\n            return window.crypto.subtle.importKey('raw', keyHashSHA, { name: 'AES-CBC', length: 256},\n                false, ['encrypt']).then(cryptoKey => {\n                return window.crypto.subtle.encrypt({\n                    name: \"AES-CBC\",\n                    length: 256,\n                    iv: iv\n                }, cryptoKey, buffer).then((encrypted) => {\n                    return { enc: encrypted, iv: iv };\n                });\n            })\n\n        });\n    }\n\n    decrypt(data:string, key:any, ivstring:string)\n    {\n        const iv  = Crypt.hex2Arr(ivstring);\n        const buffer = Crypt.hex2Arr(data);\n        const keybuffer = Crypt.hex2Arr(key);\n\n        return window.crypto.subtle.digest('SHA-256', keybuffer).then(keyHashSHA => {\n            return window.crypto.subtle.importKey('raw', keyHashSHA, { name: 'AES-CBC', length: 256},\n                false, ['decrypt']).then(cryptoKey => {\n                    return window.crypto.subtle.decrypt({\n                        name: \"AES-CBC\",\n                        length: 256,\n                        iv: iv\n                    }, cryptoKey, buffer).then(decrypted => {\n                        return decrypted;\n                    })\n            })\n        });\n    }\n\n    // Helpers\n    static hex2Arr(str:string)\n    {\n        if(!str) return new Uint8Array(0);\n        const tmp = [];\n        for(let i = 0, len = str.length; i < len; i += 2)\n            tmp.push(parseInt(str.substr(i, 2), 16));\n\n        return new Uint8Array(tmp);\n    }\n\n    static buf2Hex(buf)\n    {\n        return Array.from(new Uint8Array(buf)).map(x => ('00' + x.toString(16)).slice(-2)).join('');\n    }\n\n    static str2ab(str)\n    {\n        const buf = new ArrayBuffer(str.length * 2);\n        const bufView = new Uint16Array(buf);\n        for(let i = 0, strlen = str.length; i < strlen; i++)\n            bufView[i] = str.charCodeAt(i);\n        return buf;\n    }\n\n    static ab2str(buf) {\n        return String.fromCharCode.apply(null, new Uint16Array(buf));\n    }\n\n    static str2ab8(str) {\n        const buf = new ArrayBuffer(str.length);\n        const bufView = new Uint8Array(buf);\n        for(let i = 0; i < str.length; i++)\n            bufView[i] = str.charCodeAt(i);\n        return buf;\n    }\n\n    static ab82str(buf) {\n        return String.fromCharCode.apply(null, new Uint8Array(buf));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/ssh/Crypt.ts","import {Component} from \"@angular/core\";\nimport {AlertController, ModalController, ViewController} from \"ionic-angular\";\n//import {Terminal2} from \"./Terminal2\";\nimport {DataModel} from \"../../../data/DataModel\";\nimport {Terminal3} from \"./Terminal3\";\n//import {SSH2Wrapper} from \"./SSH2-Wrapper\";\n\n@Component({\n    selector: \"page-ssh\",\n    templateUrl: \"ssh-terminal.html\"\n})\n\nexport class SSHTerminalPage\n{\n    //term:Terminal2 = null;\n    term:Terminal3 = null;\n    promt:string = \"[usr@happy] #\";\n\n    constructor(private viewCtrl:ViewController, private alertCtrl: AlertController, private model:DataModel,\n                private modalCtrl: ModalController) { }\n\n    ngOnInit()\n    {\n        // #input-line cmdline\n        //console.log(\"cmdLine: \" + JSON.stringify(document.querySelector(\".cmdline\")));\n        //this.term = new Terminal2('.cmdline', '#container output',\n        //    this.alertCtrl, this.model, this.modalCtrl, this.viewCtrl);\n        //this.term.setPromtChange(this.promtChange.bind(this));\n        this.term = new Terminal3('terminal-container', this.modalCtrl);\n    };\n\n    promtChange(p:string)\n    {\n        this.promt = p;\n    }\n\n    closeModal()\n    {\n        this.viewCtrl.dismiss();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/ssh/ssh-terminal.ts","import {Component} from \"@angular/core\";\nimport {DataModel} from \"../../data/DataModel\";\n\n@Component({\n    selector: 'page-logs',\n    templateUrl: 'logs.html'\n})\n\nexport class LogsPage\n{\n    logs:any[] = [];\n    selectedLog:any = null;\n    logText:string = \"\";\n\n    isLoading:boolean = false;\n    loadingFailed:boolean = false;\n\n    constructor(private model: DataModel) {}\n\n    ngOnInit()\n    {\n        //DataModel.getInstance().addLoadingFinishedCallback(this.reloadingFinishedListener.bind(this));\n        //if(!DataModel.getInstance().isLoading()) this.reloadingFinishedListener();\n        this.model.addLoadingFinishedCallback(this.reloadingFinishedListener.bind(this));\n        if(!this.model.isLoading()) this.reloadingFinishedListener();\n    }\n\n    reloadingFinishedListener()\n    {\n        //let model:DataModel = DataModel.getInstance();\n        this.logs = [];\n        if(!(this.model.logs == null || this.model.logs == undefined || this.model.config == null || this.model.config == undefined))\n        {\n            this.modifyURLs();\n            this.logs = this.model.logs;\n            this.selectedLog = this.logs[0];\n            this.loadSelectedLog();\n        }\n    }\n\n    reload()\n    {\n        if(this.isLoading) return;\n        this.loadSelectedLog();\n    }\n\n    logSelected($event)\n    {\n        this.selectedLog = $event;\n        this.loadSelectedLog();\n    }\n\n    loadSelectedLog()\n    {\n        this.isLoading = true;\n        this.loadingFailed = this.model.isLoadingFailed();\n        //DataModel.getInstance().asyncLoadFile(this.selectedLog.file, this.logLoaded.bind(this))\n        this.model.asyncLoadFile(this.selectedLog.file, this.logLoaded.bind(this));\n    }\n\n    modifyURLs()\n    {\n        let log_dir = this.model.config.data_dir + \"/log\";\n        let remote_url = this.model.getRemoteURL();\n        for (let i = 0; i < this.model.logs.length; i++) {\n            // If it does not begin with 'http', then basename of log name is set\n            // For example, /tmp/cron.log --> cron.log --> remote_url + data_dir + '/log/' + cron.log\n\n            if (!this.model.isHttpURL(this.model.logs[i].file)){\n                let logname = this.model.logs[i].file;\n                let base_logfile = logname.split('/').reverse()[0];\n                this.model.logs[i].file = remote_url + \"/\" + log_dir + \"/\" + base_logfile;\n            }\n        }\n    }\n\n    logLoaded(log:string, statusCode:number)\n    {\n        if(statusCode == 200) this.logText = log.replace(/\\n/gm, \"<br>\");\n        else this.logText = \"ERROR: Log could not be loaded\";\n        this.isLoading = false;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/logs/logs.ts","import {Component} from \"@angular/core\";\nimport {DataModel} from \"../../data/DataModel\";\n\n@Component({\n    selector: 'page-visualizers',\n    templateUrl: 'visualizers.html'\n})\n\nexport class VisualizersPage\n{\n    visualizers:any[] = [];\n    selectedVisualizer:any = null;\n\n    isLoading:boolean = true;\n    loadingFailed:boolean = false;\n\n    constructor(private model:DataModel) {}\n\n    ngOnInit()\n    {\n        this.model.addLoadingStartedCallback(this.onLoadingStartedListener.bind(this));\n        this.model.addLoadingFinishedCallback(this.reloadingFinishedListener.bind(this));\n        if(!this.model.isLoading()) this.reloadingFinishedListener();\n    }\n\n    reloadingFinishedListener()\n    {\n        this.visualizers = [];\n        this.isLoading = false;\n        if(!(this.model.visualizers == null || this.model.visualizers == undefined))\n        {\n            this.loadingFailed = false;\n            this.visualizers = this.model.visualizers;\n            this.modifyLinks();\n            this.selectedVisualizer = this.visualizers[0];\n        }\n        else\n            this.loadingFailed = true;\n    }\n\n    onLoadingStartedListener()\n    {\n        this.isLoading = true;\n    }\n\n    /* Deprecated\n    createErrorLoadingPopup()\n    {\n        //let model:DataModel = DataModel.getInstance();\n        const alert = this.alertCtrl.create({\n            title: '<b>Connection error</b>',\n            subTitle: 'Unable to  connect to given instance<br\\>Host: ' + this.model.currentlyActive.host + '<br\\>Port: ' + this.model.currentlyActive.mobile_port,\n            buttons: ['OK']\n        });\n        alert.present();\n    }*/\n\n    reload()\n    {\n        if(this.isLoading) return;\n        this.isLoading = true;\n        //DataModel.getInstance().reload();\n        this.model.reload();\n    }\n\n    modifyLinks(){\n        //let model:DataModel = DataModel.getInstance();\n        for (let i = 0; i < this.model.visualizers.length; i++) {\n            let remote_url = this.model.getRemoteURL();\n            if (this.model.isHttpURL(this.model.visualizers[i].file)) remote_url= \"\";\n            this.model.visualizers[i].file = remote_url + this.model.visualizers[i].file;\n        }\n    }\n\n    visualizerSelected($event:any)\n    {\n        this.selectedVisualizer = $event;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/visualizers/visualizers.ts","import {Component} from \"@angular/core\";\r\nimport {DataModel} from \"../../data/DataModel\";\r\n\r\n@Component({\r\n    selector: 'page-humans',\r\n    templateUrl: 'humans.html'\r\n})\r\n\r\nexport class HumansPage\r\n{\r\n    humans:any[] = [];\r\n\r\n    constructor(private model:DataModel) {}\r\n\r\n    ngOnInit()\r\n    {\r\n        //DataModel.getInstance().addLoadingFinishedCallback(this.reloadingFinishedCallback.bind(this));\r\n        //if(!DataModel.getInstance().isLoading()) this.reloadingFinishedCallback();\r\n        this.model.addLoadingFinishedCallback(this.reloadingFinishedCallback.bind(this));\r\n        if(!this.model.isLoading()) this.reloadingFinishedCallback();\r\n    }\r\n\r\n    reloadingFinishedCallback()\r\n    {\r\n        //this.humans = DataModel.getInstance().humans;\r\n        this.humans = this.model.humans;\r\n        if(this.humans == null || this.humans == undefined)\r\n        {\r\n            this.humans = [{ \"name\" : \"Commander John Shepard\", \"img\" : \"https://yt3.ggpht.com/a-/AJLlDp22ITbg7LJa22ARdZVTVnouLreNJE6M60QYjA=s900-mo-c-c0xffffffff-rj-k-no\",\r\n                             \"email\": \"john.shepard@navy.alliace\", \"tel\": \"01713387554\", \"text\" : \"The chances of surviving are... slim.\", \"url\": \"\"}];\r\n        }\r\n    }\r\n\r\n    openHuman(human:any)\r\n    {\r\n        console.log(\"HUMAN: \" +JSON.stringify(human));\r\n        window.open(human.url, \"_system\");\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/humans/humans.ts","import {Component} from \"@angular/core\";\nimport {DataModel} from \"../../data/DataModel\";\n//import {DataSearch} from \"../../data/DataSearch\";\n\n@Component({\n    selector: 'page-working',\n    templateUrl: 'working.html'\n})\n\nexport class WorkingPage\n{\n    //search:DataSearch = null;\n    //data:any[] = [];\n    //searchContent:string = \"\";\n\n    //isLoading:boolean = true;\n    isLoading:boolean = true;\n    listIMG:Array<{src:string, title:string}> = [];\n\n    constructor(private model:DataModel) {}\n\n    ngOnInit()\n    {\n        //this.model.addLoadingFinishedCallback(this.loadingFinished.bind(this));\n        //if(!this.model.isLoading()) this.loadingFinished();\n    }\n\n    loadingFinished()\n    {\n        //this.isLoading = false;\n        //this.search = new DataSearch(this.model);\n        //console.log(\"PROD: \" + JSON.stringify(this.search.searchData));\n        //this.data = this.search.searchData;\n        //if(this.searchContent !== \"\") this.data = this.search.search(this.searchContent);\n        if(this.model.monitoringUrls == undefined) return;\n        this.isLoading = false;\n        this.setLinks(\"latest\");\n\n        this.listIMG = [];\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[0].thumbnail, title: this.model.monitoringUrls[0].urls[0].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[1].thumbnail, title: this.model.monitoringUrls[0].urls[1].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[2].thumbnail, title: this.model.monitoringUrls[0].urls[2].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[3].thumbnail, title: this.model.monitoringUrls[0].urls[3].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[4].thumbnail, title: this.model.monitoringUrls[0].urls[4].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[4].thumbnail, title: this.model.monitoringUrls[0].urls[4].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[4].thumbnail, title: this.model.monitoringUrls[0].urls[4].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[4].thumbnail, title: this.model.monitoringUrls[0].urls[4].name });\n        this.listIMG.push({src: this.model.monitoringUrls[0].urls[4].thumbnail, title: this.model.monitoringUrls[0].urls[4].name });\n\n\n        console.log(\"LIST: \" + JSON.stringify(this.listIMG));\n    }\n\n    setLinks(datetime_dir) {\n        //let model:DataModel = DataModel.getInstance();\n        let remote_url:string = this.model.getRemoteURL();\n        let config:any = this.model.config;\n\n        let capture_dir:string = config.data_dir + \"/capture\";\n        let thumbnail_dir:string = config.data_dir + \"/thumbnail\";\n        let analysis_dir:string = config.data_dir + \"/analysis\";\n        if (this.model.configuration.get().enableMadVision) {\n            capture_dir = analysis_dir + \"/madvision\";\n            thumbnail_dir = analysis_dir + \"/madvision_thumbnail\";\n        }\n        let plot_analysis_dir:string = analysis_dir + \"/plot_analysis/latest\";\n        let plot_pathway_dir:string = analysis_dir + \"/plot_pathway/latest\";\n\n        for (let i: number = 0; i < this.model.monitoringUrls.length; i++) {\n            for (let j: number = 0; j < this.model.monitoringUrls[i].urls.length; j++) {\n                if ((this.model.monitoringUrls[i].urls[j].file_prefix == null) || (!this.model.monitoringUrls[i].urls[j].capture)) {\n                    this.model.monitoringUrls[i].urls[j].thumbnail = remote_url + \"img/not_captured.png\";\n                    this.model.monitoringUrls[i].urls[j].image = remote_url + \"img/not_captured.png\";\n                    this.model.monitoringUrls[i].urls[j].analysis_plot = remote_url + \"img/not_captured.png\";\n                    this.model.monitoringUrls[i].urls[j].plot_pathway = remote_url + \"img/not_captured.png\";\n                    this.model.monitoringUrls[i].urls[j].plot_overall_pathway = remote_url + \"img/not_captured.png\";\n                } else {\n                    this.model.monitoringUrls[i].urls[j].thumbnail = remote_url + thumbnail_dir + \"/\" + datetime_dir + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".jpg\";\n                    this.model.monitoringUrls[i].urls[j].image = remote_url + capture_dir + \"/\" + datetime_dir + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".jpg\";\n                    this.model.monitoringUrls[i].urls[j].plot_analysis = remote_url + plot_analysis_dir + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".png\";\n                    this.model.monitoringUrls[i].urls[j].plot_pathway = remote_url + plot_pathway_dir + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".png\";\n                    this.model.monitoringUrls[i].urls[j].plot_overall_pathway = remote_url + plot_pathway_dir + \"/overall_pathway.png\";\n\n                    //this.setPlots(this.plot_name);\n                }\n            }\n        }\n        //console.log(JSON.stringify(this.model.monitoringUrls));\n        //this.monitoringURLs = this.model.monitoringUrls;\n    }\n\n    imgClicked(img:any)\n    {\n        //this.data = this.search.searchData;\n        //let val:string = event.target.value;\n        //if(val && val.trim() !== '')\n        //{\n        //    this.data = this.search.search(val);\n        //}\n        //this.searchContent = val;\n\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/working/working.ts","import {NavController} from \"ionic-angular\";\nimport {DataModel} from \"../../data/DataModel\";\nimport {HFCategoriesPage} from \"./hf-classical/hf-categories\";\nimport {Component, ComponentFactoryResolver, ComponentRef, ViewChild, ViewContainerRef} from \"@angular/core\";\nimport {AnalyzerDetailPage} from \"./analyzer-detail\";\n\n@Component({\n    selector: 'page-analyzer',\n    templateUrl: 'analyzer.html'\n})\n\nexport class AnalyzerPage\n{\n    // Default values\n    statusLevel:string = \"Normal\";\n    statusImg  :string = \"https://i3.ytimg.com/vi/GYYvKxchHrM/maxresdefault.jpg\";\n    statusColor:string = \"item-calm\";\n    statusText :string = \"World wide Atlas Distributed Computing System\";\n\n    isLoading:boolean = true;\n    loadingFailed:boolean = false;\n\n    // Page plugin\n    @ViewChild('parent', {read: ViewContainerRef}) parent: ViewContainerRef;\n    pageHolder:ComponentRef<any> = null;\n\n    viewers:any[] = [\n        {\"id\": \"analysis\", \"name\": \"Status Analysis\", \"type\": \"plots\", \"src\": null},\n        {\"id\": \"pathway\", \"name\": \"Info Pathway\", \"type\": \"plots\", \"src\": null},\n        {\"id\": \"overall_pathway\", \"name\": \"Overall Info Pathway\", \"type\": \"img\", \"src\": \"https://i3.ytimg.com/vi/GYYvKxchHrM/maxresdefault.jpg\"},\n        {\"id\": \"happyface\", \"name\": \"HappyFace Classical Rating\", \"type\": \"page\", \"src\": HFCategoriesPage},\n        {\"id\": \"forecast\", \"name\": \"Happy Forecast\", \"type\": \"imgs\", \"src\": Array<string>(0)}\n    ];\n    selectedViewer:any = this.viewers.find( v => v.id === \"overall_pathway\");\n\n    monitoringURLs:any[];\n\n    constructor(private model: DataModel, private navControl: NavController,\n                private componentFactoryResolver: ComponentFactoryResolver) {}\n\n    ngOnInit()\n    {\n        this.model.addLoadingStartedCallback(this.onLoadingStartedListener.bind(this));\n        this.model.addLoadingFinishedCallback(this.onReloadFinishedListener.bind(this));\n        if(!this.model.isLoading()) this.onReloadFinishedListener();\n    }\n\n    onReloadFinishedListener()\n    {\n        this.isLoading = false;\n        if(this.dataExists())\n        {\n            this.loadingFailed = false;\n            this.setStatusCard();\n            this.setPlots2();\n            this.viewers.find(v => v.id === \"overall_pathway\").src = this.model.monitoringUrls[0].urls[0].plot_overall_pathway;\n            this.setForecast();\n        }\n        else\n            this.loadingFailed = true;\n    }\n\n    onLoadingStartedListener()\n    {\n        this.isLoading = true;\n    }\n\n    dataExists()\n    {\n        if(!(this.model.summary == null || this.model.summary == undefined))\n        {\n            if(!(this.model.config == null || this.model.config == undefined))\n            {\n                if(!(this.model.config.status == null || this.model.config.status == undefined))\n                {\n                    if(!(this.model.monitoringUrls == null || this.model.monitoringUrls == undefined))\n                    {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    setStatusCard()\n    {\n        this.statusText = this.model.summary.text;\n        this.statusLevel = this.model.summary.level;\n\n        for (let i = 0; i < this.model.config.status.length; i++) {\n            if (this.model.config.status[i].name === this.statusLevel) {\n                this.statusImg = this.model.config.status[i].file;\n            }\n        }\n\n        for (let i = 0; i < this.model.config.status.length; i++) {\n            if (this.model.config.status[i].name === this.statusLevel) {\n                this.statusColor = this.model.config.status[i].color;\n            }\n        }\n    }\n\n    reload()\n    {\n        if(this.isLoading) return;\n        this.isLoading = true;\n        this.model.reload();\n    }\n\n    viewerChanged(event:any)\n    {\n        if(this.selectedViewer.type === 'page' && !this.pageHolder == undefined)\n        {\n            this.pageHolder.destroy();\n        }\n\n        console.log(\"VIEWER CHANGED TO: \" + JSON.stringify(event));\n        this.selectedViewer = event;\n        if(this.selectedViewer.type === 'page')\n        {\n            if(this.parent == undefined) console.error(\"PARENT UNDEFINED\");\n            else this.pageHolder = this.parent.createComponent(this.componentFactoryResolver.resolveComponentFactory(this.selectedViewer.src))\n        }\n    }\n\n    speakSummary()\n    {\n        this.setStatusCard();\n        this.model.speakSummary();\n    }\n\n    openPage(url:any)\n    {\n        this.navControl.push(AnalyzerDetailPage, { 'url' : url });\n    }\n\n    setPlots2()\n    {\n        // Generate array\n        this.viewers[0].src = {\"monitoringURLs\": []};\n        this.viewers[1].src = {\"monitoringURLs\": []};\n        this.viewers[0].src.monitoringURLs = [];\n        this.viewers[1].src.monitoringURLs = [];\n        for(let i:number = 0; i < this.model.monitoringUrls.length; i++)\n        {\n            this.viewers[0].src.monitoringURLs.push({\"urls\": [], \"name\": \"\"});\n            this.viewers[1].src.monitoringURLs.push({\"urls\": [], \"name\": \"\"});\n            for(let j:number = 0; j < this.model.monitoringUrls[i].urls.length; j++)\n            {\n                this.viewers[0].src.monitoringURLs[i].urls.push({\"plot\": \"\", \"name\" : \"\", \"link\" : \"\"});\n                this.viewers[1].src.monitoringURLs[i].urls.push({\"plot\": \"\", \"name\" : \"\", \"link\" : \"\"});\n            }\n        }\n\n        for(let i:number = 0; i < this.model.monitoringUrls.length; i++)\n        {\n            this.viewers[0].src.monitoringURLs[i].name = this.model.monitoringUrls[i].name;\n            this.viewers[1].src.monitoringURLs[i].name = this.model.monitoringUrls[i].name;\n            for(let j:number = 0; j < this.model.monitoringUrls[i].urls.length; j++)\n            {\n                if((this.model.monitoringUrls[i].urls[j].file_prefix == null)) console.log(\"DEBUG: 1nop\");\n                else {\n                    this.viewers[0].src.monitoringURLs[i].urls[j].plot = this.model.monitoringUrls[i].urls[j].plot_analysis;\n                    this.viewers[0].src.monitoringURLs[i].urls[j].name = this.model.monitoringUrls[i].urls[j].name;\n                    this.viewers[0].src.monitoringURLs[i].urls[j].link = this.model.monitoringUrls[i].urls[j].link;\n                    this.viewers[1].src.monitoringURLs[i].urls[j].plot = this.model.monitoringUrls[i].urls[j].plot_pathway;\n                    this.viewers[1].src.monitoringURLs[i].urls[j].name = this.model.monitoringUrls[i].urls[j].name;\n                    this.viewers[1].src.monitoringURLs[i].urls[j].link = this.model.monitoringUrls[i].urls[j].link;\n                }\n            }\n        }\n    }\n\n    setForecast()\n    {\n        let tmp:string[] = this.model.analysis[0].forecast;\n        for(let i:number = 0; i < tmp.length; i++) tmp[i] = this.model.getRemoteURL() + this.model.analysis[0].forecast[i].substring(1);\n\n        this.viewers.find(v => v.id === \"forecast\").src = this.model.analysis[0].forecast;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/analyzer/analyzer.ts","import {Component} from \"@angular/core\";\r\nimport {ClassicalDataModel} from \"./ClassicalDataModel\";\r\nimport {NavController} from \"ionic-angular\";\r\nimport {HFModulesPage} from \"./hf-modules\";\r\n\r\n@Component({\r\n    selector: \"page-hf-categories\",\r\n    templateUrl: \"hf-categories.html\"\r\n})\r\n\r\nexport class HFCategoriesPage\r\n{\r\n    IMG_HAPPY:string = \"assets/arrows/arrow-up.svg\";\r\n    IMG_WARNING:string = \"assets/arrows/arrow-right.svg\";\r\n    IMG_CRITICAL:string = \"assets/arrows/arrow-down.svg\";\r\n    IMG_ERROR:string = \"assets/arrows/cross.svg\";\r\n\r\n    isLoading:boolean = true;\r\n    outdated:boolean = false;\r\n    outdateHandler:number = 0;\r\n    data_time:string = \"sometime\";\r\n\r\n    categories:any = null;\r\n\r\n    constructor(private classicModel:ClassicalDataModel, private navCtrl:NavController) {}\r\n\r\n    ngOnInit()\r\n    {\r\n        this.classicModel.addLoadingFinishedCallback(this.loadingFinishedListener.bind(this));\r\n        if(!this.classicModel.isLoading()) this.loadingFinishedListener();\r\n        this.outdateHandler = window.setInterval(() => { this.outdated = true; }, 1200000);\r\n    }\r\n\r\n    loadingFinishedListener()\r\n    {\r\n        this.isLoading = false;\r\n        this.categories = this.classicModel.categories;\r\n        this.data_time = this.classicModel.lastRefreshed.toLocaleString();\r\n    }\r\n\r\n    reload()\r\n    {\r\n        clearInterval(this.outdateHandler);\r\n        this.outdateHandler = window.setInterval(() => { this.outdated = true; }, 1200000);\r\n        this.classicModel.addLoadingFinishedCallback(this.loadingFinishedListener.bind(this));\r\n        if(!this.classicModel.isLoading()) this.loadingFinishedListener();\r\n        this.classicModel.reload();\r\n    }\r\n\r\n    imgForCategory(cat:any)\r\n    {\r\n        return cat.status == 1.0 ? this.IMG_HAPPY : (cat.status == 0.5 ? this.IMG_WARNING : (cat.status == 0.0 ? this.IMG_CRITICAL : this.IMG_ERROR));\r\n    }\r\n\r\n    categorySelected(cat:any)\r\n    {\r\n        this.navCtrl.push(HFModulesPage, {'category': cat});\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/analyzer/hf-classical/hf-categories.ts","import {Component} from \"@angular/core\";\r\nimport {ClassicalDataModel} from \"./ClassicalDataModel\";\r\nimport {NavParams, Platform} from \"ionic-angular\";\r\nimport {InAppBrowser, InAppBrowserOptions} from \"@ionic-native/in-app-browser\";\r\n\r\n@Component({\r\n    selector: \"page-hf-modules\",\r\n    templateUrl: \"hf-modules.html\"\r\n})\r\n\r\nexport class HFModulesPage\r\n{\r\n    IMG_HAPPY:string = \"assets/arrows/arrow-up.svg\";\r\n    IMG_WARNING:string = \"assets/arrows/arrow-right.svg\";\r\n    IMG_CRITICAL:string = \"assets/arrows/arrow-down.svg\";\r\n    IMG_ERROR:string = \"assets/arrows/cross.svg\";\r\n\r\n    category:any = null;\r\n    isLoading:boolean = false;\r\n    modulesExisting:boolean = true;\r\n\r\n    outdated:boolean = false;\r\n    outdateHandler:number = 0;\r\n\r\n    constructor(private classicModel:ClassicalDataModel, private navParams:NavParams, private iab: InAppBrowser,\r\n                private plt:Platform)\r\n    {\r\n        this.category = this.navParams.get('category');\r\n        if(this.category == null || this.category == undefined)\r\n        {\r\n            this.modulesExisting = false;\r\n        }\r\n        if(!Array.isArray(this.category.module))\r\n            this.category.module = [this.category.module];\r\n    }\r\n\r\n    ngOnInit()\r\n    {\r\n        this.classicModel.addLoadingFinishedCallback(this.loadingFinishedListener.bind(this));\r\n        if(!this.classicModel.isLoading()) this.loadingFinishedListener();\r\n        this.outdateHandler = window.setInterval(() => { this.outdated = true; }, 1200000);\r\n    }\r\n\r\n    loadingFinishedListener()\r\n    {\r\n        this.isLoading = false;\r\n    }\r\n\r\n    reload()\r\n    {\r\n        clearInterval(this.outdateHandler);\r\n        this.outdateHandler = window.setInterval(() => { this.outdated = true; }, 1200000);\r\n        this.classicModel.addLoadingFinishedCallback(this.loadingFinishedListener.bind(this));\r\n        if(!this.classicModel.isLoading()) this.loadingFinishedListener();\r\n        this.classicModel.reload();\r\n    }\r\n\r\n    imgForModule(mod:any)\r\n    {\r\n        return mod.status == 1.0 ? this.IMG_HAPPY : (mod.status == 0.5 ? this.IMG_WARNING : (mod.status == 0.0 ? this.IMG_CRITICAL : this.IMG_ERROR));\r\n    }\r\n\r\n    moduleSelected(mod:any)\r\n    {\r\n        //window.open(mod.link, \"_blank\");\r\n        if(!this.iab || !this.plt) window.open(mod.link, \"_blank\");\r\n        else {\r\n            this.plt.ready().then(() => {\r\n                let options: InAppBrowserOptions = {\r\n                    location: 'yes',//Or 'no'\r\n                    hidden: 'no', //Or  'yes'\r\n                    clearcache: 'yes',\r\n                    clearsessioncache: 'yes',\r\n                    zoom: 'yes',//Android only ,shows browser zoom controls\r\n                    hardwareback: 'yes',\r\n                    mediaPlaybackRequiresUserAction: 'no',\r\n                    shouldPauseOnSuspend: 'no', //Android only\r\n                    closebuttoncaption: 'Close', //iOS only\r\n                    disallowoverscroll: 'no', //iOS only\r\n                    toolbar: 'yes', //iOS only\r\n                    enableViewportScale: 'no', //iOS only\r\n                    allowInlineMediaPlayback: 'no',//iOS only\r\n                    presentationstyle: 'pagesheet',//iOS only\r\n                    fullscreen: 'yes',//Windows only\r\n                };\r\n\r\n                const browser = this.iab.create(mod.link, \"_blank\", options);\r\n                //browser.on(\"loadstop\").subscribe(()=> console.log(\"loadstop\"));\r\n            });\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/analyzer/hf-classical/hf-modules.ts","import {Component} from \"@angular/core\";\r\nimport {NavParams} from \"ionic-angular\";\r\n\r\n@Component({\r\n    selector: 'page-analyzer-detail',\r\n    templateUrl: 'analyzer-detail.html'\r\n})\r\n\r\nexport class AnalyzerDetailPage\r\n{\r\n    url:any;\r\n\r\n    constructor(private navParams:NavParams)\r\n    {\r\n        this.url = this.navParams.get('url');\r\n        if(this.url == null || this.url == undefined)\r\n        {\r\n            this.url = { \"name\": \"\", \"analysis_plot\": \"http://i3.ytimg.com/vi/GYYvKxchHrM/maxresdefault.jpg\"};\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/analyzer/analyzer-detail.ts","import {\n    Compiler,\n    Component, ComponentFactoryResolver, ComponentRef,\n    Injector,\n    NgModule,\n    NgModuleRef,\n    ViewChild,\n    ViewContainerRef\n} from \"@angular/core\";\nimport {AlertController, IonicPageModule, LoadingController, NavController} from \"ionic-angular\";\nimport {BaseWidget} from \"../../assets/widgets/BaseWidget\";\nimport {DataModel} from \"../../data/DataModel\";\nimport {HomeDetailImagePage} from \"./home-detail-image\";\nimport {Positions} from \"./Positions\";\n\n@Component({\n    selector: \"page-home\",\n    templateUrl: \"home.html\"\n})\n\nexport class HomePage\n{\n    widgets:WidgetData[] = [];\n    widgetsSave:string[] = [\"/assets/widgets/critical-urls-widget/CriticalUrlsWidget.js\"];\n    components:any[] = [];\n\n    adding:boolean = false;\n\n    positions:Positions = new Positions();\n\n    viewIndex   :number = 0;\n    counter     :number = 0;\n\n    editMode    :boolean = false;\n    widgetListUrl:string = \"assets/widgets/list.json\";\n\n    @ViewChild('vc', {read: ViewContainerRef}) vc: ViewContainerRef;\n\n    constructor(private _compiler:Compiler, private _injector:Injector, private _m:NgModuleRef<any>,\n                private componentFactoryResolver: ComponentFactoryResolver, private alertCtrl:AlertController,\n                private model:DataModel, private navCtrl: NavController, private loadingCtrl:LoadingController)\n    {}\n\n    ngOnInit()\n    {\n        this.widgetListUrl = this.model.getRemoteURL() + this.widgetListUrl;\n        this.model.addLoadingFinishedCallback(this.reloaded.bind(this));\n        this.initWidgets();\n    }\n\n    initWidgets()\n    {\n        this.clearWidgets();\n        this.loadWidgets();\n        //this.findWidgets().then(() => { console.log(this.widgetsSave); });\n    }\n\n    reloaded()\n    {\n        this.model.setLinks(\"latest\");\n        for(let i:number = 0; i < this.widgets.length; i++)\n        {\n            this.widgets[i].baseWidget.summary = this.model.summary;\n            this.widgets[i].baseWidget.monitoringUrls = this.model.monitoringUrls;\n            this.widgets[i].baseWidget.config = this.model.config;\n            this.widgets[i].baseWidget.onReload();\n        }\n    }\n\n    async loadWidgets()\n    {\n        for(let i:number = 0; i < this.widgetsSave.length; i++)\n        {\n            let a:string = this.widgetsSave[i];\n            console.log(\"MODULE: \" + a);\n            await this.loadAndBuildWidget(a).then( (data:WidgetData) => { if(data != null) this.widgets.push(data); });\n        }\n    }\n\n\n    async loadAndBuildWidget(name:string):Promise<WidgetData>\n    {\n        try {\n            this._compiler.clearCache();\n\n            try{\n                eval(\"import('/assets/widgets/BaseWidget.js')\");\n            } catch(e) {\n                console.log(\"dynamic import not supported\");\n                if(this.adding) this.alertCtrl.create({\n                    title: \"Widget build error\",\n                    message: \"Your browser version does not support dynamic importing of widgets. Because of that the widget system cannot be used. Consider updating to a newer browser or using the Smartphone application.\",\n                    cssClass: \"alertText\",\n                    buttons: [\"OK\"]\n                }).present();\n                return null;\n            }\n\n            const func = new Function(\"x\", \"return import(x)\");\n            const loader = await func(name);\n\n            const widget = loader.cls();\n            const widgetModule = new Function(\"\", \"class DynamicModule\" + this.counter +\n                \" { } \\n return DynamicModule\" + this.counter++ + \";\")();\n\n            let templUrl: string = widget.templateUrl;\n            let templ: string = widget.template;\n\n            if (templ == null && templUrl == null) {\n                console.error(\"No template specified\");\n                throw new Error(\"Build error: Neither property template nor property templateUrl is specified\");\n            }\n            else if (templ != null && templUrl != null) templ = null;\n\n            console.log(\"TEMPLATE: \" + templ + \" TEMPLATE URL: \" + templUrl);\n\n            //const widgetStyle       = \":host { display: block; left: 0; }\\n\" + style;\n\n            const cmpObj = {selector: \"dynamic-component\", templateUrl: templUrl, template: templ, styles: ['.scroll-content { margin: 0; }']};\n            const component = Component(cmpObj)(widget);\n            const module = NgModule({\n                declarations: [component],\n                imports: [IonicPageModule.forChild(component)]\n            })(widgetModule);\n            const factories = await this._compiler.compileModuleAndAllComponentsAsync(module);\n\n            const cardFactory = this.componentFactoryResolver.resolveComponentFactory(WidgetCard);\n            const cardRef = cardFactory.create(this._injector);\n            const cardView = cardRef.hostView;\n\n            const factory = factories.componentFactories.find(v => v.selector === \"dynamic-component\");\n            const cmpRef = factory.create(this._injector, [], null, this._m);\n            this.vc.insert(cardView, this.viewIndex++);\n\n            let dim = this.positions.newPosition(cmpRef.instance.width, cmpRef.instance.height);\n\n            cardRef.instance.showHeaderOverlay = false;\n            cardRef.instance.x = dim.x;\n            cardRef.instance.y = dim.y;\n            cardRef.instance.width = dim.width;\n            cardRef.instance.height = dim.height;\n            cardRef.instance.name = cmpRef.instance.name == null ? cmpRef.instance.constructor.name : cmpRef.instance.name;\n            cardRef.instance.viewIndex = this.viewIndex;\n            cardRef.instance.closeFunc = (index: number) => {\n                this.closeWidget(index);\n            };\n            cardRef.instance.card.insert(cmpRef.hostView, 0);\n\n            /* Add BaseWidget data */\n            let baseWidget: BaseWidget = cmpRef.instance;\n            baseWidget.monitoringUrls = this.model.monitoringUrls;\n            baseWidget.summary = this.model.summary;\n            baseWidget.config = this.model.config;\n            baseWidget.openImageView = this.openImageView.bind(this);\n\n            /* Init widget */\n            console.log(baseWidget.summary);\n            baseWidget.onInit();\n\n            console.log(\"Index: \" + this.viewIndex + \" X: \" + cardRef.instance.x + \" Y: \" + cardRef.instance.y);\n\n            return {\n                cardRef: cardRef,\n                viewIndex: this.viewIndex,\n                baseWidget: baseWidget,\n                path: name,\n                x: cardRef.instance.x,\n                y: cardRef.instance.y,\n                width: cardRef.instance.width,\n                height: cardRef.instance.height\n            };\n\n        } catch (e) {\n            this.showBuildErrorDialog(e.toString());\n            //throw e;\n            return null;\n        }\n    }\n\n    clearWidgets()\n    {\n        this.counter = 0;\n        this.viewIndex = 0;\n        for(let i:number = 0; i < this.widgets.length; i++)\n        {\n            this.closeWidget(this.widgets[i].viewIndex);\n        }\n\n        this._compiler.clearCache();\n    }\n\n    closeWidget(index:number)\n    {\n        let ind:number = -1;\n        for(let i:number = 0; i < this.widgets.length; i++)\n            if (this.widgets[i].viewIndex === index) {\n                this.widgets[i].cardRef.destroy();\n                ind = i;\n            }\n\n        if(ind > -1) {\n            this.widgets.splice(ind, 1);\n            this.viewIndex--;\n            this.counter--;\n        }\n\n        for(let i:number = 0; i < this.widgets.length; i++)\n        {\n            this.widgets[i].cardRef.instance.viewIndex = i;\n            this.widgets[i].viewIndex = i;\n        }\n\n        this.reloadPositions();\n    }\n\n    reloadPositions()\n    {\n        this.positions.reset();\n        for(let wid of this.widgets)\n        {\n            const dim = this.positions.newPosition(wid.cardRef.instance.width, wid.cardRef.instance.height);\n            wid.cardRef.instance.x = dim.x;\n            wid.cardRef.instance.y = dim.y;\n\n            wid.cardRef.instance.updatePosition();\n        }\n    }\n\n    edit()\n    {\n        this.editMode = !this.editMode;\n        for(let wid of this.widgets)\n            wid.cardRef.instance.showHeaderOverlay = !wid.cardRef.instance.showHeaderOverlay;\n    }\n\n    showBuildErrorDialog(message:string)\n    {\n        let alert = this.alertCtrl.create({\n            title: \"Widget build error\",\n            subTitle: message + \"\\nAborting build.\",\n            cssClass: \"alertText\",\n            buttons: ['OK']\n        });\n        alert.present();\n    }\n\n    openImageView(data:any)\n    {\n        if(!data || !data.name || !data.image) return;\n        this.navCtrl.push(HomeDetailImagePage, {\"data\": data});\n    }\n\n    addWidgetAlert()\n    {\n        let widgetList:string[] = [];\n\n        let loading = this.loadingCtrl.create({\n            spinner: \"dots\",\n            content: \"Searching for widgets\"\n        });\n\n        loading.present();\n\n        let req:XMLHttpRequest = new XMLHttpRequest();\n        req.onreadystatechange = () => {\n            if(req.readyState == 4)\n            {\n                if(req.status == 200)\n                {\n                    JSON.parse(req.response).widgets.filter((element) => {\n                        widgetList.push(\"/assets/widgets/\" + element.src);\n                    });\n                    loading.dismiss();\n\n\n                    console.log(\"Add widget\");\n                    let alert = this.alertCtrl.create();\n                    alert.setTitle(\"Add Widget\");\n                    alert.setSubTitle(\"Choose the widget you want to add:\");\n                    alert.setCssClass('alertText');\n\n                    for(let s of widgetList)\n                    {\n                        /* Widgets already displaying cannot be choosen */\n                        let used:boolean = false;\n                        if(this.widgets.find((element) => element.path === s)) used = true;\n\n                        alert.addInput({\n                            type: 'checkbox',\n                            label: s.substring(s.lastIndexOf(\"/\") +1, s.length),\n                            value: s,\n                            checked: used,\n                            disabled: used\n                        });\n                    }\n\n                    alert.addButton('Cancel');\n                    alert.addButton({\n                        text: 'Ok',\n                        handler: (data:Array<string>) => {\n                            this.adding = true;\n                            /* Dont add widgets already displayed */\n                            data = data.filter((element) => this.widgets.find((e) => e.path === element) === undefined);\n                            for(let a of data)\n                                this.loadAndBuildWidget(a).then( (widgetData:WidgetData) => {\n                                    if(widgetData != null)\n                                    {\n                                        this.widgets.push(widgetData);\n                                        widgetData.cardRef.instance.showHeaderOverlay = this.editMode;\n                                    }\n                                });\n\n                            this.adding = false;\n                        }\n                    });\n\n                    alert.present();\n                }\n            }\n        };\n        req.open(\"GET\", this.widgetListUrl, true);\n        req.send();\n    }\n}\n\nexport interface WidgetData\n{\n    cardRef:ComponentRef<WidgetCard>,\n    baseWidget:BaseWidget,\n    viewIndex:number,\n    path:string,\n    x?:number; y?:number; width?:number; height?:number;\n}\n\nexport class TmpModule {}\n\n@Component({\n    template:\"<ion-card position startX='{{x}}' startY='{{y}}' width='{{width}}' height='{{height}}' #cdire='position-directive'>\" +\n    \"    <div no-padding class='header-overlay' *ngIf='showHeaderOverlay'>\" +\n    \"       <ion-label no-padding>{{name}} </ion-label>\" +\n    \"       <button class='closebutton' (click)='close()'><ion-icon name='close'></ion-icon></button>\" +\n    \"    </div>\" +\n    \"    <ion-card-content no-padding no-margin>\\n\" +\n    \"        <ng-container #card></ng-container>\\n\" +\n    \"    </ion-card-content>\\n\" +\n    \"</ion-card>\\n\",\n    styles: ['.card { display: block; position: absolute; width: 200px; height: 170px }\\n', '.card-content { height: 100%; width: 100% }',\n             '.header-overlay { z-index: 20; font-weight: bold; top: 0; left: 0; position: inherit; width: 100%; height: 50px; background-color: #0a9dc7}',\n             '.label { padding-top: 5px; padding-left: 10px; display: inline-flex }', '.closebutton { position: absolute; right: 12px; top: 17px; background: transparent}',\n             'ion-content .scroll-content, .fixed-content { padding-left: 0; margin-bottom: 0px !important;}' ],\n})\n\nexport class WidgetCard\n{\n    @ViewChild('card', {read: ViewContainerRef}) card: ViewContainerRef;\n    @ViewChild('cdire') positionDirective;\n    showHeaderOverlay:boolean = false;\n\n    x:number = 0;\n    y:number = 0;\n    width:number = 0;\n    height:number = 0;\n\n    name:string = \"TITLE\";\n\n    viewIndex:number = 0;\n    closeFunc:(index:number) => void = null;\n\n    close()\n    {\n        console.log(\"CLOSE NUMBER \" + this.viewIndex + \".\");\n        this.closeFunc(this.viewIndex);\n    }\n\n    updatePosition()\n    {\n        this.positionDirective.update(this.x, this.y, this.width, this.height);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Component} from \"@angular/core\";\r\nimport {NavParams} from \"ionic-angular\";\r\n\r\n@Component({\r\n    selector: \"home-detail-image\",\r\n    templateUrl: \"home-detail-image.html\"\r\n})\r\n\r\nexport class HomeDetailImagePage\r\n{\r\n    data:any;\r\n\r\n    constructor(private navParams:NavParams)\r\n    {\r\n        this.data = this.navParams.get(\"data\");\r\n        if(this.data == null || this.data == undefined) this.data = null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home-detail-image.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { HappyFaceApp } from './app.component';\nimport {TabsPage} from \"../pages/tabs/tabs\";\nimport {MonitoringPage} from \"../pages/monitoring/monitoring\";\nimport {MonitoringWebviewPage} from \"../pages/monitoring/monitoring-webview\";\nimport {AnalyzerDetailPage} from \"../pages/analyzer/analyzer-detail\";\nimport {ControllerPage} from \"../pages/controller/controller\";\nimport {ControllerDetailPage} from \"../pages/controller/controller-detail\";\nimport {VisualizersPage} from \"../pages/visualizers/visualizers\";\nimport {LogsPage} from \"../pages/logs/logs\";\nimport {HumansPage} from \"../pages/humans/humans\";\nimport {WorkingPage} from \"../pages/working/working\";\nimport {ConfigPage} from \"../pages/modals/config/config\";\nimport {InstancesComponent} from \"../pages/modals/config/instances.component\";\nimport {ModalPage} from \"../pages/modals/config/modal\";\nimport {DataModel} from \"../data/DataModel\";\nimport {IonicStorageModule} from \"@ionic/storage\";\nimport {ClassicalDataModel} from \"../pages/analyzer/hf-classical/ClassicalDataModel\";\nimport {HFCategoriesPage} from \"../pages/analyzer/hf-classical/hf-categories\";\nimport {HFModulesPage} from \"../pages/analyzer/hf-classical/hf-modules\";\nimport {AnalyzerPage} from \"../pages/analyzer/analyzer\";\nimport {ConnectionErrorPage} from \"../pages/modals/error/connection-error\";\nimport {SSHTerminalPage} from \"../pages/modals/ssh/ssh-terminal\";\nimport {PassModal} from \"../pages/modals/ssh/pass-modal\";\nimport {InstancesBrowserComponent} from \"../pages/modals/config/instances.browser.component\";\nimport {AboutPage} from \"../pages/modals/about/about\";\nimport {HomePage, WidgetCard} from \"../pages/home/home\";\nimport {HomeDetailImagePage} from \"../pages/home/home-detail-image\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {InAppBrowser} from \"@ionic-native/in-app-browser\";\nimport {Position} from \"../directives/position/Position\";\nimport {TourPage} from \"../pages/tour/tour\";\nimport {File} from \"@ionic-native/file\";\nimport {FileChooser} from \"@ionic-native/file-chooser\";\n\n@NgModule({\n    declarations: [\n        HappyFaceApp,\n        TabsPage,\n        MonitoringPage,\n        MonitoringWebviewPage,\n        AnalyzerPage,\n        AnalyzerDetailPage,\n        ControllerPage,\n        ControllerDetailPage,\n        VisualizersPage,\n        LogsPage,\n        HumansPage,\n        ConfigPage,\n        ModalPage,\n        InstancesComponent,\n        InstancesBrowserComponent,\n        AboutPage,\n        WorkingPage,\n        ConnectionErrorPage,\n        SSHTerminalPage,\n        PassModal,\n        HFCategoriesPage,\n        HFModulesPage,\n        HomePage,\n        TourPage,\n        Position,\n        WidgetCard,\n        HomeDetailImagePage\n    ],\n    imports: [\n        BrowserModule,\n        HttpClientModule,\n        IonicModule.forRoot(HappyFaceApp),\n        IonicStorageModule.forRoot()\n    ],\n    bootstrap: [IonicApp],\n    entryComponents: [\n        HappyFaceApp,\n        TabsPage,\n        MonitoringPage,\n        MonitoringWebviewPage,\n        AnalyzerPage,\n        AnalyzerDetailPage,\n        ControllerPage,\n        ControllerDetailPage,\n        VisualizersPage,\n        LogsPage,\n        HumansPage,\n        ConfigPage,\n        ModalPage,\n        InstancesComponent,\n        InstancesBrowserComponent,\n        AboutPage,\n        WorkingPage,\n        ConnectionErrorPage,\n        SSHTerminalPage,\n        PassModal,\n        HFCategoriesPage,\n        HFModulesPage,\n        HomePage,\n        TourPage,\n        WidgetCard,\n        HomeDetailImagePage\n    ],\n    providers: [\n        StatusBar,\n        SplashScreen,\n        {provide: ErrorHandler, useClass: IonicErrorHandler},\n        DataModel,\n        InAppBrowser,\n        File,\n        FileChooser,\n        ClassicalDataModel,\n        HttpClientModule\n    ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport {Platform} from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport {TabsPage} from \"../pages/tabs/tabs\";\n@Component({\n  templateUrl: 'app.html'\n})\nexport class HappyFaceApp {\n  rootPage:any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {DataModel} from \"./DataModel\";\n\nexport class SearchData\n{\n    monitoring_urls:any[] = [];\n\n    constructor(private model:DataModel) {}\n\n\n    updateData()\n    {\n        if(this.model.monitoringUrls)\n        {\n            /*for(let i:number = 0; i < this.model.monitoringUrls.length; i++)\n            {\n                for(let j:number = 0; j < this.model.monitoringUrls[j].urls.length; j++)\n                {\n                    let url = this.model.monitoringUrls[i].urls[j];\n                    url.level = i;\n                    this.monitoring_urls.push()\n                }\n            }*/\n            let s:any[] = this.generateURLS(\"latest\");\n            console.log(s);\n        }\n    }\n\n    generateURLS(time:string):any[]\n    {\n        if(!this.model.config) return;\n\n        let result:any[] = [];\n\n        const remote_url:string = this.model.getRemoteURL();\n        const config:any = this.model.config;\n\n        let capture_dir:string = config.data_dir + \"/capture\";\n        let thumbnail_dir:string = config.data_dir + \"/thumbnail\";\n        const analysis_dir:string = config.data_dir + \"/analysis\";\n\n        if (this.model.configuration.get().enableMadVision) {\n            capture_dir = analysis_dir + \"/madvision\";\n            thumbnail_dir = analysis_dir + \"/madvision_thumbnail\";\n        }\n        const plot_analysis_dir:string = analysis_dir + \"/plot_analysis/latest\";\n        const plot_pathway_dir:string = analysis_dir + \"/plot_pathway/latest\";\n\n        for (let i: number = 0; i < this.model.monitoringUrls.length; i++)\n        {\n            result.push({urls: []});\n            for (let j: number = 0; j < this.model.monitoringUrls[i].urls.length; j++)\n            {\n                result[i].urls.push({});\n                if ((result[i].urls[j].file_prefix == null)) {\n                    result[i].urls[j].thumbnail = remote_url + \"assets/img/img-missing.svg\";\n                    result[i].urls[j].image = remote_url + \"assets/img/img-missing.svg\";\n                    result[i].urls[j].analysis_plot = remote_url + \"assets/img/img-missing.svg\";\n                    result[i].urls[j].plot_pathway = remote_url + \"assets/img/img-missing.svg\";\n                    result[i].urls[j].plot_overall_pathway = remote_url + \"assets/img/img-missing.svg\";\n                } else {\n                    result[i].urls[j].thumbnail = remote_url + thumbnail_dir + \"/\" + time + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".jpg\";\n                    result[i].urls[j].image = remote_url + capture_dir + \"/\" + time + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".jpg\";\n                    result[i].urls[j].plot_analysis = remote_url + plot_analysis_dir + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".png\";\n                    result[i].urls[j].plot_pathway = remote_url + plot_pathway_dir + \"/\" + this.model.monitoringUrls[i].urls[j].file_prefix + \".png\";\n                    result[i].urls[j].plot_overall_pathway = remote_url + plot_pathway_dir + \"/overall_pathway.png\";\n\n                    //this.setPlots(this.plot_name);\n                }\n            }\n        }\n\n        return result;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/SearchData.ts","import * as xterm from \"./exterm.js\";\nimport * as fit from \"./fit\";\nimport {SSH3Wrapper} from \"./SSH3-Wrapper\";\nimport {Crypt} from \"./Crypt\";\nimport {PassModal} from \"./pass-modal\";\nimport {ModalController} from \"ionic-angular\";\n\nexport class Terminal3\n{\n    term = null;\n    sshInteractive:boolean = false;\n    activeProg:(command:string) => void = null;\n    closeProg:() => void = null;\n    shellprompt:string = '$ ';\n\n    ssh:SSH3Wrapper = null;\n\n    constructor(container:string, private modalCtrl:ModalController)\n    {\n        new Crypt();\n\n        const _self = this;\n        let   value = \"\";\n\n        const terminalContainer = document.getElementById(container);\n\n        const term = xterm({\n            cursorBlink: true,\n            rows: 120\n        });\n\n        term.open(terminalContainer);\n\n        //console.log(term.cols);\n\n        /* Compute size */\n        const h = (window.getComputedStyle(document.getElementsByClassName('xterm-rows')[0].firstElementChild).lineHeight).substring(0,2);\n        const w = 75;\n\n        const rows = Math.floor(+window.getComputedStyle(terminalContainer).height.replace(/\\D+/g, \"\") / +h) -4;\n        //console.log(rows);\n\n        term.resize(w, rows);\n\n        //console.log(term);\n\n        term.prompt = function () {\n            term.write('\\r\\n' + _self.shellprompt);\n        };\n\n        term.writeln('Welcome to the ssh terminal');\n        term.writeln('It uses xterm.js as a local terminal emulation.');\n        term.writeln('Type \"ssh\" to start a ssh connection,.');\n        term.writeln('');\n        term.prompt();\n\n        term.on('key', (key, ev) => {\n            const printable = (\n                !ev.altKey && !ev.altGraphKey && !ev.ctrlKey && !ev.metaKey\n            );\n            if(ev.ctrlKey && ev.key === \"c\") // STRG + C\n            {\n                this.controlC();\n                return;\n            }\n\n            if (ev.keyCode == 13) {\n                this.handleCommand(value);\n                value = \"\";\n                term.prompt();\n            } else if (ev.keyCode == 8) {\n                // Do not delete the prompt\n                if (term.x > 2) {\n                    term.write('\\b \\b');\n                    value = value.substring(0, value.length-1);\n                }\n            } else if (printable) {\n                term.write(key);\n                value += key;\n            }\n        });\n\n        term.on('paste', function (data, ev) {\n            term.write(data);\n            value += data;\n        });\n\n        this.term = term;\n    }\n\n    handleCommand(command:string)\n    {\n        if(this.sshInteractive)\n        {\n            if(this.activeProg == null) return;\n            this.ssh.send(command + \"\\n\");\n        }\n        else {\n            this.term.write(\"\\n\\r\");\n            let cmd = \"\";\n            let args = [];\n            if (command && command.trim()) {\n                args = command.split(' ').filter(function(val, i) {\n                    return val;\n                });\n                cmd = args[0].toLowerCase();\n                args = args.splice(1); // Remove cmd from arg list.\n            }\n\n            switch (cmd)\n            {\n                case 'echo':\n                    this.term.write(args.join(\" \"));\n                    break;\n                case 'date':\n                    this.term.write(\"  \" + new Date());\n                    break;\n                case 'ssh':\n                    this.sshInteractive = true;\n                    this.askForCredentials();\n                    /*this.term.write(\"Start ssh connection\");\n                    this.ssh = new SSH3Wrapper(this.term, this.interactiveEnd.bind(this));\n                    this.shellprompt = \"\";\n                    this.activeProg = this.ssh.send;\n                    this.closeProg = this.ssh.close;*/\n                    break;\n                case 'clear':\n                    this.term.clear();\n                    break;\n                default:\n                    this.term.write(\"   unknown commmand: \" + cmd);\n            }\n        }\n    }\n\n    interactiveEnd()\n    {\n        console.log(this.ssh);\n        this.sshInteractive = false;\n        this.shellprompt = \"$ \";\n        this.term.prompt();\n    }\n\n    controlC()\n    {\n        if(this.ssh && this.sshInteractive)\n            this.ssh.close();\n        else this.term.promt();\n    }\n\n    askForCredentials()\n    {\n        this.term.write(\"Start ssh connection\");\n\n        let modal = this.modalCtrl.create(PassModal);\n        modal.onDidDismiss(this.gotCredentials.bind(this));\n        modal.present();\n    }\n\n    gotCredentials(data:any)\n    {\n        if(data == null || data.enter == undefined || !data.enter)\n        {\n            this.term.write(\"SSH connection aborted\");\n            return;\n        }\n\n        this.ssh = new SSH3Wrapper(this.term, this.interactiveEnd.bind(this), null, {\n            host: data.host,\n            port: data.port,\n            username: data.user,\n            password: data.pass,\n            gatewayHost: data.ghost,\n            gatewayPort: data.gport\n        });\n        this.shellprompt = \"\";\n        this.activeProg = this.ssh.send;\n        this.closeProg = this.ssh.close;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/ssh/Terminal3.ts","(function(f) {\n    if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n        module.exports = f()\n    } else if (typeof define === \"function\" && define.amd) {\n        define([], f)\n    } else {\n        var g;\n        if (typeof window !== \"undefined\") {\n            g = window\n        } else if (typeof global !== \"undefined\") {\n            g = global\n        } else if (typeof self !== \"undefined\") {\n            g = self\n        } else {\n            g = this\n        }\n        g.Terminal = f()\n    }\n})(function() {\n    var define, module, exports;\n    return (function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;\n                    if (!u && a) return a(o, !0);\n                    if (i) return i(o, !0);\n                    var f = new Error(\"Cannot find module '\" + o + \"'\");\n                    throw f.code = \"MODULE_NOT_FOUND\", f\n                }\n                var l = n[o] = {\n                    exports: {}\n                };\n                t[o][0].call(l.exports, function(e) {\n                    var n = t[o][1][e];\n                    return s(n ? n : e)\n                }, l, l.exports, e, t, n, r)\n            }\n            return n[o].exports\n        }\n        var i = typeof require == \"function\" && require;\n        for (var o = 0; o < r.length; o++) s(r[o]);\n        return s\n    })({\n        1: [function(require, module, exports) {\n            /**\n             * @license MIT\n             */\n            \"use strict\";\n            /**\n             * Encapsulates the logic for handling compositionstart, compositionupdate and compositionend\n             * events, displaying the in-progress composition to the UI and forwarding the final composition\n             * to the handler.\n             */\n            var CompositionHelper = (function() {\n                /**\n                 * Creates a new CompositionHelper.\n                 * @param textarea The textarea that xterm uses for input.\n                 * @param compositionView The element to display the in-progress composition in.\n                 * @param terminal The Terminal to forward the finished composition to.\n                 */\n                function CompositionHelper(textarea, compositionView, terminal) {\n                    this.textarea = textarea;\n                    this.compositionView = compositionView;\n                    this.terminal = terminal;\n                    this.isComposing = false;\n                    this.isSendingComposition = false;\n                    this.compositionPosition = {\n                        start: null,\n                        end: null\n                    };\n                };\n                /**\n                 * Handles the compositionstart event, activating the composition view.\n                 */\n                CompositionHelper.prototype.compositionstart = function() {\n                    this.isComposing = true;\n                    this.compositionPosition.start = this.textarea.value.length;\n                    this.compositionView.textContent = '';\n                    this.compositionView.classList.add('active');\n                };\n                /**\n                 * Handles the compositionupdate event, updating the composition view.\n                 * @param {CompositionEvent} ev The event.\n                 */\n                CompositionHelper.prototype.compositionupdate = function(ev) {\n                    this.compositionView.textContent = ev.data;\n                    this.updateCompositionElements();\n                    var self = this;\n                    setTimeout(function() {\n                        self.compositionPosition.end = self.textarea.value.length;\n                    }, 0);\n                };\n                /**\n                 * Handles the compositionend event, hiding the composition view and sending the composition to\n                 * the handler.\n                 */\n                CompositionHelper.prototype.compositionend = function() {\n                    this.finalizeComposition(true);\n                };\n                /**\n                 * Handles the keydown event, routing any necessary events to the CompositionHelper functions.\n                 * @param ev The keydown event.\n                 * @return Whether the Terminal should continue processing the keydown event.\n                 */\n                CompositionHelper.prototype.keydown = function(ev) {\n                    if (this.isComposing || this.isSendingComposition) {\n                        if (ev.keyCode === 229) {\n                            // Continue composing if the keyCode is the \"composition character\"\n                            return false;\n                        } else if (ev.keyCode === 16 || ev.keyCode === 17 || ev.keyCode === 18) {\n                            // Continue composing if the keyCode is a modifier key\n                            return false;\n                        } else {\n                            // Finish composition immediately. This is mainly here for the case where enter is\n                            // pressed and the handler needs to be triggered before the command is executed.\n                            this.finalizeComposition(false);\n                        }\n                    }\n                    if (ev.keyCode === 229) {\n                        // If the \"composition character\" is used but gets to this point it means a non-composition\n                        // character (eg. numbers and punctuation) was pressed when the IME was active.\n                        this.handleAnyTextareaChanges();\n                        return false;\n                    }\n                    return true;\n                };\n                /**\n                 * Finalizes the composition, resuming regular input actions. This is called when a composition\n                 * is ending.\n                 * @param waitForPropogation Whether to wait for events to propogate before sending\n                 *   the input. This should be false if a non-composition keystroke is entered before the\n                 *   compositionend event is triggered, such as enter, so that the composition is send before\n                 *   the command is executed.\n                 */\n                CompositionHelper.prototype.finalizeComposition = function(waitForPropogation) {\n                    this.compositionView.classList.remove('active');\n                    this.isComposing = false;\n                    this.clearTextareaPosition();\n                    if (!waitForPropogation) {\n                        // Cancel any delayed composition send requests and send the input immediately.\n                        this.isSendingComposition = false;\n                        var input = this.textarea.value.substring(this.compositionPosition.start, this.compositionPosition.end);\n                        this.terminal.handler(input);\n                    } else {\n                        // Make a deep copy of the composition position here as a new compositionstart event may\n                        // fire before the setTimeout executes.\n                        var currentCompositionPosition = {\n                            start: this.compositionPosition.start,\n                            end: this.compositionPosition.end,\n                        };\n                        // Since composition* events happen before the changes take place in the textarea on most\n                        // browsers, use a setTimeout with 0ms time to allow the native compositionend event to\n                        // complete. This ensures the correct character is retrieved, this solution was used\n                        // because:\n                        // - The compositionend event's data property is unreliable, at least on Chromium\n                        // - The last compositionupdate event's data property does not always accurately describe\n                        //   the character, a counter example being Korean where an ending consonsant can move to\n                        //   the following character if the following input is a vowel.\n                        var self = this;\n                        this.isSendingComposition = true;\n                        setTimeout(function() {\n                            // Ensure that the input has not already been sent\n                            if (self.isSendingComposition) {\n                                self.isSendingComposition = false;\n                                var input;\n                                if (self.isComposing) {\n                                    // Use the end position to get the string if a new composition has started.\n                                    input = self.textarea.value.substring(currentCompositionPosition.start, currentCompositionPosition.end);\n                                } else {\n                                    // Don't use the end position here in order to pick up any characters after the\n                                    // composition has finished, for example when typing a non-composition character\n                                    // (eg. 2) after a composition character.\n                                    input = self.textarea.value.substring(currentCompositionPosition.start);\n                                }\n                                self.terminal.handler(input);\n                            }\n                        }, 0);\n                    }\n                };\n                /**\n                 * Apply any changes made to the textarea after the current event chain is allowed to complete.\n                 * This should be called when not currently composing but a keydown event with the \"composition\n                 * character\" (229) is triggered, in order to allow non-composition text to be entered when an\n                 * IME is active.\n                 */\n                CompositionHelper.prototype.handleAnyTextareaChanges = function() {\n                    var oldValue = this.textarea.value;\n                    var self = this;\n                    setTimeout(function() {\n                        // Ignore if a composition has started since the timeout\n                        if (!self.isComposing) {\n                            var newValue = self.textarea.value;\n                            var diff = newValue.replace(oldValue, '');\n                            if (diff.length > 0) {\n                                self.terminal.handler(diff);\n                            }\n                        }\n                    }, 0);\n                };\n                /**\n                 * Positions the composition view on top of the cursor and the textarea just below it (so the\n                 * IME helper dialog is positioned correctly).\n                 * @param dontRecurse Whether to use setTimeout to recursively trigger another update, this is\n                 *   necessary as the IME events across browsers are not consistently triggered.\n                 */\n                CompositionHelper.prototype.updateCompositionElements = function(dontRecurse) {\n                    if (!this.isComposing) {\n                        return;\n                    }\n                    var cursor = this.terminal.element.querySelector('.terminal-cursor');\n                    if (cursor) {\n                        // Take .xterm-rows offsetTop into account as well in case it's positioned absolutely within\n                        // the .xterm element.\n                        var xtermRows = this.terminal.element.querySelector('.xterm-rows');\n                        var cursorTop = xtermRows.offsetTop + cursor.offsetTop;\n                        this.compositionView.style.left = cursor.offsetLeft + 'px';\n                        this.compositionView.style.top = cursorTop + 'px';\n                        this.compositionView.style.height = cursor.offsetHeight + 'px';\n                        this.compositionView.style.lineHeight = cursor.offsetHeight + 'px';\n                        // Sync the textarea to the exact position of the composition view so the IME knows where the\n                        // text is.\n                        var compositionViewBounds = this.compositionView.getBoundingClientRect();\n                        this.textarea.style.left = cursor.offsetLeft + 'px';\n                        this.textarea.style.top = cursorTop + 'px';\n                        this.textarea.style.width = compositionViewBounds.width + 'px';\n                        this.textarea.style.height = compositionViewBounds.height + 'px';\n                        this.textarea.style.lineHeight = compositionViewBounds.height + 'px';\n                    }\n                    if (!dontRecurse) {\n                        setTimeout(this.updateCompositionElements.bind(this, true), 0);\n                    }\n                };;\n                /**\n                 * Clears the textarea's position so that the cursor does not blink on IE.\n                 * @private\n                 */\n                CompositionHelper.prototype.clearTextareaPosition = function() {\n                    this.textarea.style.left = '';\n                    this.textarea.style.top = '';\n                };;\n                return CompositionHelper;\n            }());\n            exports.CompositionHelper = CompositionHelper;\n\n        }, {}],\n        2: [function(require, module, exports) {\n            /**\n             * @license MIT\n             */\n            \"use strict\";\n\n            function EventEmitter() {\n                this._events = this._events || {};\n            }\n            exports.EventEmitter = EventEmitter;\n            EventEmitter.prototype.addListener = function(type, listener) {\n                this._events[type] = this._events[type] || [];\n                this._events[type].push(listener);\n            };\n            EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n            EventEmitter.prototype.removeListener = function(type, listener) {\n                if (!this._events[type])\n                    return;\n                var obj = this._events[type],\n                    i = obj.length;\n                while (i--) {\n                    if (obj[i] === listener || obj[i].listener === listener) {\n                        obj.splice(i, 1);\n                        return;\n                    }\n                }\n            };\n            EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n            EventEmitter.prototype.removeAllListeners = function(type) {\n                if (this._events[type])\n                    delete this._events[type];\n            };\n            EventEmitter.prototype.once = function(type, listener) {\n                var self = this;\n\n                function on() {\n                    var args = Array.prototype.slice.call(arguments);\n                    this.removeListener(type, on);\n                    return listener.apply(this, args);\n                }\n                on.listener = listener;\n                return this.on(type, on);\n            };\n            EventEmitter.prototype.emit = function(type) {\n                if (!this._events[type])\n                    return;\n                var args = Array.prototype.slice.call(arguments, 1),\n                    obj = this._events[type],\n                    l = obj.length,\n                    i = 0;\n                for (; i < l; i++) {\n                    obj[i].apply(this, args);\n                }\n            };\n            EventEmitter.prototype.listeners = function(type) {\n                return this._events[type] = this._events[type] || [];\n            };\n\n        }, {}],\n        3: [function(require, module, exports) {\n            /**\n             * @license MIT\n             */\n            \"use strict\";\n            /**\n             * Represents the viewport of a terminal, the visible area within the larger buffer of output.\n             * Logic for the virtual scroll bar is included in this object.\n             */\n            var Viewport = (function() {\n                /**\n                 * Creates a new Viewport.\n                 * @param terminal The terminal this viewport belongs to.\n                 * @param viewportElement The DOM element acting as the viewport.\n                 * @param scrollArea The DOM element acting as the scroll area.\n                 * @param charMeasureElement A DOM element used to measure the character size of. the terminal.\n                 */\n                function Viewport(terminal, viewportElement, scrollArea, charMeasureElement) {\n                    this.terminal = terminal;\n                    this.viewportElement = viewportElement;\n                    this.scrollArea = scrollArea;\n                    this.charMeasureElement = charMeasureElement;\n                    this.currentRowHeight = 0;\n                    this.lastRecordedBufferLength = 0;\n                    this.lastRecordedViewportHeight = 0;\n                    this.terminal.on('scroll', this.syncScrollArea.bind(this));\n                    this.terminal.on('resize', this.syncScrollArea.bind(this));\n                    this.viewportElement.addEventListener('scroll', this.onScroll.bind(this));\n                    this.syncScrollArea();\n                }\n                /**\n                 * Refreshes row height, setting line-height, viewport height and scroll area height if\n                 * necessary.\n                 * @param charSize A character size measurement bounding rect object, if it doesn't exist it will\n                 *   be created.\n                 */\n                Viewport.prototype.refresh = function(charSize) {\n                    var size = charSize || this.charMeasureElement.getBoundingClientRect();\n                    if (size.height > 0) {\n                        var rowHeightChanged = size.height !== this.currentRowHeight;\n                        if (rowHeightChanged) {\n                            this.currentRowHeight = size.height;\n                            this.viewportElement.style.lineHeight = size.height + 'px';\n                            this.terminal.rowContainer.style.lineHeight = size.height + 'px';\n                        }\n                        var viewportHeightChanged = this.lastRecordedViewportHeight !== this.terminal.rows;\n                        if (rowHeightChanged || viewportHeightChanged) {\n                            this.lastRecordedViewportHeight = this.terminal.rows;\n                            this.viewportElement.style.height = size.height * this.terminal.rows + 'px';\n                        }\n                        this.scrollArea.style.height = (size.height * this.lastRecordedBufferLength) + 'px';\n                    }\n                };\n                /**\n                 * Updates dimensions and synchronizes the scroll area if necessary.\n                 */\n                Viewport.prototype.syncScrollArea = function() {\n                    if (this.lastRecordedBufferLength !== this.terminal.lines.length) {\n                        // If buffer height changed\n                        this.lastRecordedBufferLength = this.terminal.lines.length;\n                        this.refresh();\n                    } else if (this.lastRecordedViewportHeight !== this.terminal.rows) {\n                        // If viewport height changed\n                        this.refresh();\n                    } else {\n                        // If size has changed, refresh viewport\n                        var size = this.charMeasureElement.getBoundingClientRect();\n                        if (size.height !== this.currentRowHeight) {\n                            this.refresh(size);\n                        }\n                    }\n                    // Sync scrollTop\n                    var scrollTop = this.terminal.ydisp * this.currentRowHeight;\n                    if (this.viewportElement.scrollTop !== scrollTop) {\n                        this.viewportElement.scrollTop = scrollTop;\n                    }\n                };\n                /**\n                 * Handles scroll events on the viewport, calculating the new viewport and requesting the\n                 * terminal to scroll to it.\n                 * @param ev The scroll event.\n                 */\n                Viewport.prototype.onScroll = function(ev) {\n                    var newRow = Math.round(this.viewportElement.scrollTop / this.currentRowHeight);\n                    var diff = newRow - this.terminal.ydisp;\n                    this.terminal.scrollDisp(diff, true);\n                };\n                /**\n                 * Handles mouse wheel events by adjusting the viewport's scrollTop and delegating the actual\n                 * scrolling to `onScroll`, this event needs to be attached manually by the consumer of\n                 * `Viewport`.\n                 * @param ev The mouse wheel event.\n                 */\n                Viewport.prototype.onWheel = function(ev) {\n                    if (ev.deltaY === 0) {\n                        // Do nothing if it's not a vertical scroll event\n                        return;\n                    }\n                    // Fallback to WheelEvent.DOM_DELTA_PIXEL\n                    var multiplier = 1;\n                    if (ev.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n                        multiplier = this.currentRowHeight;\n                    } else if (ev.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n                        multiplier = this.currentRowHeight * this.terminal.rows;\n                    }\n                    this.viewportElement.scrollTop += ev.deltaY * multiplier;\n                    // Prevent the page from scrolling when the terminal scrolls\n                    ev.preventDefault();\n                };;\n                return Viewport;\n            }());\n            exports.Viewport = Viewport;\n\n        }, {}],\n        4: [function(require, module, exports) {\n            /**\n             * Clipboard handler module: exports methods for handling all clipboard-related events in the\n             * terminal.\n             * @module xterm/handlers/Clipboard\n             * @license MIT\n             */\n            \"use strict\";\n            /**\n             * Prepares text copied from terminal selection, to be saved in the clipboard by:\n             *   1. stripping all trailing white spaces\n             *   2. converting all non-breaking spaces to regular spaces\n             * @param {string} text The copied text that needs processing for storing in clipboard\n             * @returns {string}\n             */\n            function prepareTextForClipboard(text) {\n                var space = String.fromCharCode(32),\n                    nonBreakingSpace = String.fromCharCode(160),\n                    allNonBreakingSpaces = new RegExp(nonBreakingSpace, 'g'),\n                    processedText = text.split('\\n').map(function(line) {\n                        // Strip all trailing white spaces and convert all non-breaking spaces\n                        // to regular spaces.\n                        var processedLine = line.replace(/\\s+$/g, '').replace(allNonBreakingSpaces, space);\n                        return processedLine;\n                    }).join('\\n');\n                return processedText;\n            }\n            exports.prepareTextForClipboard = prepareTextForClipboard;\n            /**\n             * Binds copy functionality to the given terminal.\n             * @param {ClipboardEvent} ev The original copy event to be handled\n             */\n            function copyHandler(ev, term) {\n                // We cast `window` to `any` type, because TypeScript has not declared the `clipboardData`\n                // property that we use below for Internet Explorer.\n                var copiedText = window.getSelection().toString(),\n                    text = prepareTextForClipboard(copiedText);\n                if (term.browser.isMSIE) {\n                    window.clipboardData.setData('Text', text);\n                } else {\n                    ev.clipboardData.setData('text/plain', text);\n                }\n                ev.preventDefault(); // Prevent or the original text will be copied.\n            }\n            exports.copyHandler = copyHandler;\n            /**\n             * Redirect the clipboard's data to the terminal's input handler.\n             * @param {ClipboardEvent} ev The original paste event to be handled\n             * @param {Terminal} term The terminal on which to apply the handled paste event\n             */\n            function pasteHandler(ev, term) {\n                ev.stopPropagation();\n                var text;\n                var dispatchPaste = function(text) {\n                    term.handler(text);\n                    term.textarea.value = '';\n                    return term.cancel(ev);\n                };\n                if (term.browser.isMSIE) {\n                    if (window.clipboardData) {\n                        text = window.clipboardData.getData('Text');\n                        dispatchPaste(text);\n                    }\n                } else {\n                    if (ev.clipboardData) {\n                        text = ev.clipboardData.getData('text/plain');\n                        dispatchPaste(text);\n                    }\n                }\n            }\n            exports.pasteHandler = pasteHandler;\n            /**\n             * Bind to right-click event and allow right-click copy and paste.\n             *\n             * **Logic**\n             * If text is selected and right-click happens on selected text, then\n             * do nothing to allow seamless copying.\n             * If no text is selected or right-click is outside of the selection\n             * area, then bring the terminal's input below the cursor, in order to\n             * trigger the event on the textarea and allow-right click paste, without\n             * caring about disappearing selection.\n             * @param {ClipboardEvent} ev The original paste event to be handled\n             * @param {Terminal} term The terminal on which to apply the handled paste event\n             */\n            function rightClickHandler(ev, term) {\n                var s = document.getSelection(),\n                    selectedText = prepareTextForClipboard(s.toString()),\n                    clickIsOnSelection = false,\n                    x = ev.clientX,\n                    y = ev.clientY;\n                if (s.rangeCount) {\n                    var r = s.getRangeAt(0),\n                        cr = r.getClientRects(),\n                        i = void 0,\n                        rect = void 0;\n                    for (i = 0; i < cr.length; i++) {\n                        rect = cr[i];\n                        clickIsOnSelection = ((x > rect.left) && (x < rect.right) &&\n                            (y > rect.top) && (y < rect.bottom));\n                        if (clickIsOnSelection) {\n                            break;\n                        }\n                    }\n                    // If we clicked on selection and selection is not a single space,\n                    // then mark the right click as copy-only. We check for the single\n                    // space selection, as this can happen when clicking on an &nbsp;\n                    // and there is not much pointing in copying a single space.\n                    if (selectedText.match(/^\\s$/) || !selectedText.length) {\n                        clickIsOnSelection = false;\n                    }\n                }\n                // Bring textarea at the cursor position\n                if (!clickIsOnSelection) {\n                    term.textarea.style.position = 'fixed';\n                    term.textarea.style.width = '20px';\n                    term.textarea.style.height = '20px';\n                    term.textarea.style.left = (x - 10) + 'px';\n                    term.textarea.style.top = (y - 10) + 'px';\n                    term.textarea.style.zIndex = '1000';\n                    term.textarea.focus();\n                    // Reset the terminal textarea's styling\n                    setTimeout(function() {\n                        term.textarea.style.position = null;\n                        term.textarea.style.width = null;\n                        term.textarea.style.height = null;\n                        term.textarea.style.left = null;\n                        term.textarea.style.top = null;\n                        term.textarea.style.zIndex = null;\n                    }, 4);\n                }\n            }\n            exports.rightClickHandler = rightClickHandler;\n\n        }, {}],\n        5: [function(require, module, exports) {\n            /**\n             * Attributes and methods to help with identifying the current browser and platform.\n             * @module xterm/utils/Browser\n             * @license MIT\n             */\n            \"use strict\";\n            var Generic_js_1 = require('./Generic.js');\n            var isNode = (typeof navigator == 'undefined') ? true : false;\n            var userAgent = (isNode) ? 'node' : navigator.userAgent;\n            var platform = (isNode) ? 'node' : navigator.platform;\n            exports.isFirefox = !!~userAgent.indexOf('Firefox');\n            exports.isMSIE = !!~userAgent.indexOf('MSIE') || !!~userAgent.indexOf('Trident');\n            // Find the users platform. We use this to interpret the meta key\n            // and ISO third level shifts.\n            // http://stackoverflow.com/q/19877924/577598\n            exports.isMac = Generic_js_1.contains(['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'], platform);\n            exports.isIpad = platform === 'iPad';\n            exports.isIphone = platform === 'iPhone';\n            exports.isMSWindows = Generic_js_1.contains(['Windows', 'Win16', 'Win32', 'WinCE'], platform);\n\n        }, {\n            \"./Generic.js\": 6\n        }],\n        6: [function(require, module, exports) {\n            /**\n             * Generic utilities module with methods that can be helpful at different parts of the code base.\n             * @module xterm/utils/Generic\n             * @license MIT\n             */\n            \"use strict\";\n            /**\n             * Return if the given array contains the given element\n             * @param {Array} array The array to search for the given element.\n             * @param {Object} el The element to look for into the array\n             */\n            exports.contains = function(arr, el) {\n                return arr.indexOf(el) >= 0;\n            };\n\n        }, {}],\n        7: [function(require, module, exports) {\n            /**\n             * xterm.js: xterm, in the browser\n             * Originally forked from (with the author's permission):\n             *   Fabrice Bellard's javascript vt100 for jslinux:\n             *   http://bellard.org/jslinux/\n             *   Copyright (c) 2011 Fabrice Bellard\n             *   The original design remains. The terminal itself\n             *   has been extended to include xterm CSI codes, among\n             *   other features.\n             * @license MIT\n             */\n            \"use strict\";\n            var CompositionHelper_js_1 = require('./CompositionHelper.js');\n            var EventEmitter_js_1 = require('./EventEmitter.js');\n            var Viewport_js_1 = require('./Viewport.js');\n            var Clipboard_js_1 = require('./handlers/Clipboard.js');\n            var Browser = require('./utils/Browser');\n            /**\n             * Terminal Emulation References:\n             *   http://vt100.net/\n             *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.txt\n             *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n             *   http://invisible-island.net/vttest/\n             *   http://www.inwap.com/pdp10/ansicode.txt\n             *   http://linux.die.net/man/4/console_codes\n             *   http://linux.die.net/man/7/urxvt\n             */\n                // Let it work inside Node.js for automated testing purposes.\n            var document = (typeof window != 'undefined') ? window.document : null;\n            /**\n             * States\n             */\n            var normal = 0,\n                escaped = 1,\n                csi = 2,\n                osc = 3,\n                charset = 4,\n                dcs = 5,\n                ignore = 6;\n            /**\n             * Terminal\n             */\n            /**\n             * Creates a new `Terminal` object.\n             *\n             * @param {object} options An object containing a set of options, the available options are:\n             *   - `cursorBlink` (boolean): Whether the terminal cursor blinks\n             *   - `cols` (number): The number of columns of the terminal (horizontal size)\n             *   - `rows` (number): The number of rows of the terminal (vertical size)\n             *\n             * @public\n             * @class Xterm Xterm\n             * @alias module:xterm/src/xterm\n             */\n            function Terminal(options) {\n                var self = this;\n                if (!(this instanceof Terminal)) {\n                    return new Terminal(arguments[0], arguments[1], arguments[2]);\n                }\n                self.browser = Browser;\n                self.cancel = Terminal.cancel;\n                EventEmitter_js_1.EventEmitter.call(this);\n                if (typeof options === 'number') {\n                    options = {\n                        cols: arguments[0],\n                        rows: arguments[1],\n                        handler: arguments[2]\n                    };\n                }\n                options = options || {};\n                Object.keys(Terminal.defaults).forEach(function(key) {\n                    if (options[key] == null) {\n                        options[key] = Terminal.options[key];\n                        if (Terminal[key] !== Terminal.defaults[key]) {\n                            options[key] = Terminal[key];\n                        }\n                    }\n                    self[key] = options[key];\n                });\n                if (options.colors.length === 8) {\n                    options.colors = options.colors.concat(Terminal._colors.slice(8));\n                } else if (options.colors.length === 16) {\n                    options.colors = options.colors.concat(Terminal._colors.slice(16));\n                } else if (options.colors.length === 10) {\n                    options.colors = options.colors.slice(0, -2).concat(Terminal._colors.slice(8, -2), options.colors.slice(-2));\n                } else if (options.colors.length === 18) {\n                    options.colors = options.colors.concat(Terminal._colors.slice(16, -2), options.colors.slice(-2));\n                }\n                this.colors = options.colors;\n                this.options = options;\n                // this.context = options.context || window;\n                // this.document = options.document || document;\n                this.parent = options.body || options.parent || (document ? document.getElementsByTagName('body')[0] : null);\n                this.cols = options.cols || options.geometry[0];\n                this.rows = options.rows || options.geometry[1];\n                this.geometry = [this.cols, this.rows];\n                if (options.handler) {\n                    this.on('data', options.handler);\n                }\n                /**\n                 * The scroll position of the y cursor, ie. ybase + y = the y position within the entire\n                 * buffer\n                 */\n                this.ybase = 0;\n                /**\n                 * The scroll position of the viewport\n                 */\n                this.ydisp = 0;\n                /**\n                 * The cursor's x position after ybase\n                 */\n                this.x = 0;\n                /**\n                 * The cursor's y position after ybase\n                 */\n                this.y = 0;\n                /**\n                 * Used to debounce the refresh function\n                 */\n                this.isRefreshing = false;\n                /**\n                 * Whether there is a full terminal refresh queued\n                 */\n                this.cursorState = 0;\n                this.cursorHidden = false;\n                this.convertEol;\n                this.state = 0;\n                this.queue = '';\n                this.scrollTop = 0;\n                this.scrollBottom = this.rows - 1;\n                this.customKeydownHandler = null;\n                // modes\n                this.applicationKeypad = false;\n                this.applicationCursor = false;\n                this.originMode = false;\n                this.insertMode = false;\n                this.wraparoundMode = true; // defaults: xterm - true, vt100 - false\n                this.normal = null;\n                // charset\n                this.charset = null;\n                this.gcharset = null;\n                this.glevel = 0;\n                this.charsets = [null];\n                // mouse properties\n                this.decLocator;\n                this.x10Mouse;\n                this.vt200Mouse;\n                this.vt300Mouse;\n                this.normalMouse;\n                this.mouseEvents;\n                this.sendFocus;\n                this.utfMouse;\n                this.sgrMouse;\n                this.urxvtMouse;\n                // misc\n                this.element;\n                this.children;\n                this.refreshStart;\n                this.refreshEnd;\n                this.savedX;\n                this.savedY;\n                this.savedCols;\n                // stream\n                this.readable = true;\n                this.writable = true;\n                this.defAttr = (0 << 18) | (257 << 9) | (256 << 0);\n                this.curAttr = this.defAttr;\n                this.params = [];\n                this.currentParam = 0;\n                this.prefix = '';\n                this.postfix = '';\n                // leftover surrogate high from previous write invocation\n                this.surrogate_high = '';\n                /**\n                 * An array of all lines in the entire buffer, including the prompt. The lines are array of\n                 * characters which are 2-length arrays where [0] is an attribute and [1] is the character.\n                 */\n                this.lines = [];\n                var i = this.rows;\n                while (i--) {\n                    this.lines.push(this.blankLine());\n                }\n                this.tabs;\n                this.setupStops();\n                // Store if user went browsing history in scrollback\n                this.userScrolling = false;\n            }\n            inherits(Terminal, EventEmitter_js_1.EventEmitter);\n            /**\n             * back_color_erase feature for xterm.\n             */\n            Terminal.prototype.eraseAttr = function() {\n                // if (this.is('screen')) return this.defAttr;\n                return (this.defAttr & ~0x1ff) | (this.curAttr & 0x1ff);\n            };\n            /**\n             * Colors\n             */\n            // Colors 0-15\n            Terminal.tangoColors = [\n                // dark:\n                '#2e3436',\n                '#cc0000',\n                '#4e9a06',\n                '#c4a000',\n                '#3465a4',\n                '#75507b',\n                '#06989a',\n                '#d3d7cf',\n                // bright:\n                '#555753',\n                '#ef2929',\n                '#8ae234',\n                '#fce94f',\n                '#729fcf',\n                '#ad7fa8',\n                '#34e2e2',\n                '#eeeeec'\n            ];\n            // Colors 0-15 + 16-255\n            // Much thanks to TooTallNate for writing this.\n            Terminal.colors = (function() {\n                var colors = Terminal.tangoColors.slice(),\n                    r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff],\n                    i;\n                // 16-231\n                i = 0;\n                for (; i < 216; i++) {\n                    out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);\n                }\n                // 232-255 (grey)\n                i = 0;\n                for (; i < 24; i++) {\n                    r = 8 + i * 10;\n                    out(r, r, r);\n                }\n\n                function out(r, g, b) {\n                    colors.push('#' + hex(r) + hex(g) + hex(b));\n                }\n\n                function hex(c) {\n                    c = c.toString(16);\n                    return c.length < 2 ? '0' + c : c;\n                }\n                return colors;\n            })();\n            Terminal._colors = Terminal.colors.slice();\n            Terminal.vcolors = (function() {\n                var out = [],\n                    colors = Terminal.colors,\n                    i = 0,\n                    color;\n                for (; i < 256; i++) {\n                    color = parseInt(colors[i].substring(1), 16);\n                    out.push([\n                        (color >> 16) & 0xff,\n                        (color >> 8) & 0xff,\n                        color & 0xff\n                    ]);\n                }\n                return out;\n            })();\n            /**\n             * Options\n             */\n            Terminal.defaults = {\n                colors: Terminal.colors,\n                theme: 'default',\n                convertEol: false,\n                termName: 'xterm',\n                geometry: [80, 24],\n                cursorBlink: false,\n                visualBell: false,\n                popOnBell: false,\n                scrollback: 1000,\n                screenKeys: false,\n                debug: false,\n                cancelEvents: false\n            };\n            Terminal.options = {};\n            Terminal.focus = null;\n            each(keys(Terminal.defaults), function(key) {\n                Terminal[key] = Terminal.defaults[key];\n                Terminal.options[key] = Terminal.defaults[key];\n            });\n            /**\n             * Focus the terminal. Delegates focus handling to the terminal's DOM element.\n             */\n            Terminal.prototype.focus = function() {\n                return this.textarea.focus();\n            };\n            /**\n             * Retrieves an option's value from the terminal.\n             * @param {string} key The option key.\n             */\n            Terminal.prototype.getOption = function(key, value) {\n                if (!(key in Terminal.defaults)) {\n                    throw new Error('No option with key \"' + key + '\"');\n                }\n                if (typeof this.options[key] !== 'undefined') {\n                    return this.options[key];\n                }\n                return this[key];\n            };\n            /**\n             * Sets an option on the terminal.\n             * @param {string} key The option key.\n             * @param {string} value The option value.\n             */\n            Terminal.prototype.setOption = function(key, value) {\n                if (!(key in Terminal.defaults)) {\n                    throw new Error('No option with key \"' + key + '\"');\n                }\n                this[key] = value;\n                this.options[key] = value;\n            };\n            /**\n             * Binds the desired focus behavior on a given terminal object.\n             *\n             * @static\n             */\n            Terminal.bindFocus = function(term) {\n                on(term.textarea, 'focus', function(ev) {\n                    if (term.sendFocus) {\n                        term.send('\\x1b[I');\n                    }\n                    term.element.classList.add('focus');\n                    term.showCursor();\n                    Terminal.focus = term;\n                    term.emit('focus', {\n                        terminal: term\n                    });\n                });\n            };\n            /**\n             * Blur the terminal. Delegates blur handling to the terminal's DOM element.\n             */\n            Terminal.prototype.blur = function() {\n                return this.textarea.blur();\n            };\n            /**\n             * Binds the desired blur behavior on a given terminal object.\n             *\n             * @static\n             */\n            Terminal.bindBlur = function(term) {\n                on(term.textarea, 'blur', function(ev) {\n                    term.refresh(term.y, term.y);\n                    if (term.sendFocus) {\n                        term.send('\\x1b[O');\n                    }\n                    term.element.classList.remove('focus');\n                    Terminal.focus = null;\n                    term.emit('blur', {\n                        terminal: term\n                    });\n                });\n            };\n            /**\n             * Initialize default behavior\n             */\n            Terminal.prototype.initGlobal = function() {\n                var term = this;\n                Terminal.bindKeys(this);\n                Terminal.bindFocus(this);\n                Terminal.bindBlur(this);\n                // Bind clipboard functionality\n                on(this.element, 'copy', function(ev) {\n                    Clipboard_js_1.copyHandler.call(this, ev, term);\n                });\n                on(this.textarea, 'paste', function(ev) {\n                    Clipboard_js_1.pasteHandler.call(this, ev, term);\n                });\n\n                function rightClickHandlerWrapper(ev) {\n                    Clipboard_js_1.rightClickHandler.call(this, ev, term);\n                }\n                if (term.browser.isFirefox) {\n                    on(this.element, 'mousedown', function(ev) {\n                        if (ev.button == 2) {\n                            rightClickHandlerWrapper(ev);\n                        }\n                    });\n                } else {\n                    on(this.element, 'contextmenu', rightClickHandlerWrapper);\n                }\n            };\n            /**\n             * Apply key handling to the terminal\n             */\n            Terminal.bindKeys = function(term) {\n                on(term.element, 'keydown', function(ev) {\n                    if (document.activeElement != this) {\n                        return;\n                    }\n                    term.keyDown(ev);\n                }, true);\n                on(term.element, 'keypress', function(ev) {\n                    if (document.activeElement != this) {\n                        return;\n                    }\n                    term.keyPress(ev);\n                }, true);\n                on(term.element, 'keyup', term.focus.bind(term));\n                on(term.textarea, 'keydown', function(ev) {\n                    term.keyDown(ev);\n                }, true);\n                on(term.textarea, 'keypress', function(ev) {\n                    term.keyPress(ev);\n                    // Truncate the textarea's value, since it is not needed\n                    this.value = '';\n                }, true);\n                on(term.textarea, 'compositionstart', term.compositionHelper.compositionstart.bind(term.compositionHelper));\n                on(term.textarea, 'compositionupdate', term.compositionHelper.compositionupdate.bind(term.compositionHelper));\n                on(term.textarea, 'compositionend', term.compositionHelper.compositionend.bind(term.compositionHelper));\n                term.on('refresh', term.compositionHelper.updateCompositionElements.bind(term.compositionHelper));\n            };\n            /**\n             * Insert the given row to the terminal or produce a new one\n             * if no row argument is passed. Return the inserted row.\n             * @param {HTMLElement} row (optional) The row to append to the terminal.\n             */\n            Terminal.prototype.insertRow = function(row) {\n                if (typeof row != 'object') {\n                    row = document.createElement('div');\n                }\n                this.rowContainer.appendChild(row);\n                this.children.push(row);\n                return row;\n            };\n            /**\n             * Opens the terminal within an element.\n             *\n             * @param {HTMLElement} parent The element to create the terminal within.\n             */\n            Terminal.prototype.open = function(parent) {\n                var self = this,\n                    i = 0,\n                    div;\n                this.parent = parent || this.parent;\n                if (!this.parent) {\n                    throw new Error('Terminal requires a parent element.');\n                }\n                // Grab global elements\n                this.context = this.parent.ownerDocument.defaultView;\n                this.document = this.parent.ownerDocument;\n                this.body = this.document.getElementsByTagName('body')[0];\n                //Create main element container\n                this.element = this.document.createElement('div');\n                this.element.classList.add('terminal');\n                this.element.classList.add('xterm');\n                this.element.classList.add('xterm-theme-' + this.theme);\n                this.element.style.height;\n                this.element.setAttribute('tabindex', 0);\n                this.viewportElement = document.createElement('div');\n                this.viewportElement.classList.add('xterm-viewport');\n                this.element.appendChild(this.viewportElement);\n                this.viewportScrollArea = document.createElement('div');\n                this.viewportScrollArea.classList.add('xterm-scroll-area');\n                this.viewportElement.appendChild(this.viewportScrollArea);\n                // Create the container that will hold the lines of the terminal and then\n                // produce the lines the lines.\n                this.rowContainer = document.createElement('div');\n                this.rowContainer.classList.add('xterm-rows');\n                this.element.appendChild(this.rowContainer);\n                this.children = [];\n                // Create the container that will hold helpers like the textarea for\n                // capturing DOM Events. Then produce the helpers.\n                this.helperContainer = document.createElement('div');\n                this.helperContainer.classList.add('xterm-helpers');\n                // TODO: This should probably be inserted once it's filled to prevent an additional layout\n                this.element.appendChild(this.helperContainer);\n                this.textarea = document.createElement('textarea');\n                this.textarea.classList.add('xterm-helper-textarea');\n                this.textarea.setAttribute('autocorrect', 'off');\n                this.textarea.setAttribute('autocapitalize', 'off');\n                this.textarea.setAttribute('spellcheck', 'false');\n                this.textarea.tabIndex = 0;\n                this.textarea.addEventListener('focus', function() {\n                    self.emit('focus', {\n                        terminal: self\n                    });\n                });\n                this.textarea.addEventListener('blur', function() {\n                    self.emit('blur', {\n                        terminal: self\n                    });\n                });\n                this.helperContainer.appendChild(this.textarea);\n                this.compositionView = document.createElement('div');\n                this.compositionView.classList.add('composition-view');\n                this.compositionHelper = new CompositionHelper_js_1.CompositionHelper(this.textarea, this.compositionView, this);\n                this.helperContainer.appendChild(this.compositionView);\n                this.charMeasureElement = document.createElement('div');\n                this.charMeasureElement.classList.add('xterm-char-measure-element');\n                this.charMeasureElement.innerHTML = 'W';\n                this.helperContainer.appendChild(this.charMeasureElement);\n                for (; i < this.rows; i++) {\n                    this.insertRow();\n                }\n                this.parent.appendChild(this.element);\n                this.viewport = new Viewport_js_1.Viewport(this, this.viewportElement, this.viewportScrollArea, this.charMeasureElement);\n                // Draw the screen.\n                this.refresh(0, this.rows - 1);\n                // Initialize global actions that\n                // need to be taken on the document.\n                this.initGlobal();\n                // Ensure there is a Terminal.focus.\n                this.focus();\n                on(this.element, 'click', function() {\n                    var selection = document.getSelection(),\n                        collapsed = selection.isCollapsed,\n                        isRange = typeof collapsed == 'boolean' ? !collapsed : selection.type == 'Range';\n                    if (!isRange) {\n                        self.focus();\n                    }\n                });\n                // Listen for mouse events and translate\n                // them into terminal mouse protocols.\n                this.bindMouse();\n                // Figure out whether boldness affects\n                // the character width of monospace fonts.\n                if (Terminal.brokenBold == null) {\n                    Terminal.brokenBold = isBoldBroken(this.document);\n                }\n                /**\n                 * This event is emitted when terminal has completed opening.\n                 *\n                 * @event open\n                 */\n                this.emit('open');\n            };\n            /**\n             * Attempts to load an add-on using CommonJS or RequireJS (whichever is available).\n             * @param {string} addon The name of the addon to load\n             * @static\n             */\n            Terminal.loadAddon = function(addon, callback) {\n                if (typeof exports === 'object' && typeof module === 'object') {\n                    // CommonJS\n                    return require('./addons/' + addon + '/' + addon);\n                } else if (typeof define == 'function') {\n                    // RequireJS\n                    return require(['./addons/' + addon + '/' + addon], callback);\n                } else {\n                    console.error('Cannot load a module without a CommonJS or RequireJS environment.');\n                    return false;\n                }\n            };\n            /**\n             * XTerm mouse events\n             * http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\n             * To better understand these\n             * the xterm code is very helpful:\n             * Relevant files:\n             *   button.c, charproc.c, misc.c\n             * Relevant functions in xterm/button.c:\n             *   BtnCode, EmitButtonCode, EditorButton, SendMousePosition\n             */\n            Terminal.prototype.bindMouse = function() {\n                var el = this.element,\n                    self = this,\n                    pressed = 32;\n                // mouseup, mousedown, wheel\n                // left click: ^[[M 3<^[[M#3<\n                // wheel up: ^[[M`3>\n                function sendButton(ev) {\n                    var button, pos;\n                    // get the xterm-style button\n                    button = getButton(ev);\n                    // get mouse coordinates\n                    pos = getCoords(ev);\n                    if (!pos)\n                        return;\n                    sendEvent(button, pos);\n                    switch (ev.overrideType || ev.type) {\n                        case 'mousedown':\n                            pressed = button;\n                            break;\n                        case 'mouseup':\n                            // keep it at the left\n                            // button, just in case.\n                            pressed = 32;\n                            break;\n                        case 'wheel':\n                            // nothing. don't\n                            // interfere with\n                            // `pressed`.\n                            break;\n                    }\n                }\n                // motion example of a left click:\n                // ^[[M 3<^[[M@4<^[[M@5<^[[M@6<^[[M@7<^[[M#7<\n                function sendMove(ev) {\n                    var button = pressed,\n                        pos;\n                    pos = getCoords(ev);\n                    if (!pos)\n                        return;\n                    // buttons marked as motions\n                    // are incremented by 32\n                    button += 32;\n                    sendEvent(button, pos);\n                }\n                // encode button and\n                // position to characters\n                function encode(data, ch) {\n                    if (!self.utfMouse) {\n                        if (ch === 255)\n                            return data.push(0);\n                        if (ch > 127)\n                            ch = 127;\n                        data.push(ch);\n                    } else {\n                        if (ch === 2047)\n                            return data.push(0);\n                        if (ch < 127) {\n                            data.push(ch);\n                        } else {\n                            if (ch > 2047)\n                                ch = 2047;\n                            data.push(0xC0 | (ch >> 6));\n                            data.push(0x80 | (ch & 0x3F));\n                        }\n                    }\n                }\n                // send a mouse event:\n                // regular/utf8: ^[[M Cb Cx Cy\n                // urxvt: ^[[ Cb ; Cx ; Cy M\n                // sgr: ^[[ Cb ; Cx ; Cy M/m\n                // vt300: ^[[ 24(1/3/5)~ [ Cx , Cy ] \\r\n                // locator: CSI P e ; P b ; P r ; P c ; P p & w\n                function sendEvent(button, pos) {\n                    // self.emit('mouse', {\n                    //   x: pos.x - 32,\n                    //   y: pos.x - 32,\n                    //   button: button\n                    // });\n                    if (self.vt300Mouse) {\n                        // NOTE: Unstable.\n                        // http://www.vt100.net/docs/vt3xx-gp/chapter15.html\n                        button &= 3;\n                        pos.x -= 32;\n                        pos.y -= 32;\n                        var data = '\\x1b[24';\n                        if (button === 0)\n                            data += '1';\n                        else if (button === 1)\n                            data += '3';\n                        else if (button === 2)\n                            data += '5';\n                        else if (button === 3)\n                            return;\n                        else\n                            data += '0';\n                        data += '~[' + pos.x + ',' + pos.y + ']\\r';\n                        self.send(data);\n                        return;\n                    }\n                    if (self.decLocator) {\n                        // NOTE: Unstable.\n                        button &= 3;\n                        pos.x -= 32;\n                        pos.y -= 32;\n                        if (button === 0)\n                            button = 2;\n                        else if (button === 1)\n                            button = 4;\n                        else if (button === 2)\n                            button = 6;\n                        else if (button === 3)\n                            button = 3;\n                        self.send('\\x1b[' +\n                            button +\n                            ';' +\n                            (button === 3 ? 4 : 0) +\n                            ';' +\n                            pos.y +\n                            ';' +\n                            pos.x +\n                            ';' +\n                            (pos.page || 0) +\n                            '&w');\n                        return;\n                    }\n                    if (self.urxvtMouse) {\n                        pos.x -= 32;\n                        pos.y -= 32;\n                        pos.x++;\n                        pos.y++;\n                        self.send('\\x1b[' + button + ';' + pos.x + ';' + pos.y + 'M');\n                        return;\n                    }\n                    if (self.sgrMouse) {\n                        pos.x -= 32;\n                        pos.y -= 32;\n                        self.send('\\x1b[<' +\n                            ((button & 3) === 3 ? button & ~3 : button) +\n                            ';' +\n                            pos.x +\n                            ';' +\n                            pos.y +\n                            ((button & 3) === 3 ? 'm' : 'M'));\n                        return;\n                    }\n                    var data = [];\n                    encode(data, button);\n                    encode(data, pos.x);\n                    encode(data, pos.y);\n                    self.send('\\x1b[M' + String.fromCharCode.apply(String, data));\n                }\n\n                function getButton(ev) {\n                    var button, shift, meta, ctrl, mod;\n                    // two low bits:\n                    // 0 = left\n                    // 1 = middle\n                    // 2 = right\n                    // 3 = release\n                    // wheel up/down:\n                    // 1, and 2 - with 64 added\n                    switch (ev.overrideType || ev.type) {\n                        case 'mousedown':\n                            button = ev.button != null ?\n                                +ev.button :\n                                ev.which != null ?\n                                    ev.which - 1 :\n                                    null;\n                            if (self.browser.isMSIE) {\n                                button = button === 1 ? 0 : button === 4 ? 1 : button;\n                            }\n                            break;\n                        case 'mouseup':\n                            button = 3;\n                            break;\n                        case 'DOMMouseScroll':\n                            button = ev.detail < 0 ?\n                                64 :\n                                65;\n                            break;\n                        case 'wheel':\n                            button = ev.wheelDeltaY > 0 ?\n                                64 :\n                                65;\n                            break;\n                    }\n                    // next three bits are the modifiers:\n                    // 4 = shift, 8 = meta, 16 = control\n                    shift = ev.shiftKey ? 4 : 0;\n                    meta = ev.metaKey ? 8 : 0;\n                    ctrl = ev.ctrlKey ? 16 : 0;\n                    mod = shift | meta | ctrl;\n                    // no mods\n                    if (self.vt200Mouse) {\n                        // ctrl only\n                        mod &= ctrl;\n                    } else if (!self.normalMouse) {\n                        mod = 0;\n                    }\n                    // increment to SP\n                    button = (32 + (mod << 2)) + button;\n                    return button;\n                }\n                // mouse coordinates measured in cols/rows\n                function getCoords(ev) {\n                    var x, y, w, h, el;\n                    // ignore browsers without pageX for now\n                    if (ev.pageX == null)\n                        return;\n                    x = ev.pageX;\n                    y = ev.pageY;\n                    el = self.element;\n                    // should probably check offsetParent\n                    // but this is more portable\n                    while (el && el !== self.document.documentElement) {\n                        x -= el.offsetLeft;\n                        y -= el.offsetTop;\n                        el = 'offsetParent' in el ?\n                            el.offsetParent :\n                            el.parentNode;\n                    }\n                    // convert to cols/rows\n                    w = self.element.clientWidth;\n                    h = self.element.clientHeight;\n                    x = Math.ceil((x / w) * self.cols);\n                    y = Math.ceil((y / h) * self.rows);\n                    // be sure to avoid sending\n                    // bad positions to the program\n                    if (x < 0)\n                        x = 0;\n                    if (x > self.cols)\n                        x = self.cols;\n                    if (y < 0)\n                        y = 0;\n                    if (y > self.rows)\n                        y = self.rows;\n                    // xterm sends raw bytes and\n                    // starts at 32 (SP) for each.\n                    x += 32;\n                    y += 32;\n                    return {\n                        x: x,\n                        y: y,\n                        type: 'wheel'\n                    };\n                }\n                on(el, 'mousedown', function(ev) {\n                    if (!self.mouseEvents)\n                        return;\n                    // send the button\n                    sendButton(ev);\n                    // ensure focus\n                    self.focus();\n                    // fix for odd bug\n                    //if (self.vt200Mouse && !self.normalMouse) {\n                    if (self.vt200Mouse) {\n                        ev.overrideType = 'mouseup';\n                        sendButton(ev);\n                        return self.cancel(ev);\n                    }\n                    // bind events\n                    if (self.normalMouse)\n                        on(self.document, 'mousemove', sendMove);\n                    // x10 compatibility mode can't send button releases\n                    if (!self.x10Mouse) {\n                        on(self.document, 'mouseup', function up(ev) {\n                            sendButton(ev);\n                            if (self.normalMouse)\n                                off(self.document, 'mousemove', sendMove);\n                            off(self.document, 'mouseup', up);\n                            return self.cancel(ev);\n                        });\n                    }\n                    return self.cancel(ev);\n                });\n                //if (self.normalMouse) {\n                //  on(self.document, 'mousemove', sendMove);\n                //}\n                on(el, 'wheel', function(ev) {\n                    if (!self.mouseEvents)\n                        return;\n                    if (self.x10Mouse ||\n                        self.vt300Mouse ||\n                        self.decLocator)\n                        return;\n                    sendButton(ev);\n                    return self.cancel(ev);\n                });\n                // allow wheel scrolling in\n                // the shell for example\n                on(el, 'wheel', function(ev) {\n                    if (self.mouseEvents)\n                        return;\n                    self.viewport.onWheel(ev);\n                    return self.cancel(ev);\n                });\n            };\n            /**\n             * Destroys the terminal.\n             */\n            Terminal.prototype.destroy = function() {\n                this.readable = false;\n                this.writable = false;\n                this._events = {};\n                this.handler = function() {};\n                this.write = function() {};\n                if (this.element.parentNode) {\n                    this.element.parentNode.removeChild(this.element);\n                }\n                //this.emit('close');\n            };\n            /**\n             * Flags used to render terminal text properly\n             */\n            Terminal.flags = {\n                BOLD: 1,\n                UNDERLINE: 2,\n                BLINK: 4,\n                INVERSE: 8,\n                INVISIBLE: 16\n            };\n            /**\n             * Refreshes (re-renders) terminal content within two rows (inclusive)\n             *\n             * Rendering Engine:\n             *\n             * In the screen buffer, each character is stored as a an array with a character\n             * and a 32-bit integer:\n             *   - First value: a utf-16 character.\n             *   - Second value:\n             *   - Next 9 bits: background color (0-511).\n             *   - Next 9 bits: foreground color (0-511).\n             *   - Next 14 bits: a mask for misc. flags:\n             *     - 1=bold\n             *     - 2=underline\n             *     - 4=blink\n             *     - 8=inverse\n             *     - 16=invisible\n             *\n             * @param {number} start The row to start from (between 0 and terminal's height terminal - 1)\n             * @param {number} end The row to end at (between fromRow and terminal's height terminal - 1)\n             * @param {boolean} queue Whether the refresh should ran right now or be queued\n             */\n            Terminal.prototype.refresh = function(start, end, queue) {\n                var self = this;\n                // queue defaults to true\n                queue = (typeof queue == 'undefined') ? true : queue;\n                /**\n                 * The refresh queue allows refresh to execute only approximately 30 times a second. For\n                 * commands that pass a significant amount of output to the write function, this prevents the\n                 * terminal from maxing out the CPU and making the UI unresponsive. While commands can still\n                 * run beyond what they do on the terminal, it is far better with a debounce in place as\n                 * every single terminal manipulation does not need to be constructed in the DOM.\n                 *\n                 * A side-effect of this is that it makes ^C to interrupt a process seem more responsive.\n                 */\n                if (queue) {\n                    // If refresh should be queued, order the refresh and return.\n                    if (this._refreshIsQueued) {\n                        // If a refresh has already been queued, just order a full refresh next\n                        this._fullRefreshNext = true;\n                    } else {\n                        setTimeout(function() {\n                            self.refresh(start, end, false);\n                        }, 34);\n                        this._refreshIsQueued = true;\n                    }\n                    return;\n                }\n                // If refresh should be run right now (not be queued), release the lock\n                this._refreshIsQueued = false;\n                // If multiple refreshes were requested, make a full refresh.\n                if (this._fullRefreshNext) {\n                    start = 0;\n                    end = this.rows - 1;\n                    this._fullRefreshNext = false; // reset lock\n                }\n                var x, y, i, line, out, ch, ch_width, width, data, attr, bg, fg, flags, row, parent, focused = document.activeElement;\n                // If this is a big refresh, remove the terminal rows from the DOM for faster calculations\n                if (end - start >= this.rows / 2) {\n                    parent = this.element.parentNode;\n                    if (parent) {\n                        this.element.removeChild(this.rowContainer);\n                    }\n                }\n                width = this.cols;\n                y = start;\n                if (end >= this.rows.length) {\n                    this.log('`end` is too large. Most likely a bad CSR.');\n                    end = this.rows.length - 1;\n                }\n                for (; y <= end; y++) {\n                    row = y + this.ydisp;\n                    line = this.lines[row];\n                    out = '';\n                    if (this.y === y - (this.ybase - this.ydisp) &&\n                        this.cursorState &&\n                        !this.cursorHidden) {\n                        x = this.x;\n                    } else {\n                        x = -1;\n                    }\n                    attr = this.defAttr;\n                    i = 0;\n                    for (; i < width; i++) {\n                        data = line[i][0];\n                        ch = line[i][1];\n                        ch_width = line[i][2];\n                        if (!ch_width)\n                            continue;\n                        if (i === x)\n                            data = -1;\n                        if (data !== attr) {\n                            if (attr !== this.defAttr) {\n                                out += '</span>';\n                            }\n                            if (data !== this.defAttr) {\n                                if (data === -1) {\n                                    out += '<span class=\"reverse-video terminal-cursor';\n                                    if (this.cursorBlink) {\n                                        out += ' blinking';\n                                    }\n                                    out += '\">';\n                                } else {\n                                    var classNames = [];\n                                    bg = data & 0x1ff;\n                                    fg = (data >> 9) & 0x1ff;\n                                    flags = data >> 18;\n                                    if (flags & Terminal.flags.BOLD) {\n                                        if (!Terminal.brokenBold) {\n                                            classNames.push('xterm-bold');\n                                        }\n                                        // See: XTerm*boldColors\n                                        if (fg < 8)\n                                            fg += 8;\n                                    }\n                                    if (flags & Terminal.flags.UNDERLINE) {\n                                        classNames.push('xterm-underline');\n                                    }\n                                    if (flags & Terminal.flags.BLINK) {\n                                        classNames.push('xterm-blink');\n                                    }\n                                    // If inverse flag is on, then swap the foreground and background variables.\n                                    if (flags & Terminal.flags.INVERSE) {\n                                        /* One-line variable swap in JavaScript: http://stackoverflow.com/a/16201730 */\n                                        bg = [fg, fg = bg][0];\n                                        // Should inverse just be before the\n                                        // above boldColors effect instead?\n                                        if ((flags & 1) && fg < 8)\n                                            fg += 8;\n                                    }\n                                    if (flags & Terminal.flags.INVISIBLE) {\n                                        classNames.push('xterm-hidden');\n                                    }\n                                    /**\n                                     * Weird situation: Invert flag used black foreground and white background results\n                                     * in invalid background color, positioned at the 256 index of the 256 terminal\n                                     * color map. Pin the colors manually in such a case.\n                                     *\n                                     * Source: https://github.com/sourcelair/xterm.js/issues/57\n                                     */\n                                    if (flags & Terminal.flags.INVERSE) {\n                                        if (bg == 257) {\n                                            bg = 15;\n                                        }\n                                        if (fg == 256) {\n                                            fg = 0;\n                                        }\n                                    }\n                                    if (bg < 256) {\n                                        classNames.push('xterm-bg-color-' + bg);\n                                    }\n                                    if (fg < 256) {\n                                        classNames.push('xterm-color-' + fg);\n                                    }\n                                    out += '<span';\n                                    if (classNames.length) {\n                                        out += ' class=\"' + classNames.join(' ') + '\"';\n                                    }\n                                    out += '>';\n                                }\n                            }\n                        }\n                        switch (ch) {\n                            case '&':\n                                out += '&amp;';\n                                break;\n                            case '<':\n                                out += '&lt;';\n                                break;\n                            case '>':\n                                out += '&gt;';\n                                break;\n                            default:\n                                if (ch <= ' ') {\n                                    out += '&nbsp;';\n                                } else {\n                                    out += ch;\n                                }\n                                break;\n                        }\n                        attr = data;\n                    }\n                    if (attr !== this.defAttr) {\n                        out += '</span>';\n                    }\n                    this.children[y].innerHTML = out;\n                }\n                if (parent) {\n                    this.element.appendChild(this.rowContainer);\n                }\n                this.emit('refresh', {\n                    element: this.element,\n                    start: start,\n                    end: end\n                });\n            };\n            /**\n             * Display the cursor element\n             */\n            Terminal.prototype.showCursor = function() {\n                if (!this.cursorState) {\n                    this.cursorState = 1;\n                    this.refresh(this.y, this.y);\n                }\n            };\n            /**\n             * Scroll the terminal\n             */\n            Terminal.prototype.scroll = function() {\n                var row;\n                if (++this.ybase === this.scrollback) {\n                    this.ybase = this.ybase / 2 | 0;\n                    this.lines = this.lines.slice(-(this.ybase + this.rows) + 1);\n                }\n                if (!this.userScrolling) {\n                    this.ydisp = this.ybase;\n                }\n                // last line\n                row = this.ybase + this.rows - 1;\n                // subtract the bottom scroll region\n                row -= this.rows - 1 - this.scrollBottom;\n                if (row === this.lines.length) {\n                    // potential optimization:\n                    // pushing is faster than splicing\n                    // when they amount to the same\n                    // behavior.\n                    this.lines.push(this.blankLine());\n                } else {\n                    // add our new line\n                    this.lines.splice(row, 0, this.blankLine());\n                }\n                if (this.scrollTop !== 0) {\n                    if (this.ybase !== 0) {\n                        this.ybase--;\n                        if (!this.userScrolling) {\n                            this.ydisp = this.ybase;\n                        }\n                    }\n                    this.lines.splice(this.ybase + this.scrollTop, 1);\n                }\n                // this.maxRange();\n                this.updateRange(this.scrollTop);\n                this.updateRange(this.scrollBottom);\n                /**\n                 * This event is emitted whenever the terminal is scrolled.\n                 * The one parameter passed is the new y display position.\n                 *\n                 * @event scroll\n                 */\n                this.emit('scroll', this.ydisp);\n            };\n            /**\n             * Scroll the display of the terminal\n             * @param {number} disp The number of lines to scroll down (negatives scroll up).\n             * @param {boolean} suppressScrollEvent Don't emit the scroll event as scrollDisp. This is used\n             * to avoid unwanted events being handled by the veiwport when the event was triggered from the\n             * viewport originally.\n             */\n            Terminal.prototype.scrollDisp = function(disp, suppressScrollEvent) {\n                if (disp < 0) {\n                    this.userScrolling = true;\n                } else if (disp + this.ydisp >= this.ybase) {\n                    this.userScrolling = false;\n                }\n                this.ydisp += disp;\n                if (this.ydisp > this.ybase) {\n                    this.ydisp = this.ybase;\n                } else if (this.ydisp < 0) {\n                    this.ydisp = 0;\n                }\n                if (!suppressScrollEvent) {\n                    this.emit('scroll', this.ydisp);\n                }\n                this.refresh(0, this.rows - 1);\n            };\n            /**\n             * Scroll the display of the terminal by a number of pages.\n             * @param {number} pageCount The number of pages to scroll (negative scrolls up).\n             */\n            Terminal.prototype.scrollPages = function(pageCount) {\n                this.scrollDisp(pageCount * (this.rows - 1));\n            };\n            /**\n             * Scrolls the display of the terminal to the top.\n             */\n            Terminal.prototype.scrollToTop = function() {\n                this.scrollDisp(-this.ydisp);\n            };\n            /**\n             * Scrolls the display of the terminal to the bottom.\n             */\n            Terminal.prototype.scrollToBottom = function() {\n                this.scrollDisp(this.ybase - this.ydisp);\n            };\n            /**\n             * Writes text to the terminal.\n             * @param {string} text The text to write to the terminal.\n             */\n            Terminal.prototype.write = function(data) {\n                var l = data.length,\n                    i = 0,\n                    j, cs, ch, code, low, ch_width, row;\n                this.refreshStart = this.y;\n                this.refreshEnd = this.y;\n                // apply leftover surrogate high from last write\n                if (this.surrogate_high) {\n                    data = this.surrogate_high + data;\n                    this.surrogate_high = '';\n                }\n                for (; i < l; i++) {\n                    ch = data[i];\n                    // FIXME: higher chars than 0xa0 are not allowed in escape sequences\n                    //        --> maybe move to default\n                    code = data.charCodeAt(i);\n                    if (0xD800 <= code && code <= 0xDBFF) {\n                        // we got a surrogate high\n                        // get surrogate low (next 2 bytes)\n                        low = data.charCodeAt(i + 1);\n                        if (isNaN(low)) {\n                            // end of data stream, save surrogate high\n                            this.surrogate_high = ch;\n                            continue;\n                        }\n                        code = ((code - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n                        ch += data.charAt(i + 1);\n                    }\n                    // surrogate low - already handled above\n                    if (0xDC00 <= code && code <= 0xDFFF)\n                        continue;\n                    switch (this.state) {\n                        case normal:\n                            switch (ch) {\n                                case '\\x07':\n                                    this.bell();\n                                    break;\n                                // '\\n', '\\v', '\\f'\n                                case '\\n':\n                                case '\\x0b':\n                                case '\\x0c':\n                                    if (this.convertEol) {\n                                        this.x = 0;\n                                    }\n                                    this.y++;\n                                    if (this.y > this.scrollBottom) {\n                                        this.y--;\n                                        this.scroll();\n                                    }\n                                    break;\n                                // '\\r'\n                                case '\\r':\n                                    this.x = 0;\n                                    break;\n                                // '\\b'\n                                case '\\x08':\n                                    if (this.x > 0) {\n                                        this.x--;\n                                    }\n                                    break;\n                                // '\\t'\n                                case '\\t':\n                                    this.x = this.nextStop();\n                                    break;\n                                // shift out\n                                case '\\x0e':\n                                    this.setgLevel(1);\n                                    break;\n                                // shift in\n                                case '\\x0f':\n                                    this.setgLevel(0);\n                                    break;\n                                // '\\e'\n                                case '\\x1b':\n                                    this.state = escaped;\n                                    break;\n                                default:\n                                    // ' '\n                                    // calculate print space\n                                    // expensive call, therefore we save width in line buffer\n                                    ch_width = wcwidth(code);\n                                    if (ch >= ' ') {\n                                        if (this.charset && this.charset[ch]) {\n                                            ch = this.charset[ch];\n                                        }\n                                        row = this.y + this.ybase;\n                                        // insert combining char in last cell\n                                        // FIXME: needs handling after cursor jumps\n                                        if (!ch_width && this.x) {\n                                            // dont overflow left\n                                            if (this.lines[row][this.x - 1]) {\n                                                if (!this.lines[row][this.x - 1][2]) {\n                                                    // found empty cell after fullwidth, need to go 2 cells back\n                                                    if (this.lines[row][this.x - 2])\n                                                        this.lines[row][this.x - 2][1] += ch;\n                                                } else {\n                                                    this.lines[row][this.x - 1][1] += ch;\n                                                }\n                                                this.updateRange(this.y);\n                                            }\n                                            break;\n                                        }\n                                        // goto next line if ch would overflow\n                                        // TODO: needs a global min terminal width of 2\n                                        if (this.x + ch_width - 1 >= this.cols) {\n                                            // autowrap - DECAWM\n                                            if (this.wraparoundMode) {\n                                                this.x = 0;\n                                                this.y++;\n                                                if (this.y > this.scrollBottom) {\n                                                    this.y--;\n                                                    this.scroll();\n                                                }\n                                            } else {\n                                                this.x = this.cols - 1;\n                                                if (ch_width === 2)\n                                                    continue;\n                                            }\n                                        }\n                                        row = this.y + this.ybase;\n                                        // insert mode: move characters to right\n                                        if (this.insertMode) {\n                                            // do this twice for a fullwidth char\n                                            for (var moves = 0; moves < ch_width; ++moves) {\n                                                // remove last cell, if it's width is 0\n                                                // we have to adjust the second last cell as well\n                                                var removed = this.lines[this.y + this.ybase].pop();\n                                                if (removed[2] === 0 &&\n                                                    this.lines[row][this.cols - 2] &&\n                                                    this.lines[row][this.cols - 2][2] === 2)\n                                                    this.lines[row][this.cols - 2] = [this.curAttr, ' ', 1];\n                                                // insert empty cell at cursor\n                                                this.lines[row].splice(this.x, 0, [this.curAttr, ' ', 1]);\n                                            }\n                                        }\n                                        this.lines[row][this.x] = [this.curAttr, ch, ch_width];\n                                        this.x++;\n                                        this.updateRange(this.y);\n                                        // fullwidth char - set next cell width to zero and advance cursor\n                                        if (ch_width === 2) {\n                                            this.lines[row][this.x] = [this.curAttr, '', 0];\n                                            this.x++;\n                                        }\n                                    }\n                                    break;\n                            }\n                            break;\n                        case escaped:\n                            switch (ch) {\n                                // ESC [ Control Sequence Introducer ( CSI is 0x9b).\n                                case '[':\n                                    this.params = [];\n                                    this.currentParam = 0;\n                                    this.state = csi;\n                                    break;\n                                // ESC ] Operating System Command ( OSC is 0x9d).\n                                case ']':\n                                    this.params = [];\n                                    this.currentParam = 0;\n                                    this.state = osc;\n                                    break;\n                                // ESC P Device Control String ( DCS is 0x90).\n                                case 'P':\n                                    this.params = [];\n                                    this.currentParam = 0;\n                                    this.state = dcs;\n                                    break;\n                                // ESC _ Application Program Command ( APC is 0x9f).\n                                case '_':\n                                    this.state = ignore;\n                                    break;\n                                // ESC ^ Privacy Message ( PM is 0x9e).\n                                case '^':\n                                    this.state = ignore;\n                                    break;\n                                // ESC c Full Reset (RIS).\n                                case 'c':\n                                    this.reset();\n                                    break;\n                                // ESC E Next Line ( NEL is 0x85).\n                                // ESC D Index ( IND is 0x84).\n                                case 'E':\n                                    this.x = 0;;\n                                case 'D':\n                                    this.index();\n                                    break;\n                                // ESC M Reverse Index ( RI is 0x8d).\n                                case 'M':\n                                    this.reverseIndex();\n                                    break;\n                                // ESC % Select default/utf-8 character set.\n                                // @ = default, G = utf-8\n                                case '%':\n                                    //this.charset = null;\n                                    this.setgLevel(0);\n                                    this.setgCharset(0, Terminal.charsets.US);\n                                    this.state = normal;\n                                    i++;\n                                    break;\n                                // ESC (,),*,+,-,. Designate G0-G2 Character Set.\n                                case '(': // <-- this seems to get all the attention\n                                case ')':\n                                case '*':\n                                case '+':\n                                case '-':\n                                case '.':\n                                    switch (ch) {\n                                        case '(':\n                                            this.gcharset = 0;\n                                            break;\n                                        case ')':\n                                            this.gcharset = 1;\n                                            break;\n                                        case '*':\n                                            this.gcharset = 2;\n                                            break;\n                                        case '+':\n                                            this.gcharset = 3;\n                                            break;\n                                        case '-':\n                                            this.gcharset = 1;\n                                            break;\n                                        case '.':\n                                            this.gcharset = 2;\n                                            break;\n                                    }\n                                    this.state = charset;\n                                    break;\n                                // Designate G3 Character Set (VT300).\n                                // A = ISO Latin-1 Supplemental.\n                                // Not implemented.\n                                case '/':\n                                    this.gcharset = 3;\n                                    this.state = charset;\n                                    i--;\n                                    break;\n                                // ESC N\n                                // Single Shift Select of G2 Character Set\n                                // ( SS2 is 0x8e). This affects next character only.\n                                case 'N':\n                                    break;\n                                // ESC O\n                                // Single Shift Select of G3 Character Set\n                                // ( SS3 is 0x8f). This affects next character only.\n                                case 'O':\n                                    break;\n                                // ESC n\n                                // Invoke the G2 Character Set as GL (LS2).\n                                case 'n':\n                                    this.setgLevel(2);\n                                    break;\n                                // ESC o\n                                // Invoke the G3 Character Set as GL (LS3).\n                                case 'o':\n                                    this.setgLevel(3);\n                                    break;\n                                // ESC |\n                                // Invoke the G3 Character Set as GR (LS3R).\n                                case '|':\n                                    this.setgLevel(3);\n                                    break;\n                                // ESC }\n                                // Invoke the G2 Character Set as GR (LS2R).\n                                case '}':\n                                    this.setgLevel(2);\n                                    break;\n                                // ESC ~\n                                // Invoke the G1 Character Set as GR (LS1R).\n                                case '~':\n                                    this.setgLevel(1);\n                                    break;\n                                // ESC 7 Save Cursor (DECSC).\n                                case '7':\n                                    this.saveCursor();\n                                    this.state = normal;\n                                    break;\n                                // ESC 8 Restore Cursor (DECRC).\n                                case '8':\n                                    this.restoreCursor();\n                                    this.state = normal;\n                                    break;\n                                // ESC # 3 DEC line height/width\n                                case '#':\n                                    this.state = normal;\n                                    i++;\n                                    break;\n                                // ESC H Tab Set (HTS is 0x88).\n                                case 'H':\n                                    this.tabSet();\n                                    break;\n                                // ESC = Application Keypad (DECKPAM).\n                                case '=':\n                                    this.log('Serial port requested application keypad.');\n                                    this.applicationKeypad = true;\n                                    this.viewport.syncScrollArea();\n                                    this.state = normal;\n                                    break;\n                                // ESC > Normal Keypad (DECKPNM).\n                                case '>':\n                                    this.log('Switching back to normal keypad.');\n                                    this.applicationKeypad = false;\n                                    this.viewport.syncScrollArea();\n                                    this.state = normal;\n                                    break;\n                                default:\n                                    this.state = normal;\n                                    this.error('Unknown ESC control: %s.', ch);\n                                    break;\n                            }\n                            break;\n                        case charset:\n                            switch (ch) {\n                                case '0':\n                                    cs = Terminal.charsets.SCLD;\n                                    break;\n                                case 'A':\n                                    cs = Terminal.charsets.UK;\n                                    break;\n                                case 'B':\n                                    cs = Terminal.charsets.US;\n                                    break;\n                                case '4':\n                                    cs = Terminal.charsets.Dutch;\n                                    break;\n                                case 'C': // Finnish\n                                case '5':\n                                    cs = Terminal.charsets.Finnish;\n                                    break;\n                                case 'R':\n                                    cs = Terminal.charsets.French;\n                                    break;\n                                case 'Q':\n                                    cs = Terminal.charsets.FrenchCanadian;\n                                    break;\n                                case 'K':\n                                    cs = Terminal.charsets.German;\n                                    break;\n                                case 'Y':\n                                    cs = Terminal.charsets.Italian;\n                                    break;\n                                case 'E': // NorwegianDanish\n                                case '6':\n                                    cs = Terminal.charsets.NorwegianDanish;\n                                    break;\n                                case 'Z':\n                                    cs = Terminal.charsets.Spanish;\n                                    break;\n                                case 'H': // Swedish\n                                case '7':\n                                    cs = Terminal.charsets.Swedish;\n                                    break;\n                                case '=':\n                                    cs = Terminal.charsets.Swiss;\n                                    break;\n                                case '/':\n                                    cs = Terminal.charsets.ISOLatin;\n                                    i++;\n                                    break;\n                                default:\n                                    cs = Terminal.charsets.US;\n                                    break;\n                            }\n                            this.setgCharset(this.gcharset, cs);\n                            this.gcharset = null;\n                            this.state = normal;\n                            break;\n                        case osc:\n                            // OSC Ps ; Pt ST\n                            // OSC Ps ; Pt BEL\n                            //   Set Text Parameters.\n                            if (ch === '\\x1b' || ch === '\\x07') {\n                                if (ch === '\\x1b')\n                                    i++;\n                                this.params.push(this.currentParam);\n                                switch (this.params[0]) {\n                                    case 0:\n                                    case 1:\n                                    case 2:\n                                        if (this.params[1]) {\n                                            this.title = this.params[1];\n                                            this.handleTitle(this.title);\n                                        }\n                                        break;\n                                    case 3:\n                                        // set X property\n                                        break;\n                                    case 4:\n                                    case 5:\n                                        // change dynamic colors\n                                        break;\n                                    case 10:\n                                    case 11:\n                                    case 12:\n                                    case 13:\n                                    case 14:\n                                    case 15:\n                                    case 16:\n                                    case 17:\n                                    case 18:\n                                    case 19:\n                                        // change dynamic ui colors\n                                        break;\n                                    case 46:\n                                        // change log file\n                                        break;\n                                    case 50:\n                                        // dynamic font\n                                        break;\n                                    case 51:\n                                        // emacs shell\n                                        break;\n                                    case 52:\n                                        // manipulate selection data\n                                        break;\n                                    case 104:\n                                    case 105:\n                                    case 110:\n                                    case 111:\n                                    case 112:\n                                    case 113:\n                                    case 114:\n                                    case 115:\n                                    case 116:\n                                    case 117:\n                                    case 118:\n                                        // reset colors\n                                        break;\n                                }\n                                this.params = [];\n                                this.currentParam = 0;\n                                this.state = normal;\n                            } else {\n                                if (!this.params.length) {\n                                    if (ch >= '0' && ch <= '9') {\n                                        this.currentParam =\n                                            this.currentParam * 10 + ch.charCodeAt(0) - 48;\n                                    } else if (ch === ';') {\n                                        this.params.push(this.currentParam);\n                                        this.currentParam = '';\n                                    }\n                                } else {\n                                    this.currentParam += ch;\n                                }\n                            }\n                            break;\n                        case csi:\n                            // '?', '>', '!'\n                            if (ch === '?' || ch === '>' || ch === '!') {\n                                this.prefix = ch;\n                                break;\n                            }\n                            // 0 - 9\n                            if (ch >= '0' && ch <= '9') {\n                                this.currentParam = this.currentParam * 10 + ch.charCodeAt(0) - 48;\n                                break;\n                            }\n                            // '$', '\"', ' ', '\\''\n                            if (ch === '$' || ch === '\"' || ch === ' ' || ch === '\\'') {\n                                this.postfix = ch;\n                                break;\n                            }\n                            this.params.push(this.currentParam);\n                            this.currentParam = 0;\n                            // ';'\n                            if (ch === ';')\n                                break;\n                            this.state = normal;\n                            switch (ch) {\n                                // CSI Ps A\n                                // Cursor Up Ps Times (default = 1) (CUU).\n                                case 'A':\n                                    this.cursorUp(this.params);\n                                    break;\n                                // CSI Ps B\n                                // Cursor Down Ps Times (default = 1) (CUD).\n                                case 'B':\n                                    this.cursorDown(this.params);\n                                    break;\n                                // CSI Ps C\n                                // Cursor Forward Ps Times (default = 1) (CUF).\n                                case 'C':\n                                    this.cursorForward(this.params);\n                                    break;\n                                // CSI Ps D\n                                // Cursor Backward Ps Times (default = 1) (CUB).\n                                case 'D':\n                                    this.cursorBackward(this.params);\n                                    break;\n                                // CSI Ps ; Ps H\n                                // Cursor Position [row;column] (default = [1,1]) (CUP).\n                                case 'H':\n                                    this.cursorPos(this.params);\n                                    break;\n                                // CSI Ps J  Erase in Display (ED).\n                                case 'J':\n                                    this.eraseInDisplay(this.params);\n                                    break;\n                                // CSI Ps K  Erase in Line (EL).\n                                case 'K':\n                                    this.eraseInLine(this.params);\n                                    break;\n                                // CSI Pm m  Character Attributes (SGR).\n                                case 'm':\n                                    if (!this.prefix) {\n                                        this.charAttributes(this.params);\n                                    }\n                                    break;\n                                // CSI Ps n  Device Status Report (DSR).\n                                case 'n':\n                                    if (!this.prefix) {\n                                        this.deviceStatus(this.params);\n                                    }\n                                    break;\n                                /**\n                                 * Additions\n                                 */\n                                // CSI Ps @\n                                // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n                                case '@':\n                                    this.insertChars(this.params);\n                                    break;\n                                // CSI Ps E\n                                // Cursor Next Line Ps Times (default = 1) (CNL).\n                                case 'E':\n                                    this.cursorNextLine(this.params);\n                                    break;\n                                // CSI Ps F\n                                // Cursor Preceding Line Ps Times (default = 1) (CNL).\n                                case 'F':\n                                    this.cursorPrecedingLine(this.params);\n                                    break;\n                                // CSI Ps G\n                                // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n                                case 'G':\n                                    this.cursorCharAbsolute(this.params);\n                                    break;\n                                // CSI Ps L\n                                // Insert Ps Line(s) (default = 1) (IL).\n                                case 'L':\n                                    this.insertLines(this.params);\n                                    break;\n                                // CSI Ps M\n                                // Delete Ps Line(s) (default = 1) (DL).\n                                case 'M':\n                                    this.deleteLines(this.params);\n                                    break;\n                                // CSI Ps P\n                                // Delete Ps Character(s) (default = 1) (DCH).\n                                case 'P':\n                                    this.deleteChars(this.params);\n                                    break;\n                                // CSI Ps X\n                                // Erase Ps Character(s) (default = 1) (ECH).\n                                case 'X':\n                                    this.eraseChars(this.params);\n                                    break;\n                                // CSI Pm `  Character Position Absolute\n                                //   [column] (default = [row,1]) (HPA).\n                                case '`':\n                                    this.charPosAbsolute(this.params);\n                                    break;\n                                // 141 61 a * HPR -\n                                // Horizontal Position Relative\n                                case 'a':\n                                    this.HPositionRelative(this.params);\n                                    break;\n                                // CSI P s c\n                                // Send Device Attributes (Primary DA).\n                                // CSI > P s c\n                                // Send Device Attributes (Secondary DA)\n                                case 'c':\n                                    this.sendDeviceAttributes(this.params);\n                                    break;\n                                // CSI Pm d\n                                // Line Position Absolute  [row] (default = [1,column]) (VPA).\n                                case 'd':\n                                    this.linePosAbsolute(this.params);\n                                    break;\n                                // 145 65 e * VPR - Vertical Position Relative\n                                case 'e':\n                                    this.VPositionRelative(this.params);\n                                    break;\n                                // CSI Ps ; Ps f\n                                //   Horizontal and Vertical Position [row;column] (default =\n                                //   [1,1]) (HVP).\n                                case 'f':\n                                    this.HVPosition(this.params);\n                                    break;\n                                // CSI Pm h  Set Mode (SM).\n                                // CSI ? Pm h - mouse escape codes, cursor escape codes\n                                case 'h':\n                                    this.setMode(this.params);\n                                    break;\n                                // CSI Pm l  Reset Mode (RM).\n                                // CSI ? Pm l\n                                case 'l':\n                                    this.resetMode(this.params);\n                                    break;\n                                // CSI Ps ; Ps r\n                                //   Set Scrolling Region [top;bottom] (default = full size of win-\n                                //   dow) (DECSTBM).\n                                // CSI ? Pm r\n                                case 'r':\n                                    this.setScrollRegion(this.params);\n                                    break;\n                                // CSI s\n                                //   Save cursor (ANSI.SYS).\n                                case 's':\n                                    this.saveCursor(this.params);\n                                    break;\n                                // CSI u\n                                //   Restore cursor (ANSI.SYS).\n                                case 'u':\n                                    this.restoreCursor(this.params);\n                                    break;\n                                /**\n                                 * Lesser Used\n                                 */\n                                // CSI Ps I\n                                // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n                                case 'I':\n                                    this.cursorForwardTab(this.params);\n                                    break;\n                                // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n                                case 'S':\n                                    this.scrollUp(this.params);\n                                    break;\n                                // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n                                // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n                                // CSI > Ps; Ps T\n                                case 'T':\n                                    // if (this.prefix === '>') {\n                                    //   this.resetTitleModes(this.params);\n                                    //   break;\n                                    // }\n                                    // if (this.params.length > 2) {\n                                    //   this.initMouseTracking(this.params);\n                                    //   break;\n                                    // }\n                                    if (this.params.length < 2 && !this.prefix) {\n                                        this.scrollDown(this.params);\n                                    }\n                                    break;\n                                // CSI Ps Z\n                                // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n                                case 'Z':\n                                    this.cursorBackwardTab(this.params);\n                                    break;\n                                // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n                                case 'b':\n                                    this.repeatPrecedingCharacter(this.params);\n                                    break;\n                                // CSI Ps g  Tab Clear (TBC).\n                                case 'g':\n                                    this.tabClear(this.params);\n                                    break;\n                                // CSI Pm i  Media Copy (MC).\n                                // CSI ? Pm i\n                                // case 'i':\n                                //   this.mediaCopy(this.params);\n                                //   break;\n                                // CSI Pm m  Character Attributes (SGR).\n                                // CSI > Ps; Ps m\n                                // case 'm': // duplicate\n                                //   if (this.prefix === '>') {\n                                //     this.setResources(this.params);\n                                //   } else {\n                                //     this.charAttributes(this.params);\n                                //   }\n                                //   break;\n                                // CSI Ps n  Device Status Report (DSR).\n                                // CSI > Ps n\n                                // case 'n': // duplicate\n                                //   if (this.prefix === '>') {\n                                //     this.disableModifiers(this.params);\n                                //   } else {\n                                //     this.deviceStatus(this.params);\n                                //   }\n                                //   break;\n                                // CSI > Ps p  Set pointer mode.\n                                // CSI ! p   Soft terminal reset (DECSTR).\n                                // CSI Ps$ p\n                                //   Request ANSI mode (DECRQM).\n                                // CSI ? Ps$ p\n                                //   Request DEC private mode (DECRQM).\n                                // CSI Ps ; Ps \" p\n                                case 'p':\n                                    switch (this.prefix) {\n                                        // case '>':\n                                        //   this.setPointerMode(this.params);\n                                        //   break;\n                                        case '!':\n                                            this.softReset(this.params);\n                                            break;\n                                    }\n                                    break;\n                                // CSI Ps q  Load LEDs (DECLL).\n                                // CSI Ps SP q\n                                // CSI Ps \" q\n                                // case 'q':\n                                //   if (this.postfix === ' ') {\n                                //     this.setCursorStyle(this.params);\n                                //     break;\n                                //   }\n                                //   if (this.postfix === '\"') {\n                                //     this.setCharProtectionAttr(this.params);\n                                //     break;\n                                //   }\n                                //   this.loadLEDs(this.params);\n                                //   break;\n                                // CSI Ps ; Ps r\n                                //   Set Scrolling Region [top;bottom] (default = full size of win-\n                                //   dow) (DECSTBM).\n                                // CSI ? Pm r\n                                // CSI Pt; Pl; Pb; Pr; Ps$ r\n                                // case 'r': // duplicate\n                                //   if (this.prefix === '?') {\n                                //     this.restorePrivateValues(this.params);\n                                //   } else if (this.postfix === '$') {\n                                //     this.setAttrInRectangle(this.params);\n                                //   } else {\n                                //     this.setScrollRegion(this.params);\n                                //   }\n                                //   break;\n                                // CSI s     Save cursor (ANSI.SYS).\n                                // CSI ? Pm s\n                                // case 's': // duplicate\n                                //   if (this.prefix === '?') {\n                                //     this.savePrivateValues(this.params);\n                                //   } else {\n                                //     this.saveCursor(this.params);\n                                //   }\n                                //   break;\n                                // CSI Ps ; Ps ; Ps t\n                                // CSI Pt; Pl; Pb; Pr; Ps$ t\n                                // CSI > Ps; Ps t\n                                // CSI Ps SP t\n                                // case 't':\n                                //   if (this.postfix === '$') {\n                                //     this.reverseAttrInRectangle(this.params);\n                                //   } else if (this.postfix === ' ') {\n                                //     this.setWarningBellVolume(this.params);\n                                //   } else {\n                                //     if (this.prefix === '>') {\n                                //       this.setTitleModeFeature(this.params);\n                                //     } else {\n                                //       this.manipulateWindow(this.params);\n                                //     }\n                                //   }\n                                //   break;\n                                // CSI u     Restore cursor (ANSI.SYS).\n                                // CSI Ps SP u\n                                // case 'u': // duplicate\n                                //   if (this.postfix === ' ') {\n                                //     this.setMarginBellVolume(this.params);\n                                //   } else {\n                                //     this.restoreCursor(this.params);\n                                //   }\n                                //   break;\n                                // CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n                                // case 'v':\n                                //   if (this.postfix === '$') {\n                                //     this.copyRectagle(this.params);\n                                //   }\n                                //   break;\n                                // CSI Pt ; Pl ; Pb ; Pr ' w\n                                // case 'w':\n                                //   if (this.postfix === '\\'') {\n                                //     this.enableFilterRectangle(this.params);\n                                //   }\n                                //   break;\n                                // CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n                                // CSI Ps x  Select Attribute Change Extent (DECSACE).\n                                // CSI Pc; Pt; Pl; Pb; Pr$ x\n                                // case 'x':\n                                //   if (this.postfix === '$') {\n                                //     this.fillRectangle(this.params);\n                                //   } else {\n                                //     this.requestParameters(this.params);\n                                //     //this.__(this.params);\n                                //   }\n                                //   break;\n                                // CSI Ps ; Pu ' z\n                                // CSI Pt; Pl; Pb; Pr$ z\n                                // case 'z':\n                                //   if (this.postfix === '\\'') {\n                                //     this.enableLocatorReporting(this.params);\n                                //   } else if (this.postfix === '$') {\n                                //     this.eraseRectangle(this.params);\n                                //   }\n                                //   break;\n                                // CSI Pm ' {\n                                // CSI Pt; Pl; Pb; Pr$ {\n                                // case '{':\n                                //   if (this.postfix === '\\'') {\n                                //     this.setLocatorEvents(this.params);\n                                //   } else if (this.postfix === '$') {\n                                //     this.selectiveEraseRectangle(this.params);\n                                //   }\n                                //   break;\n                                // CSI Ps ' |\n                                // case '|':\n                                //   if (this.postfix === '\\'') {\n                                //     this.requestLocatorPosition(this.params);\n                                //   }\n                                //   break;\n                                // CSI P m SP }\n                                // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n                                // case '}':\n                                //   if (this.postfix === ' ') {\n                                //     this.insertColumns(this.params);\n                                //   }\n                                //   break;\n                                // CSI P m SP ~\n                                // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n                                // case '~':\n                                //   if (this.postfix === ' ') {\n                                //     this.deleteColumns(this.params);\n                                //   }\n                                //   break;\n                                default:\n                                    this.error('Unknown CSI code: %s.', ch);\n                                    break;\n                            }\n                            this.prefix = '';\n                            this.postfix = '';\n                            break;\n                        case dcs:\n                            if (ch === '\\x1b' || ch === '\\x07') {\n                                if (ch === '\\x1b')\n                                    i++;\n                                switch (this.prefix) {\n                                    // User-Defined Keys (DECUDK).\n                                    case '':\n                                        break;\n                                    // Request Status String (DECRQSS).\n                                    // test: echo -e '\\eP$q\"p\\e\\\\'\n                                    case '$q':\n                                        var pt = this.currentParam,\n                                            valid = false;\n                                        switch (pt) {\n                                            // DECSCA\n                                            case '\"q':\n                                                pt = '0\"q';\n                                                break;\n                                            // DECSCL\n                                            case '\"p':\n                                                pt = '61\"p';\n                                                break;\n                                            // DECSTBM\n                                            case 'r':\n                                                pt = '' +\n                                                    (this.scrollTop + 1) +\n                                                    ';' +\n                                                    (this.scrollBottom + 1) +\n                                                    'r';\n                                                break;\n                                            // SGR\n                                            case 'm':\n                                                pt = '0m';\n                                                break;\n                                            default:\n                                                this.error('Unknown DCS Pt: %s.', pt);\n                                                pt = '';\n                                                break;\n                                        }\n                                        this.send('\\x1bP' + +valid + '$r' + pt + '\\x1b\\\\');\n                                        break;\n                                    // Set Termcap/Terminfo Data (xterm, experimental).\n                                    case '+p':\n                                        break;\n                                    // Request Termcap/Terminfo String (xterm, experimental)\n                                    // Regular xterm does not even respond to this sequence.\n                                    // This can cause a small glitch in vim.\n                                    // test: echo -ne '\\eP+q6b64\\e\\\\'\n                                    case '+q':\n                                        var pt = this.currentParam,\n                                            valid = false;\n                                        this.send('\\x1bP' + +valid + '+r' + pt + '\\x1b\\\\');\n                                        break;\n                                    default:\n                                        this.error('Unknown DCS prefix: %s.', this.prefix);\n                                        break;\n                                }\n                                this.currentParam = 0;\n                                this.prefix = '';\n                                this.state = normal;\n                            } else if (!this.currentParam) {\n                                if (!this.prefix && ch !== '$' && ch !== '+') {\n                                    this.currentParam = ch;\n                                } else if (this.prefix.length === 2) {\n                                    this.currentParam = ch;\n                                } else {\n                                    this.prefix += ch;\n                                }\n                            } else {\n                                this.currentParam += ch;\n                            }\n                            break;\n                        case ignore:\n                            // For PM and APC.\n                            if (ch === '\\x1b' || ch === '\\x07') {\n                                if (ch === '\\x1b')\n                                    i++;\n                                this.state = normal;\n                            }\n                            break;\n                    }\n                }\n                this.updateRange(this.y);\n                this.refresh(this.refreshStart, this.refreshEnd);\n            };\n            /**\n             * Writes text to the terminal, followed by a break line character (\\n).\n             * @param {string} text The text to write to the terminal.\n             */\n            Terminal.prototype.writeln = function(data) {\n                this.write(data + '\\r\\n');\n            };\n            /**\n             * Attaches a custom keydown handler which is run before keys are processed, giving consumers of\n             * xterm.js ultimate control as to what keys should be processed by the terminal and what keys\n             * should not.\n             * @param {function} customKeydownHandler The custom KeyboardEvent handler to attach. This is a\n             *   function that takes a KeyboardEvent, allowing consumers to stop propogation and/or prevent\n             *   the default action. The function returns whether the event should be processed by xterm.js.\n             */\n            Terminal.prototype.attachCustomKeydownHandler = function(customKeydownHandler) {\n                this.customKeydownHandler = customKeydownHandler;\n            };\n            /**\n             * Handle a keydown event\n             * Key Resources:\n             *   - https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent\n             * @param {KeyboardEvent} ev The keydown event to be handled.\n             */\n            Terminal.prototype.keyDown = function(ev) {\n                if (this.customKeydownHandler && this.customKeydownHandler(ev) === false) {\n                    return false;\n                }\n                if (!this.compositionHelper.keydown.bind(this.compositionHelper)(ev)) {\n                    if (this.ybase !== this.ydisp) {\n                        this.scrollToBottom();\n                    }\n                    return false;\n                }\n                var self = this;\n                var result = this.evaluateKeyEscapeSequence(ev);\n                if (result.scrollDisp) {\n                    this.scrollDisp(result.scrollDisp);\n                    return this.cancel(ev, true);\n                }\n                if (isThirdLevelShift(this, ev)) {\n                    return true;\n                }\n                if (result.cancel) {\n                    // The event is canceled at the end already, is this necessary?\n                    this.cancel(ev, true);\n                }\n                if (!result.key) {\n                    return true;\n                }\n                this.emit('keydown', ev);\n                this.emit('key', result.key, ev);\n                this.showCursor();\n                this.handler(result.key);\n                return this.cancel(ev, true);\n            };\n            /**\n             * Returns an object that determines how a KeyboardEvent should be handled. The key of the\n             * returned value is the new key code to pass to the PTY.\n             *\n             * Reference: http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n             * @param {KeyboardEvent} ev The keyboard event to be translated to key escape sequence.\n             */\n            Terminal.prototype.evaluateKeyEscapeSequence = function(ev) {\n                var result = {\n                    // Whether to cancel event propogation (NOTE: this may not be needed since the event is\n                    // canceled at the end of keyDown\n                    cancel: false,\n                    // The new key even to emit\n                    key: undefined,\n                    // The number of characters to scroll, if this is defined it will cancel the event\n                    scrollDisp: undefined\n                };\n                var modifiers = ev.shiftKey << 0 | ev.altKey << 1 | ev.ctrlKey << 2 | ev.metaKey << 3;\n                switch (ev.keyCode) {\n                    case 8:\n                        // backspace\n                        if (ev.shiftKey) {\n                            result.key = '\\x08'; // ^H\n                            break;\n                        }\n                        result.key = '\\x7f'; // ^?\n                        break;\n                    case 9:\n                        // tab\n                        if (ev.shiftKey) {\n                            result.key = '\\x1b[Z';\n                            break;\n                        }\n                        result.key = '\\t';\n                        result.cancel = true;\n                        break;\n                    case 13:\n                        // return/enter\n                        result.key = '\\r';\n                        result.cancel = true;\n                        break;\n                    case 27:\n                        // escape\n                        result.key = '\\x1b';\n                        result.cancel = true;\n                        break;\n                    case 37:\n                        // left-arrow\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'D';\n                            // HACK: Make Alt + left-arrow behave like Ctrl + left-arrow: move one word backwards\n                            // http://unix.stackexchange.com/a/108106\n                            if (result.key == '\\x1b[1;3D') {\n                                result.key = '\\x1b[1;5D';\n                            }\n                        } else if (this.applicationCursor) {\n                            result.key = '\\x1bOD';\n                        } else {\n                            result.key = '\\x1b[D';\n                        }\n                        break;\n                    case 39:\n                        // right-arrow\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'C';\n                            // HACK: Make Alt + right-arrow behave like Ctrl + right-arrow: move one word forward\n                            // http://unix.stackexchange.com/a/108106\n                            if (result.key == '\\x1b[1;3C') {\n                                result.key = '\\x1b[1;5C';\n                            }\n                        } else if (this.applicationCursor) {\n                            result.key = '\\x1bOC';\n                        } else {\n                            result.key = '\\x1b[C';\n                        }\n                        break;\n                    case 38:\n                        // up-arrow\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'A';\n                            // HACK: Make Alt + up-arrow behave like Ctrl + up-arrow\n                            // http://unix.stackexchange.com/a/108106\n                            if (result.key == '\\x1b[1;3A') {\n                                result.key = '\\x1b[1;5A';\n                            }\n                        } else if (this.applicationCursor) {\n                            result.key = '\\x1bOA';\n                        } else {\n                            result.key = '\\x1b[A';\n                        }\n                        break;\n                    case 40:\n                        // down-arrow\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'B';\n                            // HACK: Make Alt + down-arrow behave like Ctrl + down-arrow\n                            // http://unix.stackexchange.com/a/108106\n                            if (result.key == '\\x1b[1;3B') {\n                                result.key = '\\x1b[1;5B';\n                            }\n                        } else if (this.applicationCursor) {\n                            result.key = '\\x1bOB';\n                        } else {\n                            result.key = '\\x1b[B';\n                        }\n                        break;\n                    case 45:\n                        // insert\n                        if (!ev.shiftKey && !ev.ctrlKey) {\n                            // <Ctrl> or <Shift> + <Insert> are used to\n                            // copy-paste on some systems.\n                            result.key = '\\x1b[2~';\n                        }\n                        break;\n                    case 46:\n                        // delete\n                        if (modifiers) {\n                            result.key = '\\x1b[3;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[3~';\n                        }\n                        break;\n                    case 36:\n                        // home\n                        if (modifiers)\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'H';\n                        else if (this.applicationCursor)\n                            result.key = '\\x1bOH';\n                        else\n                            result.key = '\\x1b[H';\n                        break;\n                    case 35:\n                        // end\n                        if (modifiers)\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'F';\n                        else if (this.applicationCursor)\n                            result.key = '\\x1bOF';\n                        else\n                            result.key = '\\x1b[F';\n                        break;\n                    case 33:\n                        // page up\n                        if (ev.shiftKey) {\n                            result.scrollDisp = -(this.rows - 1);\n                        } else {\n                            result.key = '\\x1b[5~';\n                        }\n                        break;\n                    case 34:\n                        // page down\n                        if (ev.shiftKey) {\n                            result.scrollDisp = this.rows - 1;\n                        } else {\n                            result.key = '\\x1b[6~';\n                        }\n                        break;\n                    case 112:\n                        // F1-F12\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'P';\n                        } else {\n                            result.key = '\\x1bOP';\n                        }\n                        break;\n                    case 113:\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'Q';\n                        } else {\n                            result.key = '\\x1bOQ';\n                        }\n                        break;\n                    case 114:\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'R';\n                        } else {\n                            result.key = '\\x1bOR';\n                        }\n                        break;\n                    case 115:\n                        if (modifiers) {\n                            result.key = '\\x1b[1;' + (modifiers + 1) + 'S';\n                        } else {\n                            result.key = '\\x1bOS';\n                        }\n                        break;\n                    case 116:\n                        if (modifiers) {\n                            result.key = '\\x1b[15;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[15~';\n                        }\n                        break;\n                    case 117:\n                        if (modifiers) {\n                            result.key = '\\x1b[17;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[17~';\n                        }\n                        break;\n                    case 118:\n                        if (modifiers) {\n                            result.key = '\\x1b[18;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[18~';\n                        }\n                        break;\n                    case 119:\n                        if (modifiers) {\n                            result.key = '\\x1b[19;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[19~';\n                        }\n                        break;\n                    case 120:\n                        if (modifiers) {\n                            result.key = '\\x1b[20;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[20~';\n                        }\n                        break;\n                    case 121:\n                        if (modifiers) {\n                            result.key = '\\x1b[21;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[21~';\n                        }\n                        break;\n                    case 122:\n                        if (modifiers) {\n                            result.key = '\\x1b[23;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[23~';\n                        }\n                        break;\n                    case 123:\n                        if (modifiers) {\n                            result.key = '\\x1b[24;' + (modifiers + 1) + '~';\n                        } else {\n                            result.key = '\\x1b[24~';\n                        }\n                        break;\n                    default:\n                        // a-z and space\n                        if (ev.ctrlKey && !ev.shiftKey && !ev.altKey && !ev.metaKey) {\n                            if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                                result.key = String.fromCharCode(ev.keyCode - 64);\n                            } else if (ev.keyCode === 32) {\n                                // NUL\n                                result.key = String.fromCharCode(0);\n                            } else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n                                // escape, file sep, group sep, record sep, unit sep\n                                result.key = String.fromCharCode(ev.keyCode - 51 + 27);\n                            } else if (ev.keyCode === 56) {\n                                // delete\n                                result.key = String.fromCharCode(127);\n                            } else if (ev.keyCode === 219) {\n                                // ^[ - Control Sequence Introducer (CSI)\n                                result.key = String.fromCharCode(27);\n                            } else if (ev.keyCode === 220) {\n                                // ^\\ - String Terminator (ST)\n                                result.key = String.fromCharCode(28);\n                            } else if (ev.keyCode === 221) {\n                                // ^] - Operating System Command (OSC)\n                                result.key = String.fromCharCode(29);\n                            }\n                        } else if (!this.browser.isMac && ev.altKey && !ev.ctrlKey && !ev.metaKey) {\n                            // On Mac this is a third level shift. Use <Esc> instead.\n                            if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n                                result.key = '\\x1b' + String.fromCharCode(ev.keyCode + 32);\n                            } else if (ev.keyCode === 192) {\n                                result.key = '\\x1b`';\n                            } else if (ev.keyCode >= 48 && ev.keyCode <= 57) {\n                                result.key = '\\x1b' + (ev.keyCode - 48);\n                            }\n                        }\n                        break;\n                }\n                return result;\n            };\n            /**\n             * Set the G level of the terminal\n             * @param g\n             */\n            Terminal.prototype.setgLevel = function(g) {\n                this.glevel = g;\n                this.charset = this.charsets[g];\n            };\n            /**\n             * Set the charset for the given G level of the terminal\n             * @param g\n             * @param charset\n             */\n            Terminal.prototype.setgCharset = function(g, charset) {\n                this.charsets[g] = charset;\n                if (this.glevel === g) {\n                    this.charset = charset;\n                }\n            };\n            /**\n             * Handle a keypress event.\n             * Key Resources:\n             *   - https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent\n             * @param {KeyboardEvent} ev The keypress event to be handled.\n             */\n            Terminal.prototype.keyPress = function(ev) {\n                var key;\n                this.cancel(ev);\n                if (ev.charCode) {\n                    key = ev.charCode;\n                } else if (ev.which == null) {\n                    key = ev.keyCode;\n                } else if (ev.which !== 0 && ev.charCode !== 0) {\n                    key = ev.which;\n                } else {\n                    return false;\n                }\n                if (!key || ((ev.altKey || ev.ctrlKey || ev.metaKey) && !isThirdLevelShift(this, ev))) {\n                    return false;\n                }\n                key = String.fromCharCode(key);\n                this.emit('keypress', key, ev);\n                this.emit('key', key, ev);\n                this.showCursor();\n                this.handler(key);\n                return false;\n            };\n            /**\n             * Send data for handling to the terminal\n             * @param {string} data\n             */\n            Terminal.prototype.send = function(data) {\n                var self = this;\n                if (!this.queue) {\n                    setTimeout(function() {\n                        self.handler(self.queue);\n                        self.queue = '';\n                    }, 1);\n                }\n                this.queue += data;\n            };\n            /**\n             * Ring the bell.\n             * Note: We could do sweet things with webaudio here\n             */\n            Terminal.prototype.bell = function() {\n                if (!this.visualBell)\n                    return;\n                var self = this;\n                this.element.style.borderColor = 'white';\n                setTimeout(function() {\n                    self.element.style.borderColor = '';\n                }, 10);\n                if (this.popOnBell)\n                    this.focus();\n            };\n            /**\n             * Log the current state to the console.\n             */\n            Terminal.prototype.log = function() {\n                if (!this.debug)\n                    return;\n                if (!this.context.console || !this.context.console.log)\n                    return;\n                var args = Array.prototype.slice.call(arguments);\n                this.context.console.log.apply(this.context.console, args);\n            };\n            /**\n             * Log the current state as error to the console.\n             */\n            Terminal.prototype.error = function() {\n                if (!this.debug)\n                    return;\n                if (!this.context.console || !this.context.console.error)\n                    return;\n                var args = Array.prototype.slice.call(arguments);\n                this.context.console.error.apply(this.context.console, args);\n            };\n            /**\n             * Resizes the terminal.\n             *\n             * @param {number} x The number of columns to resize to.\n             * @param {number} y The number of rows to resize to.\n             */\n            Terminal.prototype.resize = function(x, y) {\n                var line, el, i, j, ch, addToY;\n                if (x === this.cols && y === this.rows) {\n                    return;\n                }\n                if (x < 1)\n                    x = 1;\n                if (y < 1)\n                    y = 1;\n                // resize cols\n                j = this.cols;\n                if (j < x) {\n                    ch = [this.defAttr, ' ', 1]; // does xterm use the default attr?\n                    i = this.lines.length;\n                    while (i--) {\n                        while (this.lines[i].length < x) {\n                            this.lines[i].push(ch);\n                        }\n                    }\n                } else {\n                    i = this.lines.length;\n                    while (i--) {\n                        while (this.lines[i].length > x) {\n                            this.lines[i].pop();\n                        }\n                    }\n                }\n                this.setupStops(j);\n                this.cols = x;\n                // resize rows\n                j = this.rows;\n                addToY = 0;\n                if (j < y) {\n                    el = this.element;\n                    while (j++ < y) {\n                        // y is rows, not this.y\n                        if (this.lines.length < y + this.ybase) {\n                            if (this.ybase > 0 && this.lines.length <= this.ybase + this.y + addToY + 1) {\n                                // There is room above the buffer and there are no empty elements below the line,\n                                // scroll up\n                                this.ybase--;\n                                addToY++;\n                                if (this.ydisp > 0) {\n                                    // Viewport is at the top of the buffer, must increase downwards\n                                    this.ydisp--;\n                                }\n                            } else {\n                                // Add a blank line if there is no buffer left at the top to scroll to, or if there\n                                // are blank lines after the cursor\n                                this.lines.push(this.blankLine());\n                            }\n                        }\n                        if (this.children.length < y) {\n                            this.insertRow();\n                        }\n                    }\n                } else {\n                    while (j-- > y) {\n                        if (this.lines.length > y + this.ybase) {\n                            if (this.lines.length > this.ybase + this.y + 1) {\n                                // The line is a blank line below the cursor, remove it\n                                this.lines.pop();\n                            } else {\n                                // The line is the cursor, scroll down\n                                this.ybase++;\n                                this.ydisp++;\n                            }\n                        }\n                        if (this.children.length > y) {\n                            el = this.children.shift();\n                            if (!el)\n                                continue;\n                            el.parentNode.removeChild(el);\n                        }\n                    }\n                }\n                this.rows = y;\n                // Make sure that the cursor stays on screen\n                if (this.y >= y) {\n                    this.y = y - 1;\n                }\n                if (addToY) {\n                    this.y += addToY;\n                }\n                if (this.x >= x) {\n                    this.x = x - 1;\n                }\n                this.scrollTop = 0;\n                this.scrollBottom = y - 1;\n                this.refresh(0, this.rows - 1);\n                this.normal = null;\n                this.geometry = [this.cols, this.rows];\n                this.emit('resize', {\n                    terminal: this,\n                    cols: x,\n                    rows: y\n                });\n            };\n            /**\n             * Updates the range of rows to refresh\n             * @param {number} y The number of rows to refresh next.\n             */\n            Terminal.prototype.updateRange = function(y) {\n                if (y < this.refreshStart)\n                    this.refreshStart = y;\n                if (y > this.refreshEnd)\n                    this.refreshEnd = y;\n                // if (y > this.refreshEnd) {\n                //   this.refreshEnd = y;\n                //   if (y > this.rows - 1) {\n                //     this.refreshEnd = this.rows - 1;\n                //   }\n                // }\n            };\n            /**\n             * Set the range of refreshing to the maximum value\n             */\n            Terminal.prototype.maxRange = function() {\n                this.refreshStart = 0;\n                this.refreshEnd = this.rows - 1;\n            };\n            /**\n             * Setup the tab stops.\n             * @param {number} i\n             */\n            Terminal.prototype.setupStops = function(i) {\n                if (i != null) {\n                    if (!this.tabs[i]) {\n                        i = this.prevStop(i);\n                    }\n                } else {\n                    this.tabs = {};\n                    i = 0;\n                }\n                for (; i < this.cols; i += 8) {\n                    this.tabs[i] = true;\n                }\n            };\n            /**\n             * Move the cursor to the previous tab stop from the given position (default is current).\n             * @param {number} x The position to move the cursor to the previous tab stop.\n             */\n            Terminal.prototype.prevStop = function(x) {\n                if (x == null)\n                    x = this.x;\n                while (!this.tabs[--x] && x > 0)\n                    ;\n                return x >= this.cols ?\n                    this.cols - 1 :\n                    x < 0 ? 0 : x;\n            };\n            /**\n             * Move the cursor one tab stop forward from the given position (default is current).\n             * @param {number} x The position to move the cursor one tab stop forward.\n             */\n            Terminal.prototype.nextStop = function(x) {\n                if (x == null)\n                    x = this.x;\n                while (!this.tabs[++x] && x < this.cols)\n                    ;\n                return x >= this.cols ?\n                    this.cols - 1 :\n                    x < 0 ? 0 : x;\n            };\n            /**\n             * Erase in the identified line everything from \"x\" to the end of the line (right).\n             * @param {number} x The column from which to start erasing to the end of the line.\n             * @param {number} y The line in which to operate.\n             */\n            Terminal.prototype.eraseRight = function(x, y) {\n                var line = this.lines[this.ybase + y],\n                    ch = [this.eraseAttr(), ' ', 1]; // xterm\n                for (; x < this.cols; x++) {\n                    line[x] = ch;\n                }\n                this.updateRange(y);\n            };\n            /**\n             * Erase in the identified line everything from \"x\" to the start of the line (left).\n             * @param {number} x The column from which to start erasing to the start of the line.\n             * @param {number} y The line in which to operate.\n             */\n            Terminal.prototype.eraseLeft = function(x, y) {\n                var line = this.lines[this.ybase + y],\n                    ch = [this.eraseAttr(), ' ', 1]; // xterm\n                x++;\n                while (x--)\n                    line[x] = ch;\n                this.updateRange(y);\n            };\n            /**\n             * Clears the entire buffer, making the prompt line the new first line.\n             */\n            Terminal.prototype.clear = function() {\n                if (this.ybase === 0 && this.y === 0) {\n                    // Don't clear if it's already clear\n                    return;\n                }\n                this.lines = [this.lines[this.ybase + this.y]];\n                this.ydisp = 0;\n                this.ybase = 0;\n                this.y = 0;\n                for (var i = 1; i < this.rows; i++) {\n                    this.lines.push(this.blankLine());\n                }\n                this.refresh(0, this.rows - 1);\n                this.emit('scroll', this.ydisp);\n            };\n            /**\n             * Erase all content in the given line\n             * @param {number} y The line to erase all of its contents.\n             */\n            Terminal.prototype.eraseLine = function(y) {\n                this.eraseRight(0, y);\n            };\n            /**\n             * Return the data array of a blank line/\n             * @param {number} cur First bunch of data for each \"blank\" character.\n             */\n            Terminal.prototype.blankLine = function(cur) {\n                var attr = cur ?\n                    this.eraseAttr() :\n                    this.defAttr;\n                var ch = [attr, ' ', 1] // width defaults to 1 halfwidth character\n                    ,\n                    line = [],\n                    i = 0;\n                for (; i < this.cols; i++) {\n                    line[i] = ch;\n                }\n                return line;\n            };\n            /**\n             * If cur return the back color xterm feature attribute. Else return defAttr.\n             * @param {object} cur\n             */\n            Terminal.prototype.ch = function(cur) {\n                return cur ?\n                    [this.eraseAttr(), ' ', 1] :\n                    [this.defAttr, ' ', 1];\n            };\n            /**\n             * Evaluate if the current erminal is the given argument.\n             * @param {object} term The terminal to evaluate\n             */\n            Terminal.prototype.is = function(term) {\n                var name = this.termName;\n                return (name + '').indexOf(term) === 0;\n            };\n            /**\n             * Emit the 'data' event and populate the given data.\n             * @param {string} data The data to populate in the event.\n             */\n            Terminal.prototype.handler = function(data) {\n                // Input is being sent to the terminal, the terminal should focus the prompt.\n                if (this.ybase !== this.ydisp) {\n                    this.scrollToBottom();\n                }\n                this.emit('data', data);\n            };\n            /**\n             * Emit the 'title' event and populate the given title.\n             * @param {string} title The title to populate in the event.\n             */\n            Terminal.prototype.handleTitle = function(title) {\n                /**\n                 * This event is emitted when the title of the terminal is changed\n                 * from inside the terminal. The parameter is the new title.\n                 *\n                 * @event title\n                 */\n                this.emit('title', title);\n            };\n            /**\n             * ESC\n             */\n            /**\n             * ESC D Index (IND is 0x84).\n             */\n            Terminal.prototype.index = function() {\n                this.y++;\n                if (this.y > this.scrollBottom) {\n                    this.y--;\n                    this.scroll();\n                }\n                this.state = normal;\n            };\n            /**\n             * ESC M Reverse Index (RI is 0x8d).\n             */\n            Terminal.prototype.reverseIndex = function() {\n                var j;\n                this.y--;\n                if (this.y < this.scrollTop) {\n                    this.y++;\n                    // possibly move the code below to term.reverseScroll();\n                    // test: echo -ne '\\e[1;1H\\e[44m\\eM\\e[0m'\n                    // blankLine(true) is xterm/linux behavior\n                    this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));\n                    j = this.rows - 1 - this.scrollBottom;\n                    this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);\n                    // this.maxRange();\n                    this.updateRange(this.scrollTop);\n                    this.updateRange(this.scrollBottom);\n                }\n                this.state = normal;\n            };\n            /**\n             * ESC c Full Reset (RIS).\n             */\n            Terminal.prototype.reset = function() {\n                this.options.rows = this.rows;\n                this.options.cols = this.cols;\n                var customKeydownHandler = this.customKeydownHandler;\n                Terminal.call(this, this.options);\n                this.customKeydownHandler = customKeydownHandler;\n                this.refresh(0, this.rows - 1);\n                this.viewport.syncScrollArea();\n            };\n            /**\n             * ESC H Tab Set (HTS is 0x88).\n             */\n            Terminal.prototype.tabSet = function() {\n                this.tabs[this.x] = true;\n                this.state = normal;\n            };\n            /**\n             * CSI\n             */\n            /**\n             * CSI Ps A\n             * Cursor Up Ps Times (default = 1) (CUU).\n             */\n            Terminal.prototype.cursorUp = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.y -= param;\n                if (this.y < 0)\n                    this.y = 0;\n            };\n            /**\n             * CSI Ps B\n             * Cursor Down Ps Times (default = 1) (CUD).\n             */\n            Terminal.prototype.cursorDown = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.y += param;\n                if (this.y >= this.rows) {\n                    this.y = this.rows - 1;\n                }\n            };\n            /**\n             * CSI Ps C\n             * Cursor Forward Ps Times (default = 1) (CUF).\n             */\n            Terminal.prototype.cursorForward = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.x += param;\n                if (this.x >= this.cols) {\n                    this.x = this.cols - 1;\n                }\n            };\n            /**\n             * CSI Ps D\n             * Cursor Backward Ps Times (default = 1) (CUB).\n             */\n            Terminal.prototype.cursorBackward = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.x -= param;\n                if (this.x < 0)\n                    this.x = 0;\n            };\n            /**\n             * CSI Ps ; Ps H\n             * Cursor Position [row;column] (default = [1,1]) (CUP).\n             */\n            Terminal.prototype.cursorPos = function(params) {\n                var row, col;\n                row = params[0] - 1;\n                if (params.length >= 2) {\n                    col = params[1] - 1;\n                } else {\n                    col = 0;\n                }\n                if (row < 0) {\n                    row = 0;\n                } else if (row >= this.rows) {\n                    row = this.rows - 1;\n                }\n                if (col < 0) {\n                    col = 0;\n                } else if (col >= this.cols) {\n                    col = this.cols - 1;\n                }\n                this.x = col;\n                this.y = row;\n            };\n            /**\n             * CSI Ps J  Erase in Display (ED).\n             *     Ps = 0  -> Erase Below (default).\n             *     Ps = 1  -> Erase Above.\n             *     Ps = 2  -> Erase All.\n             *     Ps = 3  -> Erase Saved Lines (xterm).\n             * CSI ? Ps J\n             *   Erase in Display (DECSED).\n             *     Ps = 0  -> Selective Erase Below (default).\n             *     Ps = 1  -> Selective Erase Above.\n             *     Ps = 2  -> Selective Erase All.\n             */\n            Terminal.prototype.eraseInDisplay = function(params) {\n                var j;\n                switch (params[0]) {\n                    case 0:\n                        this.eraseRight(this.x, this.y);\n                        j = this.y + 1;\n                        for (; j < this.rows; j++) {\n                            this.eraseLine(j);\n                        }\n                        break;\n                    case 1:\n                        this.eraseLeft(this.x, this.y);\n                        j = this.y;\n                        while (j--) {\n                            this.eraseLine(j);\n                        }\n                        break;\n                    case 2:\n                        j = this.rows;\n                        while (j--)\n                            this.eraseLine(j);\n                        break;\n                    case 3:\n                        ; // no saved lines\n                        break;\n                }\n            };\n            /**\n             * CSI Ps K  Erase in Line (EL).\n             *     Ps = 0  -> Erase to Right (default).\n             *     Ps = 1  -> Erase to Left.\n             *     Ps = 2  -> Erase All.\n             * CSI ? Ps K\n             *   Erase in Line (DECSEL).\n             *     Ps = 0  -> Selective Erase to Right (default).\n             *     Ps = 1  -> Selective Erase to Left.\n             *     Ps = 2  -> Selective Erase All.\n             */\n            Terminal.prototype.eraseInLine = function(params) {\n                switch (params[0]) {\n                    case 0:\n                        this.eraseRight(this.x, this.y);\n                        break;\n                    case 1:\n                        this.eraseLeft(this.x, this.y);\n                        break;\n                    case 2:\n                        this.eraseLine(this.y);\n                        break;\n                }\n            };\n            /**\n             * CSI Pm m  Character Attributes (SGR).\n             *     Ps = 0  -> Normal (default).\n             *     Ps = 1  -> Bold.\n             *     Ps = 4  -> Underlined.\n             *     Ps = 5  -> Blink (appears as Bold).\n             *     Ps = 7  -> Inverse.\n             *     Ps = 8  -> Invisible, i.e., hidden (VT300).\n             *     Ps = 2 2  -> Normal (neither bold nor faint).\n             *     Ps = 2 4  -> Not underlined.\n             *     Ps = 2 5  -> Steady (not blinking).\n             *     Ps = 2 7  -> Positive (not inverse).\n             *     Ps = 2 8  -> Visible, i.e., not hidden (VT300).\n             *     Ps = 3 0  -> Set foreground color to Black.\n             *     Ps = 3 1  -> Set foreground color to Red.\n             *     Ps = 3 2  -> Set foreground color to Green.\n             *     Ps = 3 3  -> Set foreground color to Yellow.\n             *     Ps = 3 4  -> Set foreground color to Blue.\n             *     Ps = 3 5  -> Set foreground color to Magenta.\n             *     Ps = 3 6  -> Set foreground color to Cyan.\n             *     Ps = 3 7  -> Set foreground color to White.\n             *     Ps = 3 9  -> Set foreground color to default (original).\n             *     Ps = 4 0  -> Set background color to Black.\n             *     Ps = 4 1  -> Set background color to Red.\n             *     Ps = 4 2  -> Set background color to Green.\n             *     Ps = 4 3  -> Set background color to Yellow.\n             *     Ps = 4 4  -> Set background color to Blue.\n             *     Ps = 4 5  -> Set background color to Magenta.\n             *     Ps = 4 6  -> Set background color to Cyan.\n             *     Ps = 4 7  -> Set background color to White.\n             *     Ps = 4 9  -> Set background color to default (original).\n             *\n             *   If 16-color support is compiled, the following apply.  Assume\n             *   that xterm's resources are set so that the ISO color codes are\n             *   the first 8 of a set of 16.  Then the aixterm colors are the\n             *   bright versions of the ISO colors:\n             *     Ps = 9 0  -> Set foreground color to Black.\n             *     Ps = 9 1  -> Set foreground color to Red.\n             *     Ps = 9 2  -> Set foreground color to Green.\n             *     Ps = 9 3  -> Set foreground color to Yellow.\n             *     Ps = 9 4  -> Set foreground color to Blue.\n             *     Ps = 9 5  -> Set foreground color to Magenta.\n             *     Ps = 9 6  -> Set foreground color to Cyan.\n             *     Ps = 9 7  -> Set foreground color to White.\n             *     Ps = 1 0 0  -> Set background color to Black.\n             *     Ps = 1 0 1  -> Set background color to Red.\n             *     Ps = 1 0 2  -> Set background color to Green.\n             *     Ps = 1 0 3  -> Set background color to Yellow.\n             *     Ps = 1 0 4  -> Set background color to Blue.\n             *     Ps = 1 0 5  -> Set background color to Magenta.\n             *     Ps = 1 0 6  -> Set background color to Cyan.\n             *     Ps = 1 0 7  -> Set background color to White.\n             *\n             *   If xterm is compiled with the 16-color support disabled, it\n             *   supports the following, from rxvt:\n             *     Ps = 1 0 0  -> Set foreground and background color to\n             *     default.\n             *\n             *   If 88- or 256-color support is compiled, the following apply.\n             *     Ps = 3 8  ; 5  ; Ps -> Set foreground color to the second\n             *     Ps.\n             *     Ps = 4 8  ; 5  ; Ps -> Set background color to the second\n             *     Ps.\n             */\n            Terminal.prototype.charAttributes = function(params) {\n                // Optimize a single SGR0.\n                if (params.length === 1 && params[0] === 0) {\n                    this.curAttr = this.defAttr;\n                    return;\n                }\n                var l = params.length,\n                    i = 0,\n                    flags = this.curAttr >> 18,\n                    fg = (this.curAttr >> 9) & 0x1ff,\n                    bg = this.curAttr & 0x1ff,\n                    p;\n                for (; i < l; i++) {\n                    p = params[i];\n                    if (p >= 30 && p <= 37) {\n                        // fg color 8\n                        fg = p - 30;\n                    } else if (p >= 40 && p <= 47) {\n                        // bg color 8\n                        bg = p - 40;\n                    } else if (p >= 90 && p <= 97) {\n                        // fg color 16\n                        p += 8;\n                        fg = p - 90;\n                    } else if (p >= 100 && p <= 107) {\n                        // bg color 16\n                        p += 8;\n                        bg = p - 100;\n                    } else if (p === 0) {\n                        // default\n                        flags = this.defAttr >> 18;\n                        fg = (this.defAttr >> 9) & 0x1ff;\n                        bg = this.defAttr & 0x1ff;\n                    } else if (p === 1) {\n                        // bold text\n                        flags |= 1;\n                    } else if (p === 4) {\n                        // underlined text\n                        flags |= 2;\n                    } else if (p === 5) {\n                        // blink\n                        flags |= 4;\n                    } else if (p === 7) {\n                        // inverse and positive\n                        // test with: echo -e '\\e[31m\\e[42mhello\\e[7mworld\\e[27mhi\\e[m'\n                        flags |= 8;\n                    } else if (p === 8) {\n                        // invisible\n                        flags |= 16;\n                    } else if (p === 22) {\n                        // not bold\n                        flags &= ~1;\n                    } else if (p === 24) {\n                        // not underlined\n                        flags &= ~2;\n                    } else if (p === 25) {\n                        // not blink\n                        flags &= ~4;\n                    } else if (p === 27) {\n                        // not inverse\n                        flags &= ~8;\n                    } else if (p === 28) {\n                        // not invisible\n                        flags &= ~16;\n                    } else if (p === 39) {\n                        // reset fg\n                        fg = (this.defAttr >> 9) & 0x1ff;\n                    } else if (p === 49) {\n                        // reset bg\n                        bg = this.defAttr & 0x1ff;\n                    } else if (p === 38) {\n                        // fg color 256\n                        if (params[i + 1] === 2) {\n                            i += 2;\n                            fg = matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                            if (fg === -1)\n                                fg = 0x1ff;\n                            i += 2;\n                        } else if (params[i + 1] === 5) {\n                            i += 2;\n                            p = params[i] & 0xff;\n                            fg = p;\n                        }\n                    } else if (p === 48) {\n                        // bg color 256\n                        if (params[i + 1] === 2) {\n                            i += 2;\n                            bg = matchColor(params[i] & 0xff, params[i + 1] & 0xff, params[i + 2] & 0xff);\n                            if (bg === -1)\n                                bg = 0x1ff;\n                            i += 2;\n                        } else if (params[i + 1] === 5) {\n                            i += 2;\n                            p = params[i] & 0xff;\n                            bg = p;\n                        }\n                    } else if (p === 100) {\n                        // reset fg/bg\n                        fg = (this.defAttr >> 9) & 0x1ff;\n                        bg = this.defAttr & 0x1ff;\n                    } else {\n                        this.error('Unknown SGR attribute: %d.', p);\n                    }\n                }\n                this.curAttr = (flags << 18) | (fg << 9) | bg;\n            };\n            /**\n             * CSI Ps n  Device Status Report (DSR).\n             *     Ps = 5  -> Status Report.  Result (``OK'') is\n             *   CSI 0 n\n             *     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n             *   Result is\n             *   CSI r ; c R\n             * CSI ? Ps n\n             *   Device Status Report (DSR, DEC-specific).\n             *     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n             *     ? r ; c R (assumes page is zero).\n             *     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n             *     or CSI ? 1 1  n  (not ready).\n             *     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n             *     or CSI ? 2 1  n  (locked).\n             *     Ps = 2 6  -> Report Keyboard status as\n             *   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n             *   The last two parameters apply to VT400 & up, and denote key-\n             *   board ready and LK01 respectively.\n             *     Ps = 5 3  -> Report Locator status as\n             *   CSI ? 5 3  n  Locator available, if compiled-in, or\n             *   CSI ? 5 0  n  No Locator, if not.\n             */\n            Terminal.prototype.deviceStatus = function(params) {\n                if (!this.prefix) {\n                    switch (params[0]) {\n                        case 5:\n                            // status report\n                            this.send('\\x1b[0n');\n                            break;\n                        case 6:\n                            // cursor position\n                            this.send('\\x1b[' +\n                                (this.y + 1) +\n                                ';' +\n                                (this.x + 1) +\n                                'R');\n                            break;\n                    }\n                } else if (this.prefix === '?') {\n                    // modern xterm doesnt seem to\n                    // respond to any of these except ?6, 6, and 5\n                    switch (params[0]) {\n                        case 6:\n                            // cursor position\n                            this.send('\\x1b[?' +\n                                (this.y + 1) +\n                                ';' +\n                                (this.x + 1) +\n                                'R');\n                            break;\n                        case 15:\n                            // no printer\n                            // this.send('\\x1b[?11n');\n                            break;\n                        case 25:\n                            // dont support user defined keys\n                            // this.send('\\x1b[?21n');\n                            break;\n                        case 26:\n                            // north american keyboard\n                            // this.send('\\x1b[?27;1;0;0n');\n                            break;\n                        case 53:\n                            // no dec locator/mouse\n                            // this.send('\\x1b[?50n');\n                            break;\n                    }\n                }\n            };\n            /**\n             * Additions\n             */\n            /**\n             * CSI Ps @\n             * Insert Ps (Blank) Character(s) (default = 1) (ICH).\n             */\n            Terminal.prototype.insertChars = function(params) {\n                var param, row, j, ch;\n                param = params[0];\n                if (param < 1)\n                    param = 1;\n                row = this.y + this.ybase;\n                j = this.x;\n                ch = [this.eraseAttr(), ' ', 1]; // xterm\n                while (param-- && j < this.cols) {\n                    this.lines[row].splice(j++, 0, ch);\n                    this.lines[row].pop();\n                }\n            };\n            /**\n             * CSI Ps E\n             * Cursor Next Line Ps Times (default = 1) (CNL).\n             * same as CSI Ps B ?\n             */\n            Terminal.prototype.cursorNextLine = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.y += param;\n                if (this.y >= this.rows) {\n                    this.y = this.rows - 1;\n                }\n                this.x = 0;\n            };\n            /**\n             * CSI Ps F\n             * Cursor Preceding Line Ps Times (default = 1) (CNL).\n             * reuse CSI Ps A ?\n             */\n            Terminal.prototype.cursorPrecedingLine = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.y -= param;\n                if (this.y < 0)\n                    this.y = 0;\n                this.x = 0;\n            };\n            /**\n             * CSI Ps G\n             * Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n             */\n            Terminal.prototype.cursorCharAbsolute = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.x = param - 1;\n            };\n            /**\n             * CSI Ps L\n             * Insert Ps Line(s) (default = 1) (IL).\n             */\n            Terminal.prototype.insertLines = function(params) {\n                var param, row, j;\n                param = params[0];\n                if (param < 1)\n                    param = 1;\n                row = this.y + this.ybase;\n                j = this.rows - 1 - this.scrollBottom;\n                j = this.rows - 1 + this.ybase - j + 1;\n                while (param--) {\n                    // test: echo -e '\\e[44m\\e[1L\\e[0m'\n                    // blankLine(true) - xterm/linux behavior\n                    this.lines.splice(row, 0, this.blankLine(true));\n                    this.lines.splice(j, 1);\n                }\n                // this.maxRange();\n                this.updateRange(this.y);\n                this.updateRange(this.scrollBottom);\n            };\n            /**\n             * CSI Ps M\n             * Delete Ps Line(s) (default = 1) (DL).\n             */\n            Terminal.prototype.deleteLines = function(params) {\n                var param, row, j;\n                param = params[0];\n                if (param < 1)\n                    param = 1;\n                row = this.y + this.ybase;\n                j = this.rows - 1 - this.scrollBottom;\n                j = this.rows - 1 + this.ybase - j;\n                while (param--) {\n                    // test: echo -e '\\e[44m\\e[1M\\e[0m'\n                    // blankLine(true) - xterm/linux behavior\n                    this.lines.splice(j + 1, 0, this.blankLine(true));\n                    this.lines.splice(row, 1);\n                }\n                // this.maxRange();\n                this.updateRange(this.y);\n                this.updateRange(this.scrollBottom);\n            };\n            /**\n             * CSI Ps P\n             * Delete Ps Character(s) (default = 1) (DCH).\n             */\n            Terminal.prototype.deleteChars = function(params) {\n                var param, row, ch;\n                param = params[0];\n                if (param < 1)\n                    param = 1;\n                row = this.y + this.ybase;\n                ch = [this.eraseAttr(), ' ', 1]; // xterm\n                while (param--) {\n                    this.lines[row].splice(this.x, 1);\n                    this.lines[row].push(ch);\n                }\n            };\n            /**\n             * CSI Ps X\n             * Erase Ps Character(s) (default = 1) (ECH).\n             */\n            Terminal.prototype.eraseChars = function(params) {\n                var param, row, j, ch;\n                param = params[0];\n                if (param < 1)\n                    param = 1;\n                row = this.y + this.ybase;\n                j = this.x;\n                ch = [this.eraseAttr(), ' ', 1]; // xterm\n                while (param-- && j < this.cols) {\n                    this.lines[row][j++] = ch;\n                }\n            };\n            /**\n             * CSI Pm `  Character Position Absolute\n             *   [column] (default = [row,1]) (HPA).\n             */\n            Terminal.prototype.charPosAbsolute = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.x = param - 1;\n                if (this.x >= this.cols) {\n                    this.x = this.cols - 1;\n                }\n            };\n            /**\n             * 141 61 a * HPR -\n             * Horizontal Position Relative\n             * reuse CSI Ps C ?\n             */\n            Terminal.prototype.HPositionRelative = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.x += param;\n                if (this.x >= this.cols) {\n                    this.x = this.cols - 1;\n                }\n            };\n            /**\n             * CSI Ps c  Send Device Attributes (Primary DA).\n             *     Ps = 0  or omitted -> request attributes from terminal.  The\n             *     response depends on the decTerminalID resource setting.\n             *     -> CSI ? 1 ; 2 c  (``VT100 with Advanced Video Option'')\n             *     -> CSI ? 1 ; 0 c  (``VT101 with No Options'')\n             *     -> CSI ? 6 c  (``VT102'')\n             *     -> CSI ? 6 0 ; 1 ; 2 ; 6 ; 8 ; 9 ; 1 5 ; c  (``VT220'')\n             *   The VT100-style response parameters do not mean anything by\n             *   themselves.  VT220 parameters do, telling the host what fea-\n             *   tures the terminal supports:\n             *     Ps = 1  -> 132-columns.\n             *     Ps = 2  -> Printer.\n             *     Ps = 6  -> Selective erase.\n             *     Ps = 8  -> User-defined keys.\n             *     Ps = 9  -> National replacement character sets.\n             *     Ps = 1 5  -> Technical characters.\n             *     Ps = 2 2  -> ANSI color, e.g., VT525.\n             *     Ps = 2 9  -> ANSI text locator (i.e., DEC Locator mode).\n             * CSI > Ps c\n             *   Send Device Attributes (Secondary DA).\n             *     Ps = 0  or omitted -> request the terminal's identification\n             *     code.  The response depends on the decTerminalID resource set-\n             *     ting.  It should apply only to VT220 and up, but xterm extends\n             *     this to VT100.\n             *     -> CSI  > Pp ; Pv ; Pc c\n             *   where Pp denotes the terminal type\n             *     Pp = 0  -> ``VT100''.\n             *     Pp = 1  -> ``VT220''.\n             *   and Pv is the firmware version (for xterm, this was originally\n             *   the XFree86 patch number, starting with 95).  In a DEC termi-\n             *   nal, Pc indicates the ROM cartridge registration number and is\n             *   always zero.\n             * More information:\n             *   xterm/charproc.c - line 2012, for more information.\n             *   vim responds with ^[[?0c or ^[[?1c after the terminal's response (?)\n             */\n            Terminal.prototype.sendDeviceAttributes = function(params) {\n                if (params[0] > 0)\n                    return;\n                if (!this.prefix) {\n                    if (this.is('xterm') ||\n                        this.is('rxvt-unicode') ||\n                        this.is('screen')) {\n                        this.send('\\x1b[?1;2c');\n                    } else if (this.is('linux')) {\n                        this.send('\\x1b[?6c');\n                    }\n                } else if (this.prefix === '>') {\n                    // xterm and urxvt\n                    // seem to spit this\n                    // out around ~370 times (?).\n                    if (this.is('xterm')) {\n                        this.send('\\x1b[>0;276;0c');\n                    } else if (this.is('rxvt-unicode')) {\n                        this.send('\\x1b[>85;95;0c');\n                    } else if (this.is('linux')) {\n                        // not supported by linux console.\n                        // linux console echoes parameters.\n                        this.send(params[0] + 'c');\n                    } else if (this.is('screen')) {\n                        this.send('\\x1b[>83;40003;0c');\n                    }\n                }\n            };\n            /**\n             * CSI Pm d\n             * Line Position Absolute  [row] (default = [1,column]) (VPA).\n             */\n            Terminal.prototype.linePosAbsolute = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.y = param - 1;\n                if (this.y >= this.rows) {\n                    this.y = this.rows - 1;\n                }\n            };\n            /**\n             * 145 65 e * VPR - Vertical Position Relative\n             * reuse CSI Ps B ?\n             */\n            Terminal.prototype.VPositionRelative = function(params) {\n                var param = params[0];\n                if (param < 1)\n                    param = 1;\n                this.y += param;\n                if (this.y >= this.rows) {\n                    this.y = this.rows - 1;\n                }\n            };\n            /**\n             * CSI Ps ; Ps f\n             *   Horizontal and Vertical Position [row;column] (default =\n             *   [1,1]) (HVP).\n             */\n            Terminal.prototype.HVPosition = function(params) {\n                if (params[0] < 1)\n                    params[0] = 1;\n                if (params[1] < 1)\n                    params[1] = 1;\n                this.y = params[0] - 1;\n                if (this.y >= this.rows) {\n                    this.y = this.rows - 1;\n                }\n                this.x = params[1] - 1;\n                if (this.x >= this.cols) {\n                    this.x = this.cols - 1;\n                }\n            };\n            /**\n             * CSI Pm h  Set Mode (SM).\n             *     Ps = 2  -> Keyboard Action Mode (AM).\n             *     Ps = 4  -> Insert Mode (IRM).\n             *     Ps = 1 2  -> Send/receive (SRM).\n             *     Ps = 2 0  -> Automatic Newline (LNM).\n             * CSI ? Pm h\n             *   DEC Private Mode Set (DECSET).\n             *     Ps = 1  -> Application Cursor Keys (DECCKM).\n             *     Ps = 2  -> Designate USASCII for character sets G0-G3\n             *     (DECANM), and set VT100 mode.\n             *     Ps = 3  -> 132 Column Mode (DECCOLM).\n             *     Ps = 4  -> Smooth (Slow) Scroll (DECSCLM).\n             *     Ps = 5  -> Reverse Video (DECSCNM).\n             *     Ps = 6  -> Origin Mode (DECOM).\n             *     Ps = 7  -> Wraparound Mode (DECAWM).\n             *     Ps = 8  -> Auto-repeat Keys (DECARM).\n             *     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n             *     tion Mouse Tracking.\n             *     Ps = 1 0  -> Show toolbar (rxvt).\n             *     Ps = 1 2  -> Start Blinking Cursor (att610).\n             *     Ps = 1 8  -> Print form feed (DECPFF).\n             *     Ps = 1 9  -> Set print extent to full screen (DECPEX).\n             *     Ps = 2 5  -> Show Cursor (DECTCEM).\n             *     Ps = 3 0  -> Show scrollbar (rxvt).\n             *     Ps = 3 5  -> Enable font-shifting functions (rxvt).\n             *     Ps = 3 8  -> Enter Tektronix Mode (DECTEK).\n             *     Ps = 4 0  -> Allow 80 -> 132 Mode.\n             *     Ps = 4 1  -> more(1) fix (see curses resource).\n             *     Ps = 4 2  -> Enable Nation Replacement Character sets (DECN-\n             *     RCM).\n             *     Ps = 4 4  -> Turn On Margin Bell.\n             *     Ps = 4 5  -> Reverse-wraparound Mode.\n             *     Ps = 4 6  -> Start Logging.  This is normally disabled by a\n             *     compile-time option.\n             *     Ps = 4 7  -> Use Alternate Screen Buffer.  (This may be dis-\n             *     abled by the titeInhibit resource).\n             *     Ps = 6 6  -> Application keypad (DECNKM).\n             *     Ps = 6 7  -> Backarrow key sends backspace (DECBKM).\n             *     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n             *     release.  See the section Mouse Tracking.\n             *     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n             *     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n             *     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n             *     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n             *     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n             *     Ps = 1 0 1 0  -> Scroll to bottom on tty output (rxvt).\n             *     Ps = 1 0 1 1  -> Scroll to bottom on key press (rxvt).\n             *     Ps = 1 0 3 4  -> Interpret \"meta\" key, sets eighth bit.\n             *     (enables the eightBitInput resource).\n             *     Ps = 1 0 3 5  -> Enable special modifiers for Alt and Num-\n             *     Lock keys.  (This enables the numLock resource).\n             *     Ps = 1 0 3 6  -> Send ESC   when Meta modifies a key.  (This\n             *     enables the metaSendsEscape resource).\n             *     Ps = 1 0 3 7  -> Send DEL from the editing-keypad Delete\n             *     key.\n             *     Ps = 1 0 3 9  -> Send ESC  when Alt modifies a key.  (This\n             *     enables the altSendsEscape resource).\n             *     Ps = 1 0 4 0  -> Keep selection even if not highlighted.\n             *     (This enables the keepSelection resource).\n             *     Ps = 1 0 4 1  -> Use the CLIPBOARD selection.  (This enables\n             *     the selectToClipboard resource).\n             *     Ps = 1 0 4 2  -> Enable Urgency window manager hint when\n             *     Control-G is received.  (This enables the bellIsUrgent\n             *     resource).\n             *     Ps = 1 0 4 3  -> Enable raising of the window when Control-G\n             *     is received.  (enables the popOnBell resource).\n             *     Ps = 1 0 4 7  -> Use Alternate Screen Buffer.  (This may be\n             *     disabled by the titeInhibit resource).\n             *     Ps = 1 0 4 8  -> Save cursor as in DECSC.  (This may be dis-\n             *     abled by the titeInhibit resource).\n             *     Ps = 1 0 4 9  -> Save cursor as in DECSC and use Alternate\n             *     Screen Buffer, clearing it first.  (This may be disabled by\n             *     the titeInhibit resource).  This combines the effects of the 1\n             *     0 4 7  and 1 0 4 8  modes.  Use this with terminfo-based\n             *     applications rather than the 4 7  mode.\n             *     Ps = 1 0 5 0  -> Set terminfo/termcap function-key mode.\n             *     Ps = 1 0 5 1  -> Set Sun function-key mode.\n             *     Ps = 1 0 5 2  -> Set HP function-key mode.\n             *     Ps = 1 0 5 3  -> Set SCO function-key mode.\n             *     Ps = 1 0 6 0  -> Set legacy keyboard emulation (X11R6).\n             *     Ps = 1 0 6 1  -> Set VT220 keyboard emulation.\n             *     Ps = 2 0 0 4  -> Set bracketed paste mode.\n             * Modes:\n             *   http: *vt100.net/docs/vt220-rm/chapter4.html\n             */\n            Terminal.prototype.setMode = function(params) {\n                if (typeof params === 'object') {\n                    var l = params.length,\n                        i = 0;\n                    for (; i < l; i++) {\n                        this.setMode(params[i]);\n                    }\n                    return;\n                }\n                if (!this.prefix) {\n                    switch (params) {\n                        case 4:\n                            this.insertMode = true;\n                            break;\n                        case 20:\n                            //this.convertEol = true;\n                            break;\n                    }\n                } else if (this.prefix === '?') {\n                    switch (params) {\n                        case 1:\n                            this.applicationCursor = true;\n                            break;\n                        case 2:\n                            this.setgCharset(0, Terminal.charsets.US);\n                            this.setgCharset(1, Terminal.charsets.US);\n                            this.setgCharset(2, Terminal.charsets.US);\n                            this.setgCharset(3, Terminal.charsets.US);\n                            // set VT100 mode here\n                            break;\n                        case 3:\n                            this.savedCols = this.cols;\n                            this.resize(132, this.rows);\n                            break;\n                        case 6:\n                            this.originMode = true;\n                            break;\n                        case 7:\n                            this.wraparoundMode = true;\n                            break;\n                        case 12:\n                            // this.cursorBlink = true;\n                            break;\n                        case 66:\n                            this.log('Serial port requested application keypad.');\n                            this.applicationKeypad = true;\n                            this.viewport.syncScrollArea();\n                            break;\n                        case 9: // X10 Mouse\n                        // no release, no motion, no wheel, no modifiers.\n                        case 1000: // vt200 mouse\n                        // no motion.\n                        // no modifiers, except control on the wheel.\n                        case 1002: // button event mouse\n                        case 1003:\n                            // any event - sends motion events,\n                            // even if there is no button held down.\n                            this.x10Mouse = params === 9;\n                            this.vt200Mouse = params === 1000;\n                            this.normalMouse = params > 1000;\n                            this.mouseEvents = true;\n                            this.element.style.cursor = 'default';\n                            this.log('Binding to mouse events.');\n                            break;\n                        case 1004:\n                            // focusin: ^[[I\n                            // focusout: ^[[O\n                            this.sendFocus = true;\n                            break;\n                        case 1005:\n                            this.utfMouse = true;\n                            // for wide terminals\n                            // simply encodes large values as utf8 characters\n                            break;\n                        case 1006:\n                            this.sgrMouse = true;\n                            // for wide terminals\n                            // does not add 32 to fields\n                            // press: ^[[<b;x;yM\n                            // release: ^[[<b;x;ym\n                            break;\n                        case 1015:\n                            this.urxvtMouse = true;\n                            // for wide terminals\n                            // numbers for fields\n                            // press: ^[[b;x;yM\n                            // motion: ^[[b;x;yT\n                            break;\n                        case 25:\n                            this.cursorHidden = false;\n                            break;\n                        case 1049:\n                            //this.saveCursor();\n                            ; // FALL-THROUGH\n                        case 47: // alt screen buffer\n                        case 1047:\n                            if (!this.normal) {\n                                var normal = {\n                                    lines: this.lines,\n                                    ybase: this.ybase,\n                                    ydisp: this.ydisp,\n                                    x: this.x,\n                                    y: this.y,\n                                    scrollTop: this.scrollTop,\n                                    scrollBottom: this.scrollBottom,\n                                    tabs: this.tabs\n                                };\n                                this.reset();\n                                this.normal = normal;\n                                this.showCursor();\n                            }\n                            break;\n                    }\n                }\n            };\n            /**\n             * CSI Pm l  Reset Mode (RM).\n             *     Ps = 2  -> Keyboard Action Mode (AM).\n             *     Ps = 4  -> Replace Mode (IRM).\n             *     Ps = 1 2  -> Send/receive (SRM).\n             *     Ps = 2 0  -> Normal Linefeed (LNM).\n             * CSI ? Pm l\n             *   DEC Private Mode Reset (DECRST).\n             *     Ps = 1  -> Normal Cursor Keys (DECCKM).\n             *     Ps = 2  -> Designate VT52 mode (DECANM).\n             *     Ps = 3  -> 80 Column Mode (DECCOLM).\n             *     Ps = 4  -> Jump (Fast) Scroll (DECSCLM).\n             *     Ps = 5  -> Normal Video (DECSCNM).\n             *     Ps = 6  -> Normal Cursor Mode (DECOM).\n             *     Ps = 7  -> No Wraparound Mode (DECAWM).\n             *     Ps = 8  -> No Auto-repeat Keys (DECARM).\n             *     Ps = 9  -> Don't send Mouse X & Y on button press.\n             *     Ps = 1 0  -> Hide toolbar (rxvt).\n             *     Ps = 1 2  -> Stop Blinking Cursor (att610).\n             *     Ps = 1 8  -> Don't print form feed (DECPFF).\n             *     Ps = 1 9  -> Limit print to scrolling region (DECPEX).\n             *     Ps = 2 5  -> Hide Cursor (DECTCEM).\n             *     Ps = 3 0  -> Don't show scrollbar (rxvt).\n             *     Ps = 3 5  -> Disable font-shifting functions (rxvt).\n             *     Ps = 4 0  -> Disallow 80 -> 132 Mode.\n             *     Ps = 4 1  -> No more(1) fix (see curses resource).\n             *     Ps = 4 2  -> Disable Nation Replacement Character sets (DEC-\n             *     NRCM).\n             *     Ps = 4 4  -> Turn Off Margin Bell.\n             *     Ps = 4 5  -> No Reverse-wraparound Mode.\n             *     Ps = 4 6  -> Stop Logging.  (This is normally disabled by a\n             *     compile-time option).\n             *     Ps = 4 7  -> Use Normal Screen Buffer.\n             *     Ps = 6 6  -> Numeric keypad (DECNKM).\n             *     Ps = 6 7  -> Backarrow key sends delete (DECBKM).\n             *     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n             *     release.  See the section Mouse Tracking.\n             *     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n             *     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n             *     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n             *     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n             *     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n             *     Ps = 1 0 1 0  -> Don't scroll to bottom on tty output\n             *     (rxvt).\n             *     Ps = 1 0 1 1  -> Don't scroll to bottom on key press (rxvt).\n             *     Ps = 1 0 3 4  -> Don't interpret \"meta\" key.  (This disables\n             *     the eightBitInput resource).\n             *     Ps = 1 0 3 5  -> Disable special modifiers for Alt and Num-\n             *     Lock keys.  (This disables the numLock resource).\n             *     Ps = 1 0 3 6  -> Don't send ESC  when Meta modifies a key.\n             *     (This disables the metaSendsEscape resource).\n             *     Ps = 1 0 3 7  -> Send VT220 Remove from the editing-keypad\n             *     Delete key.\n             *     Ps = 1 0 3 9  -> Don't send ESC  when Alt modifies a key.\n             *     (This disables the altSendsEscape resource).\n             *     Ps = 1 0 4 0  -> Do not keep selection when not highlighted.\n             *     (This disables the keepSelection resource).\n             *     Ps = 1 0 4 1  -> Use the PRIMARY selection.  (This disables\n             *     the selectToClipboard resource).\n             *     Ps = 1 0 4 2  -> Disable Urgency window manager hint when\n             *     Control-G is received.  (This disables the bellIsUrgent\n             *     resource).\n             *     Ps = 1 0 4 3  -> Disable raising of the window when Control-\n             *     G is received.  (This disables the popOnBell resource).\n             *     Ps = 1 0 4 7  -> Use Normal Screen Buffer, clearing screen\n             *     first if in the Alternate Screen.  (This may be disabled by\n             *     the titeInhibit resource).\n             *     Ps = 1 0 4 8  -> Restore cursor as in DECRC.  (This may be\n             *     disabled by the titeInhibit resource).\n             *     Ps = 1 0 4 9  -> Use Normal Screen Buffer and restore cursor\n             *     as in DECRC.  (This may be disabled by the titeInhibit\n             *     resource).  This combines the effects of the 1 0 4 7  and 1 0\n             *     4 8  modes.  Use this with terminfo-based applications rather\n             *     than the 4 7  mode.\n             *     Ps = 1 0 5 0  -> Reset terminfo/termcap function-key mode.\n             *     Ps = 1 0 5 1  -> Reset Sun function-key mode.\n             *     Ps = 1 0 5 2  -> Reset HP function-key mode.\n             *     Ps = 1 0 5 3  -> Reset SCO function-key mode.\n             *     Ps = 1 0 6 0  -> Reset legacy keyboard emulation (X11R6).\n             *     Ps = 1 0 6 1  -> Reset keyboard emulation to Sun/PC style.\n             *     Ps = 2 0 0 4  -> Reset bracketed paste mode.\n             */\n            Terminal.prototype.resetMode = function(params) {\n                if (typeof params === 'object') {\n                    var l = params.length,\n                        i = 0;\n                    for (; i < l; i++) {\n                        this.resetMode(params[i]);\n                    }\n                    return;\n                }\n                if (!this.prefix) {\n                    switch (params) {\n                        case 4:\n                            this.insertMode = false;\n                            break;\n                        case 20:\n                            //this.convertEol = false;\n                            break;\n                    }\n                } else if (this.prefix === '?') {\n                    switch (params) {\n                        case 1:\n                            this.applicationCursor = false;\n                            break;\n                        case 3:\n                            if (this.cols === 132 && this.savedCols) {\n                                this.resize(this.savedCols, this.rows);\n                            }\n                            delete this.savedCols;\n                            break;\n                        case 6:\n                            this.originMode = false;\n                            break;\n                        case 7:\n                            this.wraparoundMode = false;\n                            break;\n                        case 12:\n                            // this.cursorBlink = false;\n                            break;\n                        case 66:\n                            this.log('Switching back to normal keypad.');\n                            this.applicationKeypad = false;\n                            this.viewport.syncScrollArea();\n                            break;\n                        case 9: // X10 Mouse\n                        case 1000: // vt200 mouse\n                        case 1002: // button event mouse\n                        case 1003:\n                            this.x10Mouse = false;\n                            this.vt200Mouse = false;\n                            this.normalMouse = false;\n                            this.mouseEvents = false;\n                            this.element.style.cursor = '';\n                            break;\n                        case 1004:\n                            this.sendFocus = false;\n                            break;\n                        case 1005:\n                            this.utfMouse = false;\n                            break;\n                        case 1006:\n                            this.sgrMouse = false;\n                            break;\n                        case 1015:\n                            this.urxvtMouse = false;\n                            break;\n                        case 25:\n                            this.cursorHidden = true;\n                            break;\n                        case 1049:\n                            ; // FALL-THROUGH\n                        case 47: // normal screen buffer\n                        case 1047:\n                            if (this.normal) {\n                                this.lines = this.normal.lines;\n                                this.ybase = this.normal.ybase;\n                                this.ydisp = this.normal.ydisp;\n                                this.x = this.normal.x;\n                                this.y = this.normal.y;\n                                this.scrollTop = this.normal.scrollTop;\n                                this.scrollBottom = this.normal.scrollBottom;\n                                this.tabs = this.normal.tabs;\n                                this.normal = null;\n                                // if (params === 1049) {\n                                //   this.x = this.savedX;\n                                //   this.y = this.savedY;\n                                // }\n                                this.refresh(0, this.rows - 1);\n                                this.showCursor();\n                            }\n                            break;\n                    }\n                }\n            };\n            /**\n             * CSI Ps ; Ps r\n             *   Set Scrolling Region [top;bottom] (default = full size of win-\n             *   dow) (DECSTBM).\n             * CSI ? Pm r\n             */\n            Terminal.prototype.setScrollRegion = function(params) {\n                if (this.prefix)\n                    return;\n                this.scrollTop = (params[0] || 1) - 1;\n                this.scrollBottom = (params[1] || this.rows) - 1;\n                this.x = 0;\n                this.y = 0;\n            };\n            /**\n             * CSI s\n             *   Save cursor (ANSI.SYS).\n             */\n            Terminal.prototype.saveCursor = function(params) {\n                this.savedX = this.x;\n                this.savedY = this.y;\n            };\n            /**\n             * CSI u\n             *   Restore cursor (ANSI.SYS).\n             */\n            Terminal.prototype.restoreCursor = function(params) {\n                this.x = this.savedX || 0;\n                this.y = this.savedY || 0;\n            };\n            /**\n             * Lesser Used\n             */\n            /**\n             * CSI Ps I\n             *   Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n             */\n            Terminal.prototype.cursorForwardTab = function(params) {\n                var param = params[0] || 1;\n                while (param--) {\n                    this.x = this.nextStop();\n                }\n            };\n            /**\n             * CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n             */\n            Terminal.prototype.scrollUp = function(params) {\n                var param = params[0] || 1;\n                while (param--) {\n                    this.lines.splice(this.ybase + this.scrollTop, 1);\n                    this.lines.splice(this.ybase + this.scrollBottom, 0, this.blankLine());\n                }\n                // this.maxRange();\n                this.updateRange(this.scrollTop);\n                this.updateRange(this.scrollBottom);\n            };\n            /**\n             * CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n             */\n            Terminal.prototype.scrollDown = function(params) {\n                var param = params[0] || 1;\n                while (param--) {\n                    this.lines.splice(this.ybase + this.scrollBottom, 1);\n                    this.lines.splice(this.ybase + this.scrollTop, 0, this.blankLine());\n                }\n                // this.maxRange();\n                this.updateRange(this.scrollTop);\n                this.updateRange(this.scrollBottom);\n            };\n            /**\n             * CSI Ps ; Ps ; Ps ; Ps ; Ps T\n             *   Initiate highlight mouse tracking.  Parameters are\n             *   [func;startx;starty;firstrow;lastrow].  See the section Mouse\n             *   Tracking.\n             */\n            Terminal.prototype.initMouseTracking = function(params) {\n                // Relevant: DECSET 1001\n            };\n            /**\n             * CSI > Ps; Ps T\n             *   Reset one or more features of the title modes to the default\n             *   value.  Normally, \"reset\" disables the feature.  It is possi-\n             *   ble to disable the ability to reset features by compiling a\n             *   different default for the title modes into xterm.\n             *     Ps = 0  -> Do not set window/icon labels using hexadecimal.\n             *     Ps = 1  -> Do not query window/icon labels using hexadeci-\n             *     mal.\n             *     Ps = 2  -> Do not set window/icon labels using UTF-8.\n             *     Ps = 3  -> Do not query window/icon labels using UTF-8.\n             *   (See discussion of \"Title Modes\").\n             */\n            Terminal.prototype.resetTitleModes = function(params) {;\n            };\n            /**\n             * CSI Ps Z  Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n             */\n            Terminal.prototype.cursorBackwardTab = function(params) {\n                var param = params[0] || 1;\n                while (param--) {\n                    this.x = this.prevStop();\n                }\n            };\n            /**\n             * CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n             */\n            Terminal.prototype.repeatPrecedingCharacter = function(params) {\n                var param = params[0] || 1,\n                    line = this.lines[this.ybase + this.y],\n                    ch = line[this.x - 1] || [this.defAttr, ' ', 1];\n                while (param--)\n                    line[this.x++] = ch;\n            };\n            /**\n             * CSI Ps g  Tab Clear (TBC).\n             *     Ps = 0  -> Clear Current Column (default).\n             *     Ps = 3  -> Clear All.\n             * Potentially:\n             *   Ps = 2  -> Clear Stops on Line.\n             *   http://vt100.net/annarbor/aaa-ug/section6.html\n             */\n            Terminal.prototype.tabClear = function(params) {\n                var param = params[0];\n                if (param <= 0) {\n                    delete this.tabs[this.x];\n                } else if (param === 3) {\n                    this.tabs = {};\n                }\n            };\n            /**\n             * CSI Pm i  Media Copy (MC).\n             *     Ps = 0  -> Print screen (default).\n             *     Ps = 4  -> Turn off printer controller mode.\n             *     Ps = 5  -> Turn on printer controller mode.\n             * CSI ? Pm i\n             *   Media Copy (MC, DEC-specific).\n             *     Ps = 1  -> Print line containing cursor.\n             *     Ps = 4  -> Turn off autoprint mode.\n             *     Ps = 5  -> Turn on autoprint mode.\n             *     Ps = 1  0  -> Print composed display, ignores DECPEX.\n             *     Ps = 1  1  -> Print all pages.\n             */\n            Terminal.prototype.mediaCopy = function(params) {;\n            };\n            /**\n             * CSI > Ps; Ps m\n             *   Set or reset resource-values used by xterm to decide whether\n             *   to construct escape sequences holding information about the\n             *   modifiers pressed with a given key.  The first parameter iden-\n             *   tifies the resource to set/reset.  The second parameter is the\n             *   value to assign to the resource.  If the second parameter is\n             *   omitted, the resource is reset to its initial value.\n             *     Ps = 1  -> modifyCursorKeys.\n             *     Ps = 2  -> modifyFunctionKeys.\n             *     Ps = 4  -> modifyOtherKeys.\n             *   If no parameters are given, all resources are reset to their\n             *   initial values.\n             */\n            Terminal.prototype.setResources = function(params) {;\n            };\n            /**\n             * CSI > Ps n\n             *   Disable modifiers which may be enabled via the CSI > Ps; Ps m\n             *   sequence.  This corresponds to a resource value of \"-1\", which\n             *   cannot be set with the other sequence.  The parameter identi-\n             *   fies the resource to be disabled:\n             *     Ps = 1  -> modifyCursorKeys.\n             *     Ps = 2  -> modifyFunctionKeys.\n             *     Ps = 4  -> modifyOtherKeys.\n             *   If the parameter is omitted, modifyFunctionKeys is disabled.\n             *   When modifyFunctionKeys is disabled, xterm uses the modifier\n             *   keys to make an extended sequence of functions rather than\n             *   adding a parameter to each function key to denote the modi-\n             *   fiers.\n             */\n            Terminal.prototype.disableModifiers = function(params) {;\n            };\n            /**\n             * CSI > Ps p\n             *   Set resource value pointerMode.  This is used by xterm to\n             *   decide whether to hide the pointer cursor as the user types.\n             *   Valid values for the parameter:\n             *     Ps = 0  -> never hide the pointer.\n             *     Ps = 1  -> hide if the mouse tracking mode is not enabled.\n             *     Ps = 2  -> always hide the pointer.  If no parameter is\n             *     given, xterm uses the default, which is 1 .\n             */\n            Terminal.prototype.setPointerMode = function(params) {;\n            };\n            /**\n             * CSI ! p   Soft terminal reset (DECSTR).\n             * http://vt100.net/docs/vt220-rm/table4-10.html\n             */\n            Terminal.prototype.softReset = function(params) {\n                this.cursorHidden = false;\n                this.insertMode = false;\n                this.originMode = false;\n                this.wraparoundMode = false; // autowrap\n                this.applicationKeypad = false; // ?\n                this.viewport.syncScrollArea();\n                this.applicationCursor = false;\n                this.scrollTop = 0;\n                this.scrollBottom = this.rows - 1;\n                this.curAttr = this.defAttr;\n                this.x = this.y = 0; // ?\n                this.charset = null;\n                this.glevel = 0; // ??\n                this.charsets = [null]; // ??\n            };\n            /**\n             * CSI Ps$ p\n             *   Request ANSI mode (DECRQM).  For VT300 and up, reply is\n             *     CSI Ps; Pm$ y\n             *   where Ps is the mode number as in RM, and Pm is the mode\n             *   value:\n             *     0 - not recognized\n             *     1 - set\n             *     2 - reset\n             *     3 - permanently set\n             *     4 - permanently reset\n             */\n            Terminal.prototype.requestAnsiMode = function(params) {;\n            };\n            /**\n             * CSI ? Ps$ p\n             *   Request DEC private mode (DECRQM).  For VT300 and up, reply is\n             *     CSI ? Ps; Pm$ p\n             *   where Ps is the mode number as in DECSET, Pm is the mode value\n             *   as in the ANSI DECRQM.\n             */\n            Terminal.prototype.requestPrivateMode = function(params) {;\n            };\n            /**\n             * CSI Ps ; Ps \" p\n             *   Set conformance level (DECSCL).  Valid values for the first\n             *   parameter:\n             *     Ps = 6 1  -> VT100.\n             *     Ps = 6 2  -> VT200.\n             *     Ps = 6 3  -> VT300.\n             *   Valid values for the second parameter:\n             *     Ps = 0  -> 8-bit controls.\n             *     Ps = 1  -> 7-bit controls (always set for VT100).\n             *     Ps = 2  -> 8-bit controls.\n             */\n            Terminal.prototype.setConformanceLevel = function(params) {;\n            };\n            /**\n             * CSI Ps q  Load LEDs (DECLL).\n             *     Ps = 0  -> Clear all LEDS (default).\n             *     Ps = 1  -> Light Num Lock.\n             *     Ps = 2  -> Light Caps Lock.\n             *     Ps = 3  -> Light Scroll Lock.\n             *     Ps = 2  1  -> Extinguish Num Lock.\n             *     Ps = 2  2  -> Extinguish Caps Lock.\n             *     Ps = 2  3  -> Extinguish Scroll Lock.\n             */\n            Terminal.prototype.loadLEDs = function(params) {;\n            };\n            /**\n             * CSI Ps SP q\n             *   Set cursor style (DECSCUSR, VT520).\n             *     Ps = 0  -> blinking block.\n             *     Ps = 1  -> blinking block (default).\n             *     Ps = 2  -> steady block.\n             *     Ps = 3  -> blinking underline.\n             *     Ps = 4  -> steady underline.\n             */\n            Terminal.prototype.setCursorStyle = function(params) {;\n            };\n            /**\n             * CSI Ps \" q\n             *   Select character protection attribute (DECSCA).  Valid values\n             *   for the parameter:\n             *     Ps = 0  -> DECSED and DECSEL can erase (default).\n             *     Ps = 1  -> DECSED and DECSEL cannot erase.\n             *     Ps = 2  -> DECSED and DECSEL can erase.\n             */\n            Terminal.prototype.setCharProtectionAttr = function(params) {;\n            };\n            /**\n             * CSI ? Pm r\n             *   Restore DEC Private Mode Values.  The value of Ps previously\n             *   saved is restored.  Ps values are the same as for DECSET.\n             */\n            Terminal.prototype.restorePrivateValues = function(params) {;\n            };\n            /**\n             * CSI Pt; Pl; Pb; Pr; Ps$ r\n             *   Change Attributes in Rectangular Area (DECCARA), VT400 and up.\n             *     Pt; Pl; Pb; Pr denotes the rectangle.\n             *     Ps denotes the SGR attributes to change: 0, 1, 4, 5, 7.\n             * NOTE: xterm doesn't enable this code by default.\n             */\n            Terminal.prototype.setAttrInRectangle = function(params) {\n                var t = params[0],\n                    l = params[1],\n                    b = params[2],\n                    r = params[3],\n                    attr = params[4];\n                var line, i;\n                for (; t < b + 1; t++) {\n                    line = this.lines[this.ybase + t];\n                    for (i = l; i < r; i++) {\n                        line[i] = [attr, line[i][1]];\n                    }\n                }\n                // this.maxRange();\n                this.updateRange(params[0]);\n                this.updateRange(params[2]);\n            };\n            /**\n             * CSI Pc; Pt; Pl; Pb; Pr$ x\n             *   Fill Rectangular Area (DECFRA), VT420 and up.\n             *     Pc is the character to use.\n             *     Pt; Pl; Pb; Pr denotes the rectangle.\n             * NOTE: xterm doesn't enable this code by default.\n             */\n            Terminal.prototype.fillRectangle = function(params) {\n                var ch = params[0],\n                    t = params[1],\n                    l = params[2],\n                    b = params[3],\n                    r = params[4];\n                var line, i;\n                for (; t < b + 1; t++) {\n                    line = this.lines[this.ybase + t];\n                    for (i = l; i < r; i++) {\n                        line[i] = [line[i][0], String.fromCharCode(ch)];\n                    }\n                }\n                // this.maxRange();\n                this.updateRange(params[1]);\n                this.updateRange(params[3]);\n            };\n            /**\n             * CSI Ps ; Pu ' z\n             *   Enable Locator Reporting (DECELR).\n             *   Valid values for the first parameter:\n             *     Ps = 0  -> Locator disabled (default).\n             *     Ps = 1  -> Locator enabled.\n             *     Ps = 2  -> Locator enabled for one report, then disabled.\n             *   The second parameter specifies the coordinate unit for locator\n             *   reports.\n             *   Valid values for the second parameter:\n             *     Pu = 0  <- or omitted -> default to character cells.\n             *     Pu = 1  <- device physical pixels.\n             *     Pu = 2  <- character cells.\n             */\n            Terminal.prototype.enableLocatorReporting = function(params) {\n                var val = params[0] > 0;\n                //this.mouseEvents = val;\n                //this.decLocator = val;\n            };\n            /**\n             * CSI Pt; Pl; Pb; Pr$ z\n             *   Erase Rectangular Area (DECERA), VT400 and up.\n             *     Pt; Pl; Pb; Pr denotes the rectangle.\n             * NOTE: xterm doesn't enable this code by default.\n             */\n            Terminal.prototype.eraseRectangle = function(params) {\n                var t = params[0],\n                    l = params[1],\n                    b = params[2],\n                    r = params[3];\n                var line, i, ch;\n                ch = [this.eraseAttr(), ' ', 1]; // xterm?\n                for (; t < b + 1; t++) {\n                    line = this.lines[this.ybase + t];\n                    for (i = l; i < r; i++) {\n                        line[i] = ch;\n                    }\n                }\n                // this.maxRange();\n                this.updateRange(params[0]);\n                this.updateRange(params[2]);\n            };\n            /**\n             * CSI P m SP }\n             * Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n             * NOTE: xterm doesn't enable this code by default.\n             */\n            Terminal.prototype.insertColumns = function() {\n                var param = params[0],\n                    l = this.ybase + this.rows,\n                    ch = [this.eraseAttr(), ' ', 1] // xterm?\n                    ,\n                    i;\n                while (param--) {\n                    for (i = this.ybase; i < l; i++) {\n                        this.lines[i].splice(this.x + 1, 0, ch);\n                        this.lines[i].pop();\n                    }\n                }\n                this.maxRange();\n            };\n            /**\n             * CSI P m SP ~\n             * Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n             * NOTE: xterm doesn't enable this code by default.\n             */\n            Terminal.prototype.deleteColumns = function() {\n                var param = params[0],\n                    l = this.ybase + this.rows,\n                    ch = [this.eraseAttr(), ' ', 1] // xterm?\n                    ,\n                    i;\n                while (param--) {\n                    for (i = this.ybase; i < l; i++) {\n                        this.lines[i].splice(this.x, 1);\n                        this.lines[i].push(ch);\n                    }\n                }\n                this.maxRange();\n            };\n            /**\n             * Character Sets\n             */\n            Terminal.charsets = {};\n            // DEC Special Character and Line Drawing Set.\n            // http://vt100.net/docs/vt102-ug/table5-13.html\n            // A lot of curses apps use this if they see TERM=xterm.\n            // testing: echo -e '\\e(0a\\e(B'\n            // The xterm output sometimes seems to conflict with the\n            // reference above. xterm seems in line with the reference\n            // when running vttest however.\n            // The table below now uses xterm's output from vttest.\n            Terminal.charsets.SCLD = {\n                '`': '\\u25c6',\n                'a': '\\u2592',\n                'b': '\\u0009',\n                'c': '\\u000c',\n                'd': '\\u000d',\n                'e': '\\u000a',\n                'f': '\\u00b0',\n                'g': '\\u00b1',\n                'h': '\\u2424',\n                'i': '\\u000b',\n                'j': '\\u2518',\n                'k': '\\u2510',\n                'l': '\\u250c',\n                'm': '\\u2514',\n                'n': '\\u253c',\n                'o': '\\u23ba',\n                'p': '\\u23bb',\n                'q': '\\u2500',\n                'r': '\\u23bc',\n                's': '\\u23bd',\n                't': '\\u251c',\n                'u': '\\u2524',\n                'v': '\\u2534',\n                'w': '\\u252c',\n                'x': '\\u2502',\n                'y': '\\u2264',\n                'z': '\\u2265',\n                '{': '\\u03c0',\n                '|': '\\u2260',\n                '}': '\\u00a3',\n                '~': '\\u00b7' // '·'\n            };\n            Terminal.charsets.UK = null; // (A\n            Terminal.charsets.US = null; // (B (USASCII)\n            Terminal.charsets.Dutch = null; // (4\n            Terminal.charsets.Finnish = null; // (C or (5\n            Terminal.charsets.French = null; // (R\n            Terminal.charsets.FrenchCanadian = null; // (Q\n            Terminal.charsets.German = null; // (K\n            Terminal.charsets.Italian = null; // (Y\n            Terminal.charsets.NorwegianDanish = null; // (E or (6\n            Terminal.charsets.Spanish = null; // (Z\n            Terminal.charsets.Swedish = null; // (H or (7\n            Terminal.charsets.Swiss = null; // (=\n            Terminal.charsets.ISOLatin = null; // /A\n            /**\n             * Helpers\n             */\n            function on(el, type, handler, capture) {\n                if (!Array.isArray(el)) {\n                    el = [el];\n                }\n                el.forEach(function(element) {\n                    element.addEventListener(type, handler, capture || false);\n                });\n            }\n\n            function off(el, type, handler, capture) {\n                el.removeEventListener(type, handler, capture || false);\n            }\n\n            function cancel(ev, force) {\n                if (!this.cancelEvents && !force) {\n                    return;\n                }\n                ev.preventDefault();\n                ev.stopPropagation();\n                return false;\n            }\n\n            function inherits(child, parent) {\n                function f() {\n                    this.constructor = child;\n                }\n                f.prototype = parent.prototype;\n                child.prototype = new f;\n            }\n            // if bold is broken, we can't\n            // use it in the terminal.\n            function isBoldBroken(document) {\n                var body = document.getElementsByTagName('body')[0];\n                var el = document.createElement('span');\n                el.innerHTML = 'hello world';\n                body.appendChild(el);\n                var w1 = el.scrollWidth;\n                el.style.fontWeight = 'bold';\n                var w2 = el.scrollWidth;\n                body.removeChild(el);\n                return w1 !== w2;\n            }\n\n            function indexOf(obj, el) {\n                var i = obj.length;\n                while (i--) {\n                    if (obj[i] === el)\n                        return i;\n                }\n                return -1;\n            }\n\n            function isThirdLevelShift(term, ev) {\n                var thirdLevelKey = (term.browser.isMac && ev.altKey && !ev.ctrlKey && !ev.metaKey) ||\n                    (term.browser.isMSWindows && ev.altKey && ev.ctrlKey && !ev.metaKey);\n                if (ev.type == 'keypress') {\n                    return thirdLevelKey;\n                }\n                // Don't invoke for arrows, pageDown, home, backspace, etc. (on non-keypress events)\n                return thirdLevelKey && (!ev.keyCode || ev.keyCode > 47);\n            }\n\n            function matchColor(r1, g1, b1) {\n                var hash = (r1 << 16) | (g1 << 8) | b1;\n                if (matchColor._cache[hash] != null) {\n                    return matchColor._cache[hash];\n                }\n                var ldiff = Infinity,\n                    li = -1,\n                    i = 0,\n                    c, r2, g2, b2, diff;\n                for (; i < Terminal.vcolors.length; i++) {\n                    c = Terminal.vcolors[i];\n                    r2 = c[0];\n                    g2 = c[1];\n                    b2 = c[2];\n                    diff = matchColor.distance(r1, g1, b1, r2, g2, b2);\n                    if (diff === 0) {\n                        li = i;\n                        break;\n                    }\n                    if (diff < ldiff) {\n                        ldiff = diff;\n                        li = i;\n                    }\n                }\n                return matchColor._cache[hash] = li;\n            }\n            matchColor._cache = {};\n            // http://stackoverflow.com/questions/1633828\n            matchColor.distance = function(r1, g1, b1, r2, g2, b2) {\n                return Math.pow(30 * (r1 - r2), 2) +\n                    Math.pow(59 * (g1 - g2), 2) +\n                    Math.pow(11 * (b1 - b2), 2);\n            };\n\n            function each(obj, iter, con) {\n                if (obj.forEach)\n                    return obj.forEach(iter, con);\n                for (var i = 0; i < obj.length; i++) {\n                    iter.call(con, obj[i], i, obj);\n                }\n            }\n\n            function keys(obj) {\n                if (Object.keys)\n                    return Object.keys(obj);\n                var key, keys = [];\n                for (key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        keys.push(key);\n                    }\n                }\n                return keys;\n            }\n            var wcwidth = (function(opts) {\n                // extracted from https://www.cl.cam.ac.uk/%7Emgk25/ucs/wcwidth.c\n                // combining characters\n                var COMBINING = [\n                    [0x0300, 0x036F],\n                    [0x0483, 0x0486],\n                    [0x0488, 0x0489],\n                    [0x0591, 0x05BD],\n                    [0x05BF, 0x05BF],\n                    [0x05C1, 0x05C2],\n                    [0x05C4, 0x05C5],\n                    [0x05C7, 0x05C7],\n                    [0x0600, 0x0603],\n                    [0x0610, 0x0615],\n                    [0x064B, 0x065E],\n                    [0x0670, 0x0670],\n                    [0x06D6, 0x06E4],\n                    [0x06E7, 0x06E8],\n                    [0x06EA, 0x06ED],\n                    [0x070F, 0x070F],\n                    [0x0711, 0x0711],\n                    [0x0730, 0x074A],\n                    [0x07A6, 0x07B0],\n                    [0x07EB, 0x07F3],\n                    [0x0901, 0x0902],\n                    [0x093C, 0x093C],\n                    [0x0941, 0x0948],\n                    [0x094D, 0x094D],\n                    [0x0951, 0x0954],\n                    [0x0962, 0x0963],\n                    [0x0981, 0x0981],\n                    [0x09BC, 0x09BC],\n                    [0x09C1, 0x09C4],\n                    [0x09CD, 0x09CD],\n                    [0x09E2, 0x09E3],\n                    [0x0A01, 0x0A02],\n                    [0x0A3C, 0x0A3C],\n                    [0x0A41, 0x0A42],\n                    [0x0A47, 0x0A48],\n                    [0x0A4B, 0x0A4D],\n                    [0x0A70, 0x0A71],\n                    [0x0A81, 0x0A82],\n                    [0x0ABC, 0x0ABC],\n                    [0x0AC1, 0x0AC5],\n                    [0x0AC7, 0x0AC8],\n                    [0x0ACD, 0x0ACD],\n                    [0x0AE2, 0x0AE3],\n                    [0x0B01, 0x0B01],\n                    [0x0B3C, 0x0B3C],\n                    [0x0B3F, 0x0B3F],\n                    [0x0B41, 0x0B43],\n                    [0x0B4D, 0x0B4D],\n                    [0x0B56, 0x0B56],\n                    [0x0B82, 0x0B82],\n                    [0x0BC0, 0x0BC0],\n                    [0x0BCD, 0x0BCD],\n                    [0x0C3E, 0x0C40],\n                    [0x0C46, 0x0C48],\n                    [0x0C4A, 0x0C4D],\n                    [0x0C55, 0x0C56],\n                    [0x0CBC, 0x0CBC],\n                    [0x0CBF, 0x0CBF],\n                    [0x0CC6, 0x0CC6],\n                    [0x0CCC, 0x0CCD],\n                    [0x0CE2, 0x0CE3],\n                    [0x0D41, 0x0D43],\n                    [0x0D4D, 0x0D4D],\n                    [0x0DCA, 0x0DCA],\n                    [0x0DD2, 0x0DD4],\n                    [0x0DD6, 0x0DD6],\n                    [0x0E31, 0x0E31],\n                    [0x0E34, 0x0E3A],\n                    [0x0E47, 0x0E4E],\n                    [0x0EB1, 0x0EB1],\n                    [0x0EB4, 0x0EB9],\n                    [0x0EBB, 0x0EBC],\n                    [0x0EC8, 0x0ECD],\n                    [0x0F18, 0x0F19],\n                    [0x0F35, 0x0F35],\n                    [0x0F37, 0x0F37],\n                    [0x0F39, 0x0F39],\n                    [0x0F71, 0x0F7E],\n                    [0x0F80, 0x0F84],\n                    [0x0F86, 0x0F87],\n                    [0x0F90, 0x0F97],\n                    [0x0F99, 0x0FBC],\n                    [0x0FC6, 0x0FC6],\n                    [0x102D, 0x1030],\n                    [0x1032, 0x1032],\n                    [0x1036, 0x1037],\n                    [0x1039, 0x1039],\n                    [0x1058, 0x1059],\n                    [0x1160, 0x11FF],\n                    [0x135F, 0x135F],\n                    [0x1712, 0x1714],\n                    [0x1732, 0x1734],\n                    [0x1752, 0x1753],\n                    [0x1772, 0x1773],\n                    [0x17B4, 0x17B5],\n                    [0x17B7, 0x17BD],\n                    [0x17C6, 0x17C6],\n                    [0x17C9, 0x17D3],\n                    [0x17DD, 0x17DD],\n                    [0x180B, 0x180D],\n                    [0x18A9, 0x18A9],\n                    [0x1920, 0x1922],\n                    [0x1927, 0x1928],\n                    [0x1932, 0x1932],\n                    [0x1939, 0x193B],\n                    [0x1A17, 0x1A18],\n                    [0x1B00, 0x1B03],\n                    [0x1B34, 0x1B34],\n                    [0x1B36, 0x1B3A],\n                    [0x1B3C, 0x1B3C],\n                    [0x1B42, 0x1B42],\n                    [0x1B6B, 0x1B73],\n                    [0x1DC0, 0x1DCA],\n                    [0x1DFE, 0x1DFF],\n                    [0x200B, 0x200F],\n                    [0x202A, 0x202E],\n                    [0x2060, 0x2063],\n                    [0x206A, 0x206F],\n                    [0x20D0, 0x20EF],\n                    [0x302A, 0x302F],\n                    [0x3099, 0x309A],\n                    [0xA806, 0xA806],\n                    [0xA80B, 0xA80B],\n                    [0xA825, 0xA826],\n                    [0xFB1E, 0xFB1E],\n                    [0xFE00, 0xFE0F],\n                    [0xFE20, 0xFE23],\n                    [0xFEFF, 0xFEFF],\n                    [0xFFF9, 0xFFFB],\n                    [0x10A01, 0x10A03],\n                    [0x10A05, 0x10A06],\n                    [0x10A0C, 0x10A0F],\n                    [0x10A38, 0x10A3A],\n                    [0x10A3F, 0x10A3F],\n                    [0x1D167, 0x1D169],\n                    [0x1D173, 0x1D182],\n                    [0x1D185, 0x1D18B],\n                    [0x1D1AA, 0x1D1AD],\n                    [0x1D242, 0x1D244],\n                    [0xE0001, 0xE0001],\n                    [0xE0020, 0xE007F],\n                    [0xE0100, 0xE01EF]\n                ];\n                // binary search\n                function bisearch(ucs) {\n                    var min = 0;\n                    var max = COMBINING.length - 1;\n                    var mid;\n                    if (ucs < COMBINING[0][0] || ucs > COMBINING[max][1])\n                        return false;\n                    while (max >= min) {\n                        mid = Math.floor((min + max) / 2);\n                        if (ucs > COMBINING[mid][1])\n                            min = mid + 1;\n                        else if (ucs < COMBINING[mid][0])\n                            max = mid - 1;\n                        else\n                            return true;\n                    }\n                    return false;\n                }\n\n                function wcwidth(ucs) {\n                    // test for 8-bit control characters\n                    if (ucs === 0)\n                        return opts.nul;\n                    if (ucs < 32 || (ucs >= 0x7f && ucs < 0xa0))\n                        return opts.control;\n                    // binary search in table of non-spacing characters\n                    if (bisearch(ucs))\n                        return 0;\n                    // if we arrive here, ucs is not a combining or C0/C1 control character\n                    return 1 +\n                        (ucs >= 0x1100 &&\n                            (ucs <= 0x115f ||\n                                ucs == 0x2329 ||\n                                ucs == 0x232a ||\n                                (ucs >= 0x2e80 && ucs <= 0xa4cf && ucs != 0x303f) ||\n                                (ucs >= 0xac00 && ucs <= 0xd7a3) ||\n                                (ucs >= 0xf900 && ucs <= 0xfaff) ||\n                                (ucs >= 0xfe10 && ucs <= 0xfe19) ||\n                                (ucs >= 0xfe30 && ucs <= 0xfe6f) ||\n                                (ucs >= 0xff00 && ucs <= 0xff60) ||\n                                (ucs >= 0xffe0 && ucs <= 0xffe6) ||\n                                (ucs >= 0x20000 && ucs <= 0x2fffd) ||\n                                (ucs >= 0x30000 && ucs <= 0x3fffd)));\n                }\n                return wcwidth;\n            })({\n                nul: 0,\n                control: 0\n            }); // configurable options\n            /**\n             * Expose\n             */\n            Terminal.EventEmitter = EventEmitter_js_1.EventEmitter;\n            Terminal.inherits = inherits;\n            /**\n             * Adds an event listener to the terminal.\n             *\n             * @param {string} event The name of the event. TODO: Document all event types\n             * @param {function} callback The function to call when the event is triggered.\n             */\n            Terminal.on = on;\n            Terminal.off = off;\n            Terminal.cancel = cancel;\n\n            module.exports = Terminal;\n\n        }, {\n            \"./CompositionHelper.js\": 1,\n            \"./EventEmitter.js\": 2,\n            \"./Viewport.js\": 3,\n            \"./handlers/Clipboard.js\": 4,\n            \"./utils/Browser\": 5\n        }]\n    }, {}, [7])(7)\n});\n//# sourceMappingURL=xterm.js.map\n\n\n/*var terminalContainer = document.getElementById('terminal-container');\n\nvar term = new Terminal({\n    cursorBlink: true\n});\n\nterm.open(terminalContainer);\n\nvar shellprompt = '$ ';\n\nterm.prompt = function () {\n    term.write('\\r\\n' + shellprompt);\n};\n\nterm.writeln('Welcome to xterm.js');\nterm.writeln('This is a local terminal emulation, without a real terminal in the back-end.');\nterm.writeln('Type some keys and commands to play around.');\nterm.writeln('');\nterm.prompt();\n\nterm.on('key', function (key, ev) {\n    var printable = (\n        !ev.altKey && !ev.altGraphKey && !ev.ctrlKey && !ev.metaKey\n    );\n\n    if (ev.keyCode == 13) {\n        term.prompt();\n    } else if (ev.keyCode == 8) {\n        // Do not delete the prompt\n        if (term.x > 2) {\n            term.write('\\b \\b');\n        }\n    } else if (printable) {\n        term.write(key);\n    }\n});\n\nterm.on('paste', function (data, ev) {\n    term.write(data);\n});*/\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/modals/ssh/exterm.js\n// module id = 305\n// module chunks = 0","export class Positions\n{\n    columnIndex :number = 0;\n    lineIndex   :number = 0;\n    viewSpacing :number = 30;\n    allX        :number = 0;\n    allY        :number = 0;\n    maxHeight   :number = 0;\n    counter     :number = 0;\n\n    constructor(viewSpacing?:number) {\n        if(viewSpacing)\n            this.viewSpacing = viewSpacing;\n    }\n\n    newPosition(instanceWidth:number, instanceHeight:number):{x:number, y:number, width:number, height:number}\n    {\n        let width :number = instanceWidth;\n        let height:number = instanceHeight;\n\n        if(width > window.innerWidth)\n        {\n            const scale:number = window.innerWidth / width;\n            width = width * scale;\n            height = height * scale;\n        }\n\n        if(this.allX + this.columnIndex * this.viewSpacing + width > window.innerWidth)\n        {\n            this.lineIndex++;\n            this.columnIndex = 0;\n            this.allX = 0;\n            this.allY += this.maxHeight;\n        }\n\n        const posX  :number = this.allX + (this.columnIndex != 0 ? this.viewSpacing : 0);\n        const posY  :number = this.allY + this.lineIndex * this.viewSpacing;\n\n        this.allX           = posX + width;\n        this.maxHeight      = height > this.maxHeight ? height : this.maxHeight;\n\n        this.columnIndex++;\n\n        return { x: posX, y: posY, width: width, height: height }\n    }\n\n    reset()\n    {\n        this.allX = 0;\n        this.allY = 0;\n        this.columnIndex = 0;\n        this.lineIndex = 0;\n        this.maxHeight = 0;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/Positions.ts","import {Directive, ElementRef, Input, Renderer, Renderer2} from \"@angular/core\";\n\n@Directive({\n    selector: '[position]',\n    exportAs: 'position-directive'\n})\nexport class Position {\n\n    @Input('startX') startX: any;\n    @Input('startY') startY: any;\n    @Input('width')  width:  any;\n    @Input('height') height: any;\n\n\n    constructor(public element: ElementRef, public renderer: Renderer) {}\n\n    ngAfterViewInit() {\n        this.renderer.setElementStyle(this.element.nativeElement, 'position', 'absolute');\n        this.renderer.setElementStyle(this.element.nativeElement, 'left', this.startX + 'px');\n        this.renderer.setElementStyle(this.element.nativeElement, 'top', this.startY + 'px');\n        this.renderer.setElementStyle(this.element.nativeElement, 'width', this.width + 'px');\n        this.renderer.setElementStyle(this.element.nativeElement, 'height', this.height + 'px');\n    }\n\n    update(x:number, y:number, width:number, height:number)\n    {\n        this.renderer.setElementStyle(this.element.nativeElement, 'left', x + 'px');\n        this.renderer.setElementStyle(this.element.nativeElement, 'top', y + 'px');\n        this.renderer.setElementStyle(this.element.nativeElement, 'width', width + 'px');\n        this.renderer.setElementStyle(this.element.nativeElement, 'height', height + 'px');\n        \n        \n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/position/Position.ts","import {Component} from \"@angular/core\";\nimport {DataModel} from \"../../../data/DataModel\";\nimport {NavController, NavParams, ViewController} from \"ionic-angular\";\nimport {InstancesComponent} from \"./instances.component\";\nimport {InstancesBrowserComponent} from \"./instances.browser.component\";\nimport {AboutPage} from \"../about/about\";\nimport {TourPage} from \"../../tour/tour\";\n\n@Component({\n    selector: 'page-config',\n    templateUrl: 'config.html'\n})\n\nexport class ConfigPage\n{\n    isHost:boolean = false;\n\n    automaticFetch:boolean = true;\n    interval:number = 1;\n    automaticRotation:boolean = false;\n    detectOnlyChange:boolean = true;\n    enableMadVision:boolean = true;\n    enableTextSpeech:boolean = true;\n    enableAutoReadout:boolean = false;\n    speakInterval:number = 1;\n    happyFaceCompatible:boolean = false;\n\n    constructor(private model: DataModel, private navCtrl:NavController, private navParams: NavParams)\n    {\n        this.isHost = this.model.isHost();\n\n        this.automaticFetch = this.model.configuration.get().automaticFetch;\n        this.interval = this.model.configuration.get().reloadInterval;\n        this.automaticRotation = this.model.configuration.get().automaticRotation;\n        this.detectOnlyChange = this.model.configuration.get().detectOnlyChange;\n        this.enableTextSpeech = this.model.configuration.get().enableTextSpeech;\n        this.enableAutoReadout = this.model.configuration.get().enableAutoReadout;\n        this.speakInterval = this.model.configuration.get().speakInterval;\n        this.happyFaceCompatible = this.model.configuration.get().happyFaceCompatible;\n    }\n\n    notify()\n    {\n        //let model:DataModel = DataModel.getInstance();\n        this.model.configuration.setAutomaticFetch(this.automaticFetch);\n        this.model.configuration.setAutomaticRotation(this.automaticRotation);\n        this.model.configuration.setDetectOnlyChange(this.detectOnlyChange);\n        this.model.configuration.setEnableMadVision(this.enableMadVision);\n        this.model.configuration.setEnableTextSpeech(this.enableTextSpeech);\n        this.model.configuration.setHappyFaceCompatible(this.happyFaceCompatible);\n        this.model.configuration.setEnableAutoReadout(this.enableAutoReadout);\n        this.model.configuration.setReloadInterval(this.interval);\n        this.model.configuration.setSpeakInterval(this.speakInterval);\n\n        this.model.updateLoop();\n    }\n\n    chooseInstance()\n    {\n        this.navCtrl.push(InstancesComponent, {\"viewCtrl\": this.navParams.get('viewCtrl')});\n    }\n\n    tour()\n    {\n        setTimeout(() => {\n            this.closeModal();\n            setTimeout( () => {\n                this.navCtrl.push(TourPage, {});\n                console.log(\"Starting tour\");\n            }, 500);\n        }, 50);\n    }\n\n    about()\n    {\n        this.navCtrl.push(AboutPage, {\"viewCtrl\" : this.navParams.get('viewCtrl')});\n    }\n\n    closeModal()\n    {\n        let viewCtrl:ViewController = this.navParams.get('viewCtrl');\n        viewCtrl.dismiss();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/config/config.ts","import {Component} from \"@angular/core\";\nimport {DataModel} from \"../../data/DataModel\";\nimport {AlertController, NavController} from \"ionic-angular\";\nimport {MonitoringPage} from \"../monitoring/monitoring\";\nimport {Storage} from \"@ionic/storage\";\n\n@Component({\n    templateUrl: \"tour.html\"\n})\n\nexport class TourPage\n{\n    url:string = \"\";\n    restart:boolean = false;\n\n    isLoading:boolean = false;\n\n    constructor(private model:DataModel, private navCtrl: NavController, private storage:Storage,\n                private alertCtrl:AlertController) {}\n\n    ngOnInit()\n    {}\n\n    skip()\n    {\n        console.log(\"SKIP\");\n        this.storage.set(\"startup\", true);\n        this.navCtrl.pop();\n    }\n\n    continue()\n    {\n        console.log(\"CONTINUE\");\n        let alert = this.alertCtrl.create({\n            title: \"Show guide on next startup ?\",\n            buttons: [{\n                text: \"Yes\",\n                handler: () => { this.storage.set(\"startup\", false); this.navCtrl.pop(); }\n            },{\n                text: \"No\",\n                handler: () => { this.storage.set(\"startup\", true);  this.navCtrl.pop(); }\n            }]\n        });\n        alert.setCssClass(\"alertText\");\n        alert.present();\n    }\n\n    slides = [\n        {\n            title: \"Welcome to HappyFace Mobile\",\n            description: \"This tour will explain to you the basic functions of this app. <br> If you want to see this tour again, you can find it under <br> Settings [ -> Extended Settings] -> Tour.\",\n            image: \"assets/img/tour/happyface-tour-1.png\"\n        },\n        {\n            title: \"Settings\",\n            description: \"In this page, you can choose the distributed Grid computing system to be monitored. You can find it on the top left corner of the monitoring page. It is a good idea to start there right after this tour. The other Settings you be self explaining\",\n            image: \"assets/img/tour/happyface-tour-9.png\"\n        },\n        {\n            title: \"The status badge\",\n            description: \"This badge is on top of the Monitoring and Analyze page. In the picture above you can see it as an example from ATLAS distributed grid computing system. It tells you the status level of the monitored distributed Grid computing system and the failed systems. It also reads it out for you when you tap on it (if you're lazy)\",\n            image: \"assets/img/tour/happyface-tour-2.png\"\n        },\n        {\n            title: \"The systems reports\",\n            description: \"On the Monitoring page, all systems of the monitored distributed Grid computing system report with a screenshot of their status screen. In this example again from the ATLAS distributed computing system. They are ordered by their level of severity. If one system has a critical state, their report picture will turn red.\",\n            image: \"assets/img/tour/happyface-tour-3.png\"\n        },\n        {\n            title: \"The Analyzer page\",\n            description: \"On the Analyzer page, below the status badge, you can display the interconnection between systems (pathway and overall pathway), the stability of the systems over time (analysis), a forecast of their availability (Happy Forecast, still beta) and the classical version of HappyFace Mobile\",\n            image: \"assets/img/tour/happyface-tour-4.png\"\n        },\n        {\n            title: \"The controller page\",\n            description: \"To give you the ability to react on system failures, the controller page lets you remotely connect to any system of the monitored distributed Grid computing system and change it. It also connects you via ticket or email to the responsible administrator in case you need help.\",\n            image: \"assets/img/tour/happyface-tour-5.png\"\n        },\n        {\n            title: \"The visualizer page\",\n            description: \"The visualizer page shows you plots generated by external systems like ATLAS status dashboard. It also provides pretty pictures of computing systems.\",\n            image: \"assets/img/tour/happyface-tour-6.png\"\n        },\n        {\n            title: \"The logs page\",\n            description: \"If anything goes wrong, you can always have a look into the logs of the controlling servers. They might give you a hint of whats going wrong.\",\n            image: \"assets/img/tour/happyface-tour-7.png\"\n        },\n        {\n            title: \"The widget page\",\n            description: \"This page gives you a lot of possibilities to display the information you need from this app and you can reorder them as you like, so it fits your workflow. To modify the widgets you can click on the configuration icon on the top right corner, from there you can also add new ones. If you don't find what you are looking for you can even build your own widgets.\",\n            image: \"assets/img/tour/happyface-tour-8.png\"\n        }\n    ];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tour/tour.ts"],"sourceRoot":""}